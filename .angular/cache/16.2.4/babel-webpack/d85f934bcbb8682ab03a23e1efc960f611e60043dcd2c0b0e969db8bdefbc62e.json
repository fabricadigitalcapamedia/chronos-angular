{"ast":null,"code":"import _asyncToGenerator from \"C:/Claro/chronos-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from '@angular/core';\nimport { InjectionToken, EventEmitter, Directive, Inject, Input, Output, ContentChild, HostBinding, Component, ViewChild, Pipe, ViewChildren, Injectable, PLATFORM_ID, ElementRef, Optional, HostListener, forwardRef, ChangeDetectionStrategy, ContentChildren, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { DOCUMENT, isPlatformServer, CommonModule } from '@angular/common';\nimport { take, takeUntil, skip, switchMap, debounceTime, map, pairwise, auditTime as auditTime$1, startWith as startWith$1, finalize } from 'rxjs/operators';\nimport { BehaviorSubject, Subject, from, takeUntil as takeUntil$1, startWith, auditTime, filter, merge, EMPTY, fromEvent, Observable, interval, animationFrameScheduler } from 'rxjs';\nimport { fromUnixTime, getWeek, getDaysInMonth, differenceInCalendarDays, setDate, addSeconds, addMinutes, addHours, addDays, addWeeks, addMonths, addQuarters, addYears, startOfDay, startOfWeek, startOfMonth, startOfQuarter, startOfYear, endOfDay, endOfWeek, endOfMonth, endOfQuarter, endOfYear, getUnixTime, format, isWeekend, isToday, differenceInDays, differenceInCalendarQuarters, eachMonthOfInterval, eachYearOfInterval, eachWeekOfInterval, eachDayOfInterval, differenceInCalendarYears } from 'date-fns';\nexport { addDays, addHours, addMinutes, addMonths, addQuarters, addSeconds, addWeeks, addYears, differenceInCalendarDays, differenceInCalendarQuarters, differenceInDays, eachDayOfInterval, eachMonthOfInterval, eachWeekOfInterval, endOfDay, endOfMonth, endOfQuarter, endOfWeek, endOfYear, format, fromUnixTime, getDaysInMonth, getUnixTime, getWeek, isToday, isWeekend, setDate, startOfDay, startOfMonth, startOfQuarter, startOfWeek, startOfYear } from 'date-fns';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { coerceBooleanProperty, coerceCssPixelValue } from '@angular/cdk/coercion';\nimport * as i1$1 from '@angular/cdk/scrolling';\nimport { CdkVirtualScrollViewport, ScrollingModule } from '@angular/cdk/scrolling';\nimport * as i2 from '@angular/cdk/drag-drop';\nimport { CdkDrag, DragDropModule } from '@angular/cdk/drag-drop';\nimport { __decorate, __param } from 'tslib';\nconst _c0 = [\"bar\"];\nconst _c1 = [\"range\"];\nconst _c2 = [\"item\"];\nconst _c3 = [\"baseline\"];\nconst _c4 = [\"group\"];\nconst _c5 = [\"groupHeader\"];\nconst _c6 = [\"toolbar\"];\nconst _c7 = [\"cell\"];\nconst _c8 = [\"header\"];\nconst _c9 = [\"rowBeforeSlot\"];\nconst _c10 = [\"rowAfterSlot\"];\nconst _c11 = [\"tableEmpty\"];\nconst _c12 = [\"tableFooter\"];\nconst _c13 = [\"resizeLine\"];\nfunction GanttTableHeaderComponent_div_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 9);\n  }\n  if (rf & 2) {\n    const column_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngTemplateOutlet\", column_r2.headerTemplateRef);\n  }\n}\nfunction GanttTableHeaderComponent_div_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const column_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", column_r2.name, \" \");\n  }\n}\nfunction GanttTableHeaderComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtemplate(1, GanttTableHeaderComponent_div_1_ng_container_1_Template, 1, 1, \"ng-container\", 6);\n    i0.ɵɵtemplate(2, GanttTableHeaderComponent_div_1_ng_template_2_Template, 1, 1, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(4, \"div\", 8);\n    i0.ɵɵlistener(\"cdkDragMoved\", function GanttTableHeaderComponent_div_1_Template_div_cdkDragMoved_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const column_r2 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onResizeMoved($event, column_r2));\n    })(\"cdkDragStarted\", function GanttTableHeaderComponent_div_1_Template_div_cdkDragStarted_4_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onResizeStarted($event));\n    })(\"cdkDragEnded\", function GanttTableHeaderComponent_div_1_Template_div_cdkDragEnded_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const column_r2 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onResizeEnded($event, column_r2));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const column_r2 = ctx.$implicit;\n    const _r5 = i0.ɵɵreference(3);\n    i0.ɵɵstyleProp(\"width\", column_r2.columnWidth);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r2.headerTemplateRef)(\"ngIfElse\", _r5);\n  }\n}\nfunction GanttTableBodyComponent_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"gantt-icon\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵtext(3, \"\\u6CA1\\u6709\\u6570\\u636E\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction GanttTableBodyComponent_ng_container_1_ng_template_2_Template(rf, ctx) {}\nfunction GanttTableBodyComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GanttTableBodyComponent_ng_container_1_ng_container_1_Template, 4, 0, \"ng-container\", 1);\n    i0.ɵɵtemplate(2, GanttTableBodyComponent_ng_container_1_ng_template_2_Template, 0, 0, \"ng-template\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.emptyTemplate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.emptyTemplate);\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_ng_container_3_ng_template_1_Template(rf, ctx) {}\nconst _c14 = function (a0, a1) {\n  return {\n    $implicit: a0,\n    group: a1\n  };\n};\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_ng_container_3_ng_template_1_Template, 0, 0, \"ng-template\", 13);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r8.groupTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(2, _c14, item_r5.origin, item_r5.origin));\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r5.title);\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9);\n    i0.ɵɵlistener(\"click\", function GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const item_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.expandGroup(item_r5));\n    });\n    i0.ɵɵelement(2, \"gantt-icon\", 10);\n    i0.ɵɵtemplate(3, GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_ng_container_3_Template, 2, 5, \"ng-container\", 11);\n    i0.ɵɵtemplate(4, GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_ng_template_4_Template, 2, 1, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const _r9 = i0.ɵɵreference(5);\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", item_r5.class);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"expanded\", item_r5.expanded);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"iconName\", item_r5.expanded ? \"angle-down\" : \"angle-right\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.groupTemplate)(\"ngIfElse\", _r9);\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_ng_template_2_Template(rf, ctx) {}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_gantt_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"gantt-icon\", 21);\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r23 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"cdkDragHandleDisabled\", ctx_r23.draggable && item_r5.itemDraggable === false || !ctx_r23.draggable);\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_gantt_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"gantt-icon\", 25);\n    i0.ɵɵlistener(\"click\", function GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_gantt_icon_1_Template_gantt_icon_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const item_r5 = i0.ɵɵnextContext(5).$implicit;\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.expandChildren($event, item_r5));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext(5).$implicit;\n    i0.ɵɵproperty(\"iconName\", item_r5.expanded ? \"angle-down\" : \"angle-right\");\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_gantt_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"gantt-icon\", 26);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"iconName\", \"loading\");\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_gantt_icon_1_Template, 1, 1, \"gantt-icon\", 23);\n    i0.ɵɵtemplate(2, GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_gantt_icon_2_Template, 1, 1, \"gantt-icon\", 24);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext(4).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r5.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r5.loading);\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtemplate(1, GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_Template, 3, 2, \"ng-container\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"margin-left\", item_r5.level * 20, \"px\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r5.level < ctx_r24.gantt.maxLevel - 1 && (ctx_r24.gantt.async && item_r5.expandable || (item_r5.children == null ? null : item_r5.children.length) > 0));\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_ng_template_4_Template(rf, ctx) {}\nconst _c15 = function (a0, a1) {\n  return {\n    $implicit: a0,\n    item: a1\n  };\n};\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_gantt_icon_1_Template, 1, 1, \"gantt-icon\", 18);\n    i0.ɵɵtemplate(2, GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_Template, 2, 3, \"div\", 19);\n    i0.ɵɵelementStart(3, \"div\", 20);\n    i0.ɵɵtemplate(4, GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_ng_template_4_Template, 0, 0, \"ng-template\", 13);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const column_r21 = ctx.$implicit;\n    const first_r22 = ctx.first;\n    const item_r5 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"width\", column_r21.columnWidth);\n    i0.ɵɵproperty(\"classList\", column_r21.classList);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", first_r22 && ctx_r19.draggable);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (column_r21 == null ? null : column_r21.showExpandIcon) || !ctx_r19.hasExpandIcon && first_r22);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", column_r21.templateRef)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(7, _c15, item_r5.origin, item_r5.origin));\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_ng_template_4_Template(rf, ctx) {}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template_div_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r39);\n      const item_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r37.itemClick.emit({\n        event: $event,\n        selectedValue: item_r5.origin\n      }));\n    })(\"cdkDragStarted\", function GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template_div_cdkDragStarted_0_listener($event) {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r40 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r40.onItemDragStarted($event));\n    })(\"cdkDragEnded\", function GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template_div_cdkDragEnded_0_listener($event) {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r41 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r41.onItemDragEnded($event));\n    })(\"cdkDragMoved\", function GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template_div_cdkDragMoved_0_listener($event) {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r42 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r42.emitItemDragMoved($event));\n    });\n    i0.ɵɵpipe(1, \"isGanttRangeItem\");\n    i0.ɵɵtemplate(2, GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_ng_template_2_Template, 0, 0, \"ng-template\", 13);\n    i0.ɵɵtemplate(3, GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_Template, 5, 10, \"div\", 16);\n    i0.ɵɵtemplate(4, GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_ng_template_4_Template, 0, 0, \"ng-template\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"height\", ctx_r7.gantt.styles.lineHeight, \"px\")(\"line-height\", ctx_r7.gantt.styles.lineHeight, \"px\");\n    i0.ɵɵclassProp(\"gantt-table-item-with-group\", ctx_r7.hasGroup)(\"gantt-table-item-first-level-group\", item_r5.level === 0 && i0.ɵɵpipeBind1(1, 17, item_r5.type))(\"gantt-table-item-active\", ctx_r7.ganttUpper.isSelected(item_r5.id));\n    i0.ɵɵproperty(\"cdkDragData\", item_r5)(\"cdkDragDisabled\", ctx_r7.draggable && item_r5.itemDraggable === false || !ctx_r7.draggable);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r7.rowBeforeTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(19, _c15, item_r5.origin, item_r5.origin));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.columns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r7.rowAfterTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(22, _c15, item_r5.origin, item_r5.origin));\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_Template, 6, 6, \"div\", 6);\n    i0.ɵɵtemplate(2, GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template, 5, 25, \"div\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r5.items);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r5.items);\n  }\n}\nfunction GanttTableBodyComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GanttTableBodyComponent_ng_container_2_ng_container_1_Template, 3, 2, \"ng-container\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.viewportItems)(\"ngForTrackBy\", ctx_r1.trackBy);\n  }\n}\nfunction GanttLinksComponent__svg_ng_container_1__svg_defs_4__svg_marker_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"marker\", 8);\n    i0.ɵɵelement(1, \"path\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    const i_r2 = ctx_r7.index;\n    const link_r1 = ctx_r7.$implicit;\n    i0.ɵɵproperty(\"id\", \"triangle\" + i_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"fill\", link_r1.color)(\"stroke\", link_r1.color);\n  }\n}\nfunction GanttLinksComponent__svg_ng_container_1__svg_defs_4__svg_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"marker\", 10);\n    i0.ɵɵelement(1, \"path\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    const i_r2 = ctx_r8.index;\n    const link_r1 = ctx_r8.$implicit;\n    i0.ɵɵproperty(\"id\", \"triangle\" + i_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"fill\", link_r1.color)(\"stroke\", link_r1.color);\n  }\n}\nfunction GanttLinksComponent__svg_ng_container_1__svg_defs_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"defs\");\n    i0.ɵɵtemplate(1, GanttLinksComponent__svg_ng_container_1__svg_defs_4__svg_marker_1_Template, 2, 3, \"marker\", 6);\n    i0.ɵɵtemplate(2, GanttLinksComponent__svg_ng_container_1__svg_defs_4__svg_ng_template_2_Template, 2, 3, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r5 = i0.ɵɵreference(3);\n    const link_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", link_r1.type === ctx_r3.ganttLinkTypes.sf)(\"ngIfElse\", _r5);\n  }\n}\nfunction GanttLinksComponent__svg_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"path\", 3);\n    i0.ɵɵelementStart(2, \"g\")(3, \"path\", 4);\n    i0.ɵɵlistener(\"click\", function GanttLinksComponent__svg_ng_container_1_Template__svg_path_click_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const link_r1 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onLineClick($event, link_r1));\n    })(\"mouseenter\", function GanttLinksComponent__svg_ng_container_1_Template__svg_path_mouseenter_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const link_r1 = restoredCtx.$implicit;\n      const i_r2 = restoredCtx.index;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.mouseEnterPath(link_r1, i_r2));\n    })(\"mouseleave\", function GanttLinksComponent__svg_ng_container_1_Template__svg_path_mouseleave_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const link_r1 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.mouseLeavePath(link_r1));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, GanttLinksComponent__svg_ng_container_1__svg_defs_4_Template, 4, 2, \"defs\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const link_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"d\", link_r1.path)(\"stroke\", link_r1.color)(\"style\", link_r1.type === ctx_r0.ganttLinkTypes.sf ? \"marker-start: url(#triangle\" + i_r2 + \")\" : \"marker-end: url(#triangle\" + i_r2 + \")\", i0.ɵɵsanitizeStyle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"d\", link_r1.path);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showArrow);\n  }\n}\nconst _c16 = [\"content\"];\nconst _c17 = [\"handle\"];\nfunction NgxGanttBarComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"span\", 9, 10)(3, \"span\", 9, 10);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction NgxGanttBarComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"span\", 9);\n    i0.ɵɵelement(2, \"span\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 9);\n    i0.ɵɵelement(4, \"span\", 12);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction NgxGanttBarComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 13);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"width\", ctx_r3.item.progress * 100, \"%\");\n  }\n}\nfunction NgxGanttBarComponent_ng_template_8_Template(rf, ctx) {}\nconst _c18 = function (a0, a1) {\n  return {\n    item: a0,\n    refs: a1\n  };\n};\nfunction NgxGanttRangeComponent_ng_container_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 6);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"width\", ctx_r1.item.progress * 100, \"%\");\n  }\n}\nfunction NgxGanttRangeComponent_ng_container_0_ng_template_5_Template(rf, ctx) {}\nfunction NgxGanttRangeComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵtemplate(2, NgxGanttRangeComponent_ng_container_0_div_2_Template, 1, 2, \"div\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 3)(4, \"div\", 4);\n    i0.ɵɵtemplate(5, NgxGanttRangeComponent_ng_container_0_ng_template_5_Template, 0, 0, \"ng-template\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.item.progress >= 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.template)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(3, _c18, ctx_r0.item.origin, ctx_r0.item.refs));\n  }\n}\nfunction NgxGanttBaselineComponent_div_0_ng_template_2_Template(rf, ctx) {}\nfunction NgxGanttBaselineComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1, 2);\n    i0.ɵɵtemplate(2, NgxGanttBaselineComponent_div_0_ng_template_2_Template, 0, 0, \"ng-template\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.template)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(2, _c18, ctx_r0.baselineItem.origin, ctx_r0.baselineItem.refs));\n  }\n}\nfunction GanttMainComponent_ng_container_2_div_1_ng_template_1_Template(rf, ctx) {}\nconst _c19 = function (a0) {\n  return {\n    group: a0\n  };\n};\nfunction GanttMainComponent_ng_container_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtemplate(1, GanttMainComponent_ng_container_2_div_1_ng_template_1_Template, 0, 0, \"ng-template\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", data_r1.class);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r2.groupHeaderTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(3, _c19, data_r1));\n  }\n}\nfunction GanttMainComponent_ng_container_2_div_2_ng_container_1_ng_template_1_Template(rf, ctx) {}\nconst _c20 = function (a0, a1, a2, a3) {\n  return {\n    item: a0,\n    refs: a1,\n    baseline: a2,\n    baselineRefs: a3\n  };\n};\nfunction GanttMainComponent_ng_container_2_div_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GanttMainComponent_ng_container_2_div_2_ng_container_1_ng_template_1_Template, 0, 0, \"ng-template\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r6.itemTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction4(2, _c20, data_r1.origin, data_r1.refs, ctx_r6.ganttUpper.baselineItemsMap[data_r1.id] == null ? null : ctx_r6.ganttUpper.baselineItemsMap[data_r1.id].origin, ctx_r6.ganttUpper.baselineItemsMap[data_r1.id] == null ? null : ctx_r6.ganttUpper.baselineItemsMap[data_r1.id].refs));\n  }\n}\nfunction GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_range_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"gantt-range\", 12);\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"template\", ctx_r10.rangeTemplate)(\"item\", data_r1);\n  }\n}\nfunction GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_bar_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"gantt-bar\", 13);\n    i0.ɵɵlistener(\"barClick\", function GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_bar_3_Template_gantt_bar_barClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r14.barClick.emit($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"item\", data_r1)(\"template\", ctx_r11.barTemplate);\n  }\n}\nfunction GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_baseline_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"gantt-baseline\", 14);\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"baselineItem\", ctx_r12.ganttUpper.baselineItemsMap[data_r1.id])(\"template\", ctx_r12.baselineTemplate);\n  }\n}\nfunction GanttMainComponent_ng_container_2_div_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_range_1_Template, 1, 2, \"gantt-range\", 9);\n    i0.ɵɵpipe(2, \"isGanttRangeItem\");\n    i0.ɵɵtemplate(3, GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_bar_3_Template, 1, 2, \"gantt-bar\", 10);\n    i0.ɵɵpipe(4, \"isGanttBarItem\");\n    i0.ɵɵtemplate(5, GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_baseline_5_Template, 1, 2, \"gantt-baseline\", 11);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 3, data_r1.type));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 5, data_r1.type));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.ganttUpper.baselineItemsMap[data_r1.id]);\n  }\n}\nfunction GanttMainComponent_ng_container_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, GanttMainComponent_ng_container_2_div_2_ng_container_1_Template, 2, 7, \"ng-container\", 8);\n    i0.ɵɵpipe(2, \"isGanttCustomItem\");\n    i0.ɵɵtemplate(3, GanttMainComponent_ng_container_2_div_2_ng_container_3_Template, 6, 7, \"ng-container\", 8);\n    i0.ɵɵpipe(4, \"isGanttRangeItem\");\n    i0.ɵɵpipe(5, \"isGanttBarItem\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"height\", ctx_r3.ganttUpper.styles.lineHeight, \"px\");\n    i0.ɵɵclassProp(\"gantt-main-item-active\", ctx_r3.ganttUpper.isSelected(data_r1.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 6, data_r1.type));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 8, data_r1.type) || i0.ɵɵpipeBind1(5, 10, data_r1.type));\n  }\n}\nfunction GanttMainComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, GanttMainComponent_ng_container_2_div_1_Template, 2, 5, \"div\", 3);\n    i0.ɵɵtemplate(2, GanttMainComponent_ng_container_2_div_2_Template, 6, 12, \"div\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r1.items);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !data_r1.items);\n  }\n}\nfunction GanttCalendarHeaderComponent__svg_text_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"text\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const point_r3 = ctx.$implicit;\n    i0.ɵɵclassProp(\"today\", point_r3.additions == null ? null : point_r3.additions.isToday)(\"weekend\", point_r3.additions == null ? null : point_r3.additions.isWeekend);\n    i0.ɵɵproperty(\"ngStyle\", point_r3.style);\n    i0.ɵɵattribute(\"x\", point_r3.x)(\"y\", point_r3.y);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", point_r3.text, \" \");\n  }\n}\nfunction GanttCalendarHeaderComponent__svg_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"text\", 7);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const point_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"today\", point_r4.additions == null ? null : point_r4.additions.isToday)(\"weekend\", point_r4.additions == null ? null : point_r4.additions.isWeekend);\n    i0.ɵɵproperty(\"ngStyle\", point_r4.style);\n    i0.ɵɵattribute(\"x\", point_r4.x)(\"y\", point_r4.y);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", point_r4.text, \" \");\n  }\n}\nfunction GanttCalendarHeaderComponent__svg_line_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"line\", 8);\n  }\n  if (rf & 2) {\n    const i_r6 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"x1\", (i_r6 + 1) * ctx_r2.view.primaryWidth)(\"x2\", (i_r6 + 1) * ctx_r2.view.primaryWidth)(\"y1\", 0)(\"y2\", ctx_r2.headerHeight);\n  }\n}\nfunction GanttCalendarGridComponent_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 5);\n  }\n}\nfunction GanttCalendarGridComponent__svg_g_4__svg_line_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"line\", 7);\n  }\n  if (rf & 2) {\n    const i_r5 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"x1\", (i_r5 + 1) * ctx_r3.view.cellWidth)(\"x2\", (i_r5 + 1) * ctx_r3.view.cellWidth)(\"y1\", 0)(\"y2\", ctx_r3.mainHeight);\n  }\n}\nfunction GanttCalendarGridComponent__svg_g_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"g\");\n    i0.ɵɵtemplate(1, GanttCalendarGridComponent__svg_g_4__svg_line_1_Template, 1, 4, \"line\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.view.secondaryDatePoints)(\"ngForTrackBy\", ctx_r1.trackBy);\n  }\n}\nfunction GanttCalendarGridComponent__svg_line_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"line\", 8);\n  }\n  if (rf & 2) {\n    const i_r7 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"x1\", (i_r7 + 1) * ctx_r2.view.primaryWidth)(\"x2\", (i_r7 + 1) * ctx_r2.view.primaryWidth)(\"y1\", 0)(\"y2\", ctx_r2.mainHeight);\n  }\n}\nfunction NgxGanttToolbarComponent_ng_container_1_div_1_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function NgxGanttToolbarComponent_ng_container_1_div_1_ng_container_1_div_1_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const view_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r6.selectView(view_r4));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const view_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"active\", view_r4 === ctx_r5.ganttUpper.viewType);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.ganttViewsMap[view_r4].name, \" \");\n  }\n}\nfunction NgxGanttToolbarComponent_ng_container_1_div_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NgxGanttToolbarComponent_ng_container_1_div_1_ng_container_1_div_1_Template, 2, 3, \"div\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const view_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.ganttViewsMap[view_r4]);\n  }\n}\nfunction NgxGanttToolbarComponent_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtemplate(1, NgxGanttToolbarComponent_ng_container_1_div_1_ng_container_1_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.ganttUpper.toolbarOptions == null ? null : ctx_r2.ganttUpper.toolbarOptions.viewTypes);\n  }\n}\nfunction NgxGanttToolbarComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NgxGanttToolbarComponent_ng_container_1_div_1_Template, 2, 1, \"div\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.ganttUpper.toolbarOptions == null ? null : ctx_r0.ganttUpper.toolbarOptions.viewTypes == null ? null : ctx_r0.ganttUpper.toolbarOptions.viewTypes.length);\n  }\n}\nfunction NgxGanttToolbarComponent_ng_template_2_Template(rf, ctx) {}\nconst _c21 = [\"sideTemplate\"];\nconst _c22 = [\"mainTemplate\"];\nfunction NgxGanttRootComponent_div_0_ng_template_2_Template(rf, ctx) {}\nfunction NgxGanttRootComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4);\n    i0.ɵɵtemplate(2, NgxGanttRootComponent_div_0_ng_template_2_Template, 0, 0, \"ng-template\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"width\", ctx_r0.sideWidth, \"px\")(\"padding-bottom\", ctx_r0.horizontalScrollbarHeight, \"px\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.sideTemplate);\n  }\n}\nfunction NgxGanttRootComponent_div_1_ng_template_5_Template(rf, ctx) {}\nfunction NgxGanttRootComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"gantt-calendar-header\")(2, \"gantt-calendar-grid\")(3, \"gantt-drag-backdrop\");\n    i0.ɵɵelementStart(4, \"div\", 7);\n    i0.ɵɵtemplate(5, NgxGanttRootComponent_div_1_ng_template_5_Template, 0, 0, \"ng-template\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"padding-right\", ctx_r1.verticalScrollbarWidth, \"px\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"padding-right\", ctx_r1.verticalScrollbarWidth, \"px\")(\"padding-bottom\", ctx_r1.horizontalScrollbarHeight, \"px\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r1.mainTemplate);\n  }\n}\nfunction NgxGanttRootComponent_gantt_toolbar_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"gantt-toolbar\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"template\", ctx_r2.ganttUpper.toolbarTemplate);\n  }\n}\nconst _c23 = [\"*\"];\nconst _c24 = [\"footer\"];\nconst _c25 = [\"ganttRoot\"];\nfunction NgxGanttComponent_gantt_loader_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"gantt-loader\");\n  }\n}\nfunction NgxGanttComponent_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction NgxGanttComponent_div_24_ng_template_1_Template(rf, ctx) {}\nconst _c26 = function (a0) {\n  return {\n    columns: a0\n  };\n};\nfunction NgxGanttComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtemplate(1, NgxGanttComponent_div_24_ng_template_1_Template, 0, 0, \"ng-template\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(4);\n    i0.ɵɵstyleProp(\"width\", _r1.tableWidth + 1, \"px\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r4.table == null ? null : ctx_r4.table.tableFooterTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(4, _c26, ctx_r4.columns));\n  }\n}\nfunction NgxGanttComponent_div_25_ng_template_1_Template(rf, ctx) {}\nfunction NgxGanttComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, NgxGanttComponent_div_25_ng_template_1_Template, 0, 0, \"ng-template\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r5.footerTemplate);\n  }\n}\nconst _c27 = function (a0, a1, a2) {\n  return {\n    \"gantt-normal-viewport\": a0,\n    \"gantt-scroll-container\": a1,\n    \"with-footer\": a2\n  };\n};\nclass GanttDatePoint {\n  constructor(start, text, x, y, additions, style) {\n    this.start = start;\n    this.text = text;\n    this.x = x;\n    this.y = y;\n    this.additions = additions;\n    this.style = style;\n  }\n}\nclass GanttDragEvent {}\nclass GanttTableEvent {}\nclass GanttLinkDragEvent {}\nclass GanttLoadOnScrollEvent {}\nclass GanttLineClickEvent {}\nclass GanttBarClickEvent {}\nclass GanttSelectedEvent {}\nclass GanttTableDragDroppedEvent {}\nclass GanttTableDragStartedEvent {}\nclass GanttTableDragEndedEvent {}\nclass GanttTableDragEnterPredicateContext {}\nclass GanttVirtualScrolledIndexChangeEvent {}\nclass GanttDate {\n  constructor(date) {\n    if (date) {\n      if (date instanceof Date) {\n        this.value = date;\n      } else if (typeof date === 'string' || typeof date === 'number') {\n        if (date.toString().length < 13) {\n          this.value = fromUnixTime(+date);\n        } else {\n          this.value = new Date(date);\n        }\n      } else {\n        throw new Error(`The input date type is not supported expect Date | string\n                     | number | { date: number; with_time: 0 | 1}, actual ${JSON.stringify(date)}`);\n      }\n    } else {\n      this.value = new Date();\n    }\n  }\n  getYear() {\n    return this.value.getFullYear();\n  }\n  getMonth() {\n    return this.value.getMonth();\n  }\n  getDay() {\n    return this.value.getDay();\n  }\n  getTime() {\n    return this.value.getTime();\n  }\n  getDate() {\n    return this.value.getDate();\n  }\n  getHours() {\n    return this.value.getHours();\n  }\n  getMinutes() {\n    return this.value.getMinutes();\n  }\n  getSeconds() {\n    return this.value.getSeconds();\n  }\n  getMilliseconds() {\n    return this.value.getMilliseconds();\n  }\n  getWeek(options = {\n    weekStartsOn: 1\n  }) {\n    return getWeek(this.value, options);\n  }\n  getDaysInMonth() {\n    return getDaysInMonth(this.value);\n  }\n  getDaysInQuarter() {\n    return differenceInCalendarDays(this.endOfQuarter().addSeconds(1).value, this.startOfQuarter().value);\n  }\n  getDaysInYear() {\n    return differenceInCalendarDays(this.endOfYear().addSeconds(1).value, this.startOfYear().value);\n  }\n  setDate(dayOfMonth) {\n    return new GanttDate(setDate(this.value, dayOfMonth));\n  }\n  clone() {\n    return new GanttDate(new Date(this.value));\n  }\n  add(amount, unit) {\n    switch (unit) {\n      case 'second':\n        return new GanttDate(this.value).addSeconds(amount);\n      case 'minute':\n        return new GanttDate(this.value).addMinutes(amount);\n      case 'hour':\n        return new GanttDate(this.value).addHours(amount);\n      case 'day':\n        return new GanttDate(this.value).addDays(amount);\n      case 'week':\n        return new GanttDate(this.value).addWeeks(amount);\n      case 'month':\n        return new GanttDate(this.value).addMonths(amount);\n      case 'quarter':\n        return new GanttDate(this.value).addQuarters(amount);\n      case 'year':\n        return new GanttDate(this.value).addYears(amount);\n      default:\n        return new GanttDate(this.value).addSeconds(amount);\n    }\n  }\n  addSeconds(amount) {\n    return new GanttDate(addSeconds(this.value, amount));\n  }\n  addMinutes(amount) {\n    return new GanttDate(addMinutes(this.value, amount));\n  }\n  addHours(amount) {\n    return new GanttDate(addHours(this.value, amount));\n  }\n  addDays(amount) {\n    return new GanttDate(addDays(this.value, amount));\n  }\n  addWeeks(amount) {\n    return new GanttDate(addWeeks(this.value, amount));\n  }\n  addMonths(amount) {\n    return new GanttDate(addMonths(this.value, amount));\n  }\n  addQuarters(amount) {\n    return new GanttDate(addQuarters(this.value, amount));\n  }\n  addYears(amount) {\n    return new GanttDate(addYears(this.value, amount));\n  }\n  startOfDay() {\n    return new GanttDate(startOfDay(this.value));\n  }\n  startOfWeek(options) {\n    return new GanttDate(startOfWeek(this.value, options));\n  }\n  startOfMonth() {\n    return new GanttDate(startOfMonth(this.value));\n  }\n  startOfQuarter() {\n    return new GanttDate(startOfQuarter(this.value));\n  }\n  startOfYear() {\n    return new GanttDate(startOfYear(this.value));\n  }\n  endOfDay() {\n    return new GanttDate(endOfDay(this.value));\n  }\n  endOfWeek(options) {\n    return new GanttDate(endOfWeek(this.value, options));\n  }\n  endOfMonth() {\n    return new GanttDate(endOfMonth(this.value));\n  }\n  endOfQuarter() {\n    return new GanttDate(endOfQuarter(this.value));\n  }\n  endOfYear() {\n    return new GanttDate(endOfYear(this.value));\n  }\n  getUnixTime() {\n    return getUnixTime(this.value);\n  }\n  format(mat, options) {\n    return format(this.value, mat, options);\n  }\n  isWeekend() {\n    return isWeekend(this.value);\n  }\n  isToday() {\n    return isToday(this.value);\n  }\n}\nvar GanttLinkType;\n(function (GanttLinkType) {\n  GanttLinkType[GanttLinkType[\"fs\"] = 1] = \"fs\";\n  GanttLinkType[GanttLinkType[\"ff\"] = 2] = \"ff\";\n  GanttLinkType[GanttLinkType[\"ss\"] = 3] = \"ss\";\n  GanttLinkType[GanttLinkType[\"sf\"] = 4] = \"sf\";\n})(GanttLinkType || (GanttLinkType = {}));\nvar GanttLinkLineType;\n(function (GanttLinkLineType) {\n  GanttLinkLineType[\"curve\"] = \"curve\";\n  GanttLinkLineType[\"straight\"] = \"straight\";\n})(GanttLinkLineType || (GanttLinkLineType = {}));\nvar LinkColors;\n(function (LinkColors) {\n  LinkColors[\"default\"] = \"#cacaca\";\n  LinkColors[\"blocked\"] = \"#FF7575\";\n  LinkColors[\"active\"] = \"#6698ff\";\n})(LinkColors || (LinkColors = {}));\nvar GanttItemType;\n(function (GanttItemType) {\n  GanttItemType[\"bar\"] = \"bar\";\n  GanttItemType[\"range\"] = \"range\";\n  GanttItemType[\"custom\"] = \"custom\";\n})(GanttItemType || (GanttItemType = {}));\nclass GanttItemInternal {\n  get refs() {\n    return this.refs$.getValue();\n  }\n  constructor(item, level, options) {\n    this.refs$ = new BehaviorSubject(null);\n    this.origin = item;\n    this.id = this.origin.id;\n    this.links = (this.origin.links || []).map(link => {\n      if (typeof link === 'string') {\n        return {\n          type: GanttLinkType.fs,\n          link\n        };\n      } else {\n        return link;\n      }\n    });\n    this.color = this.origin.color;\n    this.barStyle = this.origin.barStyle;\n    this.linkable = this.origin.linkable === undefined ? true : this.origin.linkable;\n    this.draggable = this.origin.draggable === undefined ? true : this.origin.draggable;\n    this.itemDraggable = this.origin.itemDraggable;\n    this.expandable = this.origin.expandable || (this.origin.children || []).length > 0;\n    this.expanded = this.origin.expanded === undefined ? false : this.origin.expanded;\n    this.start = item.start ? new GanttDate(item.start) : null;\n    this.end = item.end ? new GanttDate(item.end) : null;\n    this.level = level;\n    //  默认填充 30 天\n    this.fillDays = options?.fillDays || 30;\n    this.children = (item.children || []).map(subItem => {\n      return new GanttItemInternal(subItem, level + 1, {\n        fillDays: this.fillDays\n      });\n    });\n    this.type = this.origin.type || GanttItemType.bar;\n    this.progress = this.origin.progress;\n    // fill days when start or end is null\n    this.fillItemStartOrEnd(item);\n  }\n  fillItemStartOrEnd(item) {\n    if (this.fillDays > 0) {\n      const fillDays = this.fillDays - 1;\n      if (item.start && !item.end) {\n        this.end = new GanttDate(item.start).addDays(fillDays).endOfDay();\n      }\n      if (!item.start && item.end) {\n        this.start = new GanttDate(item.end).addDays(-fillDays).startOfDay();\n      }\n    }\n  }\n  updateRefs(refs) {\n    this.refs$.next(refs);\n  }\n  updateDate(start, end) {\n    this.start = start.startOfDay();\n    this.end = end.endOfDay();\n    this.origin.start = this.start.getUnixTime();\n    this.origin.end = this.end.getUnixTime();\n  }\n  updateLevel(level) {\n    this.level = level;\n  }\n  addChildren(items) {\n    this.origin.children = items;\n    this.children = (items || []).map(subItem => {\n      return new GanttItemInternal(subItem, this.level + 1, {\n        fillDays: this.fillDays\n      });\n    });\n  }\n  setExpand(expanded) {\n    this.expanded = expanded;\n    this.origin.expanded = expanded;\n  }\n  addLink(link) {\n    this.links = [...this.links, link];\n    this.origin.links = this.links;\n  }\n}\nclass GanttGroupInternal {\n  constructor(group) {\n    this.refs = {};\n    this.id = group.id;\n    this.origin = group;\n    this.title = group.title;\n    this.expanded = group.expanded === undefined ? true : group.expanded;\n    this.items = [];\n    this.mergedItems = [[]];\n    this.class = group.class || '';\n  }\n  setExpand(expanded) {\n    this.expanded = expanded;\n    this.origin.expanded = expanded;\n  }\n}\nvar GanttViewType;\n(function (GanttViewType) {\n  GanttViewType[\"day\"] = \"day\";\n  GanttViewType[\"quarter\"] = \"quarter\";\n  GanttViewType[\"month\"] = \"month\";\n  GanttViewType[\"year\"] = \"year\";\n  GanttViewType[\"week\"] = \"week\";\n})(GanttViewType || (GanttViewType = {}));\nconst ganttViews = [{\n  name: '日',\n  value: GanttViewType.day\n}, {\n  name: '周',\n  value: GanttViewType.week\n}, {\n  name: '月',\n  value: GanttViewType.month\n}, {\n  name: '季',\n  value: GanttViewType.quarter\n}, {\n  name: '年',\n  value: GanttViewType.year\n}];\nclass GanttBaselineItemInternal {\n  get refs() {\n    return this.refs$.getValue();\n  }\n  constructor(item) {\n    this.refs$ = new BehaviorSubject(null);\n    this.origin = item;\n    this.id = this.origin.id;\n    this.start = item.start ? new GanttDate(item.start) : null;\n    this.end = item.end ? new GanttDate(item.end) : null;\n  }\n  updateRefs(refs) {\n    this.refs$.next(refs);\n  }\n}\nconst defaultConfig = {\n  dateFormat: {\n    week: '第w周',\n    month: 'M月',\n    quarter: 'QQQ',\n    year: 'yyyy年',\n    yearMonth: 'yyyy年MM月',\n    yearQuarter: 'yyyy年QQQ'\n  },\n  linkOptions: {\n    dependencyTypes: [GanttLinkType.fs],\n    showArrow: false,\n    lineType: GanttLinkLineType.curve\n  }\n};\nconst GANTT_GLOBAL_CONFIG = new InjectionToken('GANTT_GLOBAL_CONFIG');\nconst primaryDatePointTop = 18;\nconst secondaryDatePointTop = 36;\nconst viewOptions$5 = {\n  min: new GanttDate().addYears(-1).startOfYear(),\n  max: new GanttDate().addYears(1).endOfYear(),\n  dateFormat: defaultConfig.dateFormat\n};\nclass GanttView {\n  get start() {\n    return this.start$.getValue();\n  }\n  get end() {\n    return this.end$.getValue();\n  }\n  constructor(start, end, options) {\n    this.showTimeline = true;\n    this.options = Object.assign({}, viewOptions$5, options);\n    const startDate = start.isCustom ? this.startOf(start.date) : this.startOf(start.date.value < this.options.start.value ? start.date : this.options.start);\n    const endDate = end.isCustom ? this.endOf(end.date) : this.endOf(end.date.value > this.options.end.value ? end.date : this.options.end);\n    this.start$ = new BehaviorSubject(startDate);\n    this.end$ = new BehaviorSubject(endDate);\n    this.initialize();\n  }\n  getDateIntervalWidth(start, end) {\n    let result = 0;\n    const days = differenceInDays(end.value, start.value);\n    for (let i = 0; i < Math.abs(days); i++) {\n      result += this.getDayOccupancyWidth(start.addDays(i));\n    }\n    result = days >= 0 ? result : -result;\n    return Number(result.toFixed(3));\n  }\n  initialize() {\n    this.primaryDatePoints = this.getPrimaryDatePoints();\n    this.secondaryDatePoints = this.getSecondaryDatePoints();\n    this.width = this.getWidth();\n    this.cellWidth = this.getCellWidth();\n    this.primaryWidth = this.getPrimaryWidth();\n  }\n  addStartDate() {\n    const start = this.startOf(this.start.add(this.options.addAmount * -1, this.options.addUnit));\n    if (start.value >= this.options.min.value) {\n      const origin = this.start;\n      this.start$.next(start);\n      this.initialize();\n      return {\n        start: this.start,\n        end: origin\n      };\n    }\n    return null;\n  }\n  addEndDate() {\n    const end = this.endOf(this.end.add(this.options.addAmount, this.options.addUnit));\n    if (end.value <= this.options.max.value) {\n      const origin = this.end;\n      this.end$.next(end);\n      this.initialize();\n      return {\n        start: origin,\n        end: this.end\n      };\n    }\n    return null;\n  }\n  updateDate(start, end) {\n    start = this.startOf(start);\n    end = this.endOf(end);\n    if (start.value < this.start.value) {\n      this.start$.next(start);\n    }\n    if (end.value > this.end.value) {\n      this.end$.next(end);\n    }\n    this.initialize();\n  }\n  // 获取View的宽度\n  getWidth() {\n    return this.getCellWidth() * this.secondaryDatePoints.length;\n  }\n  // 获取单个网格的宽度\n  getCellWidth() {\n    return this.options.cellWidth;\n  }\n  // 获取当前时间的X坐标\n  getTodayXPoint() {\n    const toady = new GanttDate().startOfDay();\n    if (toady.value > this.start.value && toady.value < this.end.value) {\n      const x = this.getXPointByDate(toady) + this.getDayOccupancyWidth(toady) / 2;\n      return x;\n    } else {\n      return null;\n    }\n  }\n  // 获取指定时间的X坐标\n  getXPointByDate(date) {\n    return this.getDateIntervalWidth(this.start, date);\n  }\n  // 根据X坐标获取对应时间\n  getDateByXPoint(x) {\n    const indexOfSecondaryDate = Math.max(Math.floor(x / this.getCellWidth()), 0);\n    const matchDate = this.secondaryDatePoints[Math.min(this.secondaryDatePoints.length - 1, indexOfSecondaryDate)];\n    const dayWidth = this.getDayOccupancyWidth(matchDate?.start);\n    if (dayWidth === this.getCellWidth()) {\n      return matchDate?.start;\n    } else {\n      const day = Math.floor(x % this.getCellWidth() / dayWidth) + 1;\n      if (this.getCellWidth() / dayWidth === 7) {\n        return matchDate?.start.addDays(day);\n      }\n      return matchDate?.start.setDate(day);\n    }\n  }\n  // 获取指定时间范围的宽度\n  getDateRangeWidth(start, end) {\n    // addSeconds(1) 是因为计算相差天会以一个整天来计算 end时间一般是59分59秒不是一个整天，所以需要加1\n    return this.getDateIntervalWidth(start, end.addSeconds(1));\n  }\n}\nconst viewOptions$4 = {\n  start: new GanttDate().startOfQuarter().addQuarters(-1),\n  end: new GanttDate().endOfQuarter().addQuarters(2),\n  cellWidth: 280,\n  addAmount: 1,\n  addUnit: 'quarter',\n  fillDays: 30\n};\nclass GanttViewMonth extends GanttView {\n  constructor(start, end, options) {\n    super(start, end, Object.assign({}, viewOptions$4, options));\n    this.viewType = GanttViewType.month;\n  }\n  startOf(date) {\n    return date.startOfQuarter();\n  }\n  endOf(date) {\n    return date.endOfQuarter();\n  }\n  getPrimaryWidth() {\n    return this.getCellWidth() * 3;\n  }\n  getDayOccupancyWidth(date) {\n    return this.cellWidth / date.getDaysInMonth();\n  }\n  getPrimaryDatePoints() {\n    const quarters = differenceInCalendarQuarters(this.end.addSeconds(1).value, this.start.value);\n    const points = [];\n    for (let i = 0; i < quarters; i++) {\n      const start = this.start.addQuarters(i);\n      const point = new GanttDatePoint(start, start.format(this.options.dateFormat.yearQuarter), this.getCellWidth() * 3 / 2 + i * (this.getCellWidth() * 3), primaryDatePointTop);\n      points.push(point);\n    }\n    return points;\n  }\n  getSecondaryDatePoints() {\n    const months = eachMonthOfInterval({\n      start: this.start.value,\n      end: this.end.value\n    });\n    const points = [];\n    for (let i = 0; i < months.length; i++) {\n      const start = new GanttDate(months[i]);\n      const point = new GanttDatePoint(start, start.format(this.options.dateFormat.month), i * this.getCellWidth() + this.getCellWidth() / 2, secondaryDatePointTop);\n      points.push(point);\n    }\n    return points;\n  }\n}\nconst viewOptions$3 = {\n  start: new GanttDate().addYears(-1).startOfYear(),\n  end: new GanttDate().addYears(1).endOfYear(),\n  min: new GanttDate().addYears(-2).startOfYear(),\n  max: new GanttDate().addYears(2).endOfYear(),\n  cellWidth: 500,\n  addAmount: 1,\n  addUnit: 'year',\n  fillDays: 30\n};\nclass GanttViewQuarter extends GanttView {\n  constructor(start, end, options) {\n    super(start, end, Object.assign({}, viewOptions$3, options));\n    this.viewType = GanttViewType.quarter;\n  }\n  startOf(date) {\n    return date.startOfYear();\n  }\n  endOf(date) {\n    return date.endOfYear();\n  }\n  getPrimaryWidth() {\n    return this.getCellWidth() * 4;\n  }\n  getDayOccupancyWidth(date) {\n    return this.cellWidth / date.getDaysInQuarter();\n  }\n  getPrimaryDatePoints() {\n    const years = eachYearOfInterval({\n      start: this.start.value,\n      end: this.end.value\n    });\n    const points = [];\n    for (let i = 0; i < years.length; i++) {\n      const start = new GanttDate(years[i]);\n      const point = new GanttDatePoint(start, `${start.format(this.options.dateFormat.year)}`, this.getCellWidth() * 4 / 2 + i * (this.getCellWidth() * 4), primaryDatePointTop);\n      points.push(point);\n    }\n    return points;\n  }\n  getSecondaryDatePoints() {\n    const quarters = differenceInCalendarQuarters(this.end.value, this.start.value);\n    const points = [];\n    for (let i = 0; i <= quarters; i++) {\n      const start = this.start.addQuarters(i);\n      const point = new GanttDatePoint(start, start.format(this.options.dateFormat.quarter), i * this.getCellWidth() + this.getCellWidth() / 2, secondaryDatePointTop);\n      points.push(point);\n    }\n    return points;\n  }\n}\nconst viewOptions$2 = {\n  cellWidth: 35,\n  start: new GanttDate().startOfYear().startOfWeek({\n    weekStartsOn: 1\n  }),\n  end: new GanttDate().endOfYear().endOfWeek({\n    weekStartsOn: 1\n  }),\n  addAmount: 1,\n  addUnit: 'month',\n  fillDays: 1\n};\nclass GanttViewDay extends GanttView {\n  constructor(start, end, options) {\n    super(start, end, Object.assign({}, viewOptions$2, options));\n    this.showWeekBackdrop = true;\n    this.showTimeline = false;\n    this.viewType = GanttViewType.day;\n  }\n  startOf(date) {\n    return date.startOfWeek({\n      weekStartsOn: 1\n    });\n  }\n  endOf(date) {\n    return date.endOfWeek({\n      weekStartsOn: 1\n    });\n  }\n  getPrimaryWidth() {\n    return this.getCellWidth() * 7;\n  }\n  getDayOccupancyWidth() {\n    return this.cellWidth;\n  }\n  getPrimaryDatePoints() {\n    const weeks = eachWeekOfInterval({\n      start: this.start.value,\n      end: this.end.addSeconds(1).value\n    }, {\n      weekStartsOn: 1\n    });\n    const points = [];\n    for (let i = 0; i < weeks.length; i++) {\n      const weekStart = new GanttDate(weeks[i]);\n      const increaseWeek = weekStart.getDaysInMonth() - weekStart.getDate() >= 3 ? 0 : 1;\n      const point = new GanttDatePoint(weekStart, weekStart.addWeeks(increaseWeek).format(this.options.dateFormat.yearMonth), this.getCellWidth() * 7 / 2 + i * (this.getCellWidth() * 7), primaryDatePointTop);\n      points.push(point);\n    }\n    return points;\n  }\n  getSecondaryDatePoints() {\n    const days = eachDayOfInterval({\n      start: this.start.value,\n      end: this.end.value\n    });\n    const points = [];\n    for (let i = 0; i < days.length; i++) {\n      const start = new GanttDate(days[i]);\n      const point = new GanttDatePoint(start, start.getDate().toString(), i * this.getCellWidth() + this.getCellWidth() / 2, secondaryDatePointTop, {\n        isWeekend: start.isWeekend(),\n        isToday: start.isToday()\n      });\n      points.push(point);\n    }\n    return points;\n  }\n}\nconst viewOptions$1 = {\n  cellWidth: 280,\n  start: new GanttDate().startOfYear().startOfWeek({\n    weekStartsOn: 1\n  }),\n  end: new GanttDate().endOfYear().endOfWeek({\n    weekStartsOn: 1\n  }),\n  addAmount: 1,\n  addUnit: 'month',\n  fillDays: 1\n};\nclass GanttViewWeek extends GanttView {\n  constructor(start, end, options) {\n    super(start, end, Object.assign({}, viewOptions$1, options));\n    this.viewType = GanttViewType.week;\n  }\n  startOf(date) {\n    return date.startOfWeek({\n      weekStartsOn: 1\n    });\n  }\n  endOf(date) {\n    return date.endOfWeek({\n      weekStartsOn: 1\n    });\n  }\n  getPrimaryWidth() {\n    return this.getCellWidth();\n  }\n  getDayOccupancyWidth() {\n    return this.cellWidth / 7;\n  }\n  getPrimaryDatePoints() {\n    const weeks = eachWeekOfInterval({\n      start: this.start.value,\n      end: this.end.addSeconds(1).value\n    }, {\n      weekStartsOn: 1\n    });\n    const points = [];\n    for (let i = 0; i < weeks.length; i++) {\n      const weekStart = new GanttDate(weeks[i]);\n      const increaseWeek = weekStart.getDaysInMonth() - weekStart.getDate() >= 3 ? 0 : 1;\n      const point = new GanttDatePoint(weekStart, weekStart.addWeeks(increaseWeek).format(this.options.dateFormat.year), this.getCellWidth() / 2 + i * this.getCellWidth(), primaryDatePointTop);\n      points.push(point);\n    }\n    return points;\n  }\n  getSecondaryDatePoints() {\n    const weeks = eachWeekOfInterval({\n      start: this.start.value,\n      end: this.end.value\n    });\n    const points = [];\n    for (let i = 0; i < weeks.length; i++) {\n      const start = new GanttDate(weeks[i]);\n      const point = new GanttDatePoint(start, `${start.format(this.options.dateFormat.week)}`, i * this.getCellWidth() + this.getCellWidth() / 2, secondaryDatePointTop);\n      points.push(point);\n    }\n    return points;\n  }\n}\nconst viewOptions = {\n  cellWidth: 480,\n  start: new GanttDate().addYears(-2).startOfYear(),\n  end: new GanttDate().addYears(2).endOfYear(),\n  addAmount: 1,\n  addUnit: 'year',\n  fillDays: 30\n};\nclass GanttViewYear extends GanttView {\n  constructor(start, end, options) {\n    super(start, end, Object.assign({}, viewOptions, options));\n    this.viewType = GanttViewType.year;\n  }\n  startOf(date) {\n    return date.startOfYear();\n  }\n  endOf(date) {\n    return date.endOfYear();\n  }\n  getPrimaryWidth() {\n    return this.getCellWidth();\n  }\n  getDayOccupancyWidth(date) {\n    return this.cellWidth / date.getDaysInYear();\n  }\n  getPrimaryDatePoints() {\n    const years = eachYearOfInterval({\n      start: this.start.value,\n      end: this.end.value\n    });\n    const points = [];\n    for (let i = 0; i < years.length; i++) {\n      const start = new GanttDate(years[i]);\n      const point = new GanttDatePoint(start, ``, this.getCellWidth() / 2 + i * this.getCellWidth(), primaryDatePointTop);\n      points.push(point);\n    }\n    return points;\n  }\n  getSecondaryDatePoints() {\n    const years = differenceInCalendarYears(this.end.value, this.start.value);\n    const points = [];\n    const pointTop = 27;\n    for (let i = 0; i <= years; i++) {\n      const start = this.start.addYears(i);\n      const point = new GanttDatePoint(start, `${start.format(this.options.dateFormat.year)}`, i * this.getCellWidth() + this.getCellWidth() / 2, pointTop);\n      points.push(point);\n    }\n    return points;\n  }\n}\nconst ganttViewsMap = {\n  [GanttViewType.day]: GanttViewDay,\n  [GanttViewType.week]: GanttViewWeek,\n  [GanttViewType.month]: GanttViewMonth,\n  [GanttViewType.quarter]: GanttViewQuarter,\n  [GanttViewType.year]: GanttViewYear\n};\nfunction registerView(type, view) {\n  ganttViewsMap[type] = view;\n}\nfunction createViewFactory(type, start, end, options) {\n  return new ganttViewsMap[type](start, end, options);\n}\nconst defaultStyles = {\n  lineHeight: 44,\n  barHeight: 22\n};\nconst headerHeight = 44;\nconst sideWidth = 400;\nconst sideMiddleWidth = 500;\nconst sideMaxWidth = 600;\nconst sideMinWidth = 400;\nconst barBackground = '#6698ff';\nconst rangeHeight = 17;\nconst todayHeight = 24;\nconst todayWidth = 35;\nconst todayBorderRadius = 4;\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction isUndefined(value) {\n  return value === undefined;\n}\nfunction hexToRgb(color, opacity = 1) {\n  if (/^#/g.test(color)) {\n    return `rgba(${parseInt(color.slice(1, 3), 16)},${parseInt(color.slice(3, 5), 16)},${parseInt(color.slice(5, 7), 16)},${opacity})`;\n  } else {\n    return color;\n  }\n}\nfunction uniqBy(array, key) {\n  const valuesMap = {};\n  const result = [];\n  (array || []).forEach(value => {\n    const _key = value[key];\n    if (!valuesMap[_key]) {\n      valuesMap[_key] = value;\n      result.push(value);\n    }\n  });\n  return result;\n}\nfunction flatten(array) {\n  return array.reduce((pre, cur) => {\n    return pre.concat(Array.isArray(cur) ? flatten(cur) : cur);\n  }, []);\n}\n// export function recursiveItems(items: GanttItemInternal[]) {\n//     const result = [];\n//     (items || []).forEach((item) => {\n//         result.push(item);\n//         if (item.expanded && item.children) {\n//             result.push(...recursiveItems(item.children));\n//         }\n//     });\n//     return result;\n// }\nfunction recursiveItems(items) {\n  const result = [];\n  (items || []).forEach(item => {\n    result.push(item);\n    if (item.expanded && item.children) {\n      result.push(...recursiveItems(item.children));\n    }\n  });\n  return result;\n}\nfunction getFlatItems(items) {\n  const result = [];\n  (items || []).forEach(item => {\n    result.push(item);\n    if (item.children) {\n      result.push(...getFlatItems(item.children));\n    }\n  });\n  return result;\n}\nfunction keyBy(array, key) {\n  const result = {};\n  array.forEach(item => {\n    const keyValue = item[key];\n    result[keyValue] = item;\n  });\n  return result;\n}\nclass GanttUpper {\n  set linkOptions(options) {\n    this._linkOptions = options;\n  }\n  get linkOptions() {\n    return Object.assign({}, defaultConfig.linkOptions, this.config.linkOptions, this._linkOptions);\n  }\n  set selectable(value) {\n    this._selectable = coerceBooleanProperty(value);\n    if (this._selectable) {\n      this.selectionModel = this.initSelectionModel();\n    } else {\n      this.selectionModel?.clear();\n    }\n  }\n  get selectable() {\n    return this._selectable;\n  }\n  set multiple(value) {\n    this._multiple = coerceBooleanProperty(value);\n    if (this.selectable) {\n      this.selectionModel = this.initSelectionModel();\n    }\n  }\n  get multiple() {\n    return this._multiple;\n  }\n  // public viewChange = new EventEmitter<GanttView>();\n  get element() {\n    return this.elementRef.nativeElement;\n  }\n  constructor(elementRef, cdr, ngZone, config) {\n    this.elementRef = elementRef;\n    this.cdr = cdr;\n    this.ngZone = ngZone;\n    this.config = config;\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    this.originItems = [];\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    this.originGroups = [];\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    this.originBaselineItems = [];\n    this.viewType = GanttViewType.month;\n    this.showTodayLine = true;\n    this.showToolbar = false;\n    this.toolbarOptions = {\n      viewTypes: [GanttViewType.day, GanttViewType.month, GanttViewType.year]\n    };\n    this.viewOptions = {};\n    this.loadOnScroll = new EventEmitter();\n    this.dragStarted = new EventEmitter();\n    this.dragMoved = new EventEmitter();\n    this.dragEnded = new EventEmitter();\n    this.barClick = new EventEmitter();\n    this.viewChange = new EventEmitter();\n    this.expandChange = new EventEmitter();\n    this.computeAllRefs = true;\n    this.linkDragEnded = new EventEmitter();\n    this.items = [];\n    this.groups = [];\n    this.baselineItems = [];\n    this.baselineItemsMap = {};\n    this.firstChange = true;\n    this.unsubscribe$ = new Subject();\n    this._selectable = false;\n    this._multiple = false;\n    this.ganttClass = true;\n  }\n  createView() {\n    const viewDate = this.getViewDate();\n    this.view = createViewFactory(this.viewType, viewDate.start, viewDate.end, this.viewOptions);\n  }\n  setupGroups() {\n    const collapsedIds = this.groups.filter(group => group.expanded === false).map(group => group.id);\n    this.groupsMap = {};\n    this.groups = [];\n    this.originGroups.forEach(origin => {\n      const group = new GanttGroupInternal(origin);\n      group.expanded = !collapsedIds.includes(group.id);\n      this.groupsMap[group.id] = group;\n      this.groups.push(group);\n    });\n  }\n  setupItems() {\n    this.originItems = uniqBy(this.originItems, 'id');\n    this.items = [];\n    if (this.groups.length > 0) {\n      this.originItems.forEach(origin => {\n        const group = this.groupsMap[origin.group_id];\n        if (group) {\n          const item = new GanttItemInternal(origin, 0, {\n            fillDays: this.view.options?.fillDays\n          });\n          group.items.push(item);\n        }\n      });\n    } else {\n      this.originItems.forEach(origin => {\n        const item = new GanttItemInternal(origin, 0, {\n          fillDays: this.view.options?.fillDays\n        });\n        this.items.push(item);\n      });\n    }\n  }\n  setupBaselineItems() {\n    this.originBaselineItems = uniqBy(this.originBaselineItems, 'id');\n    this.baselineItems = [];\n    this.originBaselineItems.forEach(origin => {\n      const item = new GanttBaselineItemInternal(origin);\n      this.baselineItems.push(item);\n    });\n    this.baselineItemsMap = keyBy(this.baselineItems, 'id');\n  }\n  setupExpandedState() {\n    this.originItems = uniqBy(this.originItems, 'id');\n    let items = [];\n    const flatOriginItems = getFlatItems(this.originItems);\n    if (this.items.length > 0) {\n      items = recursiveItems(this.items);\n    } else {\n      items = flatten(this.groups.map(group => recursiveItems(group.items)));\n    }\n    items.forEach(item => {\n      if (item.origin.expanded) {\n        const newItem = flatOriginItems.find(originItem => originItem.id === item.id);\n        if (newItem) {\n          if (newItem.expanded === undefined) {\n            newItem.expanded = true;\n          }\n        }\n      }\n    });\n  }\n  getViewDate() {\n    let start = this.start;\n    let end = this.end;\n    if (!this.start || !this.end) {\n      this.originItems.forEach(item => {\n        if (item.start && !this.start) {\n          start = start ? Math.min(start, item.start) : item.start;\n        }\n        if (item.end && !this.end) {\n          end = end ? Math.max(end, item.end) : item.end;\n        }\n      });\n    }\n    return {\n      start: {\n        date: new GanttDate(start),\n        isCustom: this.start ? true : false\n      },\n      end: {\n        date: new GanttDate(end),\n        isCustom: this.end ? true : false\n      }\n    };\n  }\n  computeRefs() {\n    if (this.computeAllRefs) {\n      this.groups.forEach(group => {\n        const groupItems = recursiveItems(group.items);\n        this.computeItemsRefs(...groupItems);\n      });\n      const items = recursiveItems(this.items);\n      this.computeItemsRefs(...items);\n    }\n  }\n  initSelectionModel() {\n    return new SelectionModel(this.multiple, []);\n  }\n  expandGroups(expanded) {\n    this.groups.forEach(group => {\n      group.setExpand(expanded);\n    });\n    this.expandChange.next(null);\n    this.cdr.detectChanges();\n  }\n  ngOnInit() {\n    this.styles = Object.assign({}, defaultStyles, this.styles);\n    this.viewOptions.dateFormat = Object.assign({}, defaultConfig.dateFormat, this.config.dateFormat, this.viewOptions.dateFormat);\n    this.createView();\n    this.setupGroups();\n    this.setupItems();\n    this.computeRefs();\n    this.setupBaselineItems();\n    this.computeItemsRefs(...this.baselineItems);\n    this.initSelectionModel();\n    this.firstChange = false;\n    // Note: the zone may be nooped through `BootstrapOptions` when bootstrapping the root module. This means\n    // the `onStable` will never emit any value.\n    const onStable$ = this.ngZone.isStable ? from(Promise.resolve()) : this.ngZone.onStable.pipe(take(1));\n    // Normally this isn't in the zone, but it can cause performance regressions for apps\n    // using `zone-patch-rxjs` because it'll trigger a change detection when it unsubscribes.\n    this.ngZone.runOutsideAngular(() => {\n      onStable$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n        this.element.style.opacity = '1';\n        const disabledLoadOnScroll = this.disabledLoadOnScroll;\n        this.dragContainer.dragStarted.pipe(takeUntil(this.unsubscribe$)).subscribe(event => {\n          this.disabledLoadOnScroll = true;\n          this.dragStarted.emit(event);\n        });\n        this.dragContainer.dragMoved.pipe(takeUntil(this.unsubscribe$)).subscribe(event => {\n          this.dragMoved.emit(event);\n        });\n        this.dragContainer.dragEnded.pipe(takeUntil(this.unsubscribe$)).subscribe(event => {\n          this.disabledLoadOnScroll = disabledLoadOnScroll;\n          this.dragEnded.emit(event);\n        });\n      });\n    });\n    this.view.start$.pipe(skip(1), takeUntil(this.unsubscribe$)).subscribe(() => {\n      this.computeRefs();\n    });\n  }\n  ngOnChanges(changes) {\n    if (!this.firstChange) {\n      if (changes.viewType && changes.viewType.currentValue && changes.viewType.currentValue !== changes.viewType.previousValue) {\n        this.changeView(changes.viewType.currentValue);\n      }\n      if (changes.viewOptions) {\n        this.changeView(this.viewType);\n      }\n      if (changes.originItems || changes.originGroups) {\n        this.setupExpandedState();\n        this.setupGroups();\n        this.setupItems();\n        this.computeRefs();\n      }\n      if (changes.originBaselineItems) {\n        this.setupBaselineItems();\n        this.computeItemsRefs(...this.baselineItems);\n      }\n    }\n  }\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n  computeItemsRefs(...items) {\n    items.forEach(item => {\n      item.updateRefs({\n        width: item.start && item.end ? this.view.getDateRangeWidth(item.start.startOfDay(), item.end.endOfDay()) : 0,\n        x: item.start ? this.view.getXPointByDate(item.start) : 0,\n        y: (this.styles.lineHeight - this.styles.barHeight) / 2 - 1\n      });\n    });\n  }\n  trackBy(index, item) {\n    return item.id || index;\n  }\n  detectChanges() {\n    this.cdr.detectChanges();\n  }\n  // public functions\n  expandGroup(group) {\n    group.setExpand(!group.expanded);\n    this.expandChange.emit(group);\n    this.cdr.detectChanges();\n  }\n  expandAll() {\n    this.expandGroups(true);\n  }\n  collapseAll() {\n    this.expandGroups(false);\n  }\n  getGanttItem(id) {\n    return this.getGanttItems([id])[0] || null;\n  }\n  getGanttItems(ids) {\n    let items = [];\n    if (this.items.length > 0) {\n      items = recursiveItems(this.items);\n    } else {\n      items = flatten(this.groups.map(group => recursiveItems(group.items)));\n    }\n    return items.filter(item => ids.includes(item.id));\n  }\n  isSelected(id) {\n    if (!this.selectable) {\n      return false;\n    }\n    if (!this.selectionModel.hasValue()) {\n      return false;\n    }\n    return this.selectionModel.isSelected(id);\n  }\n  changeView(type) {\n    this.viewType = type;\n    this.createView();\n    this.setupGroups();\n    this.setupItems();\n    this.computeRefs();\n    this.setupBaselineItems();\n    this.computeItemsRefs(...this.baselineItems);\n    this.viewChange.emit(this.view);\n  }\n  rerenderView() {\n    this.changeView(this.viewType);\n  }\n  static #_ = this.ɵfac = function GanttUpper_Factory(t) {\n    return new (t || GanttUpper)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(GANTT_GLOBAL_CONFIG));\n  };\n  static #_2 = this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: GanttUpper,\n    contentQueries: function GanttUpper_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, _c0, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c1, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c2, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c3, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c4, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c5, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c6, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.barTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.rangeTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.itemTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.baselineTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.groupTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.groupHeaderTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.toolbarTemplate = _t.first);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function GanttUpper_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"gantt\", ctx.ganttClass);\n      }\n    },\n    inputs: {\n      originItems: [\"items\", \"originItems\"],\n      originGroups: [\"groups\", \"originGroups\"],\n      originBaselineItems: [\"baselineItems\", \"originBaselineItems\"],\n      viewType: \"viewType\",\n      start: \"start\",\n      end: \"end\",\n      showTodayLine: \"showTodayLine\",\n      draggable: \"draggable\",\n      styles: \"styles\",\n      showToolbar: \"showToolbar\",\n      toolbarOptions: \"toolbarOptions\",\n      viewOptions: \"viewOptions\",\n      linkOptions: \"linkOptions\",\n      disabledLoadOnScroll: \"disabledLoadOnScroll\",\n      selectable: \"selectable\",\n      multiple: \"multiple\"\n    },\n    outputs: {\n      loadOnScroll: \"loadOnScroll\",\n      dragStarted: \"dragStarted\",\n      dragMoved: \"dragMoved\",\n      dragEnded: \"dragEnded\",\n      barClick: \"barClick\",\n      viewChange: \"viewChange\",\n      expandChange: \"expandChange\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttUpper, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.NgZone\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_GLOBAL_CONFIG]\n      }]\n    }];\n  }, {\n    originItems: [{\n      type: Input,\n      args: ['items']\n    }],\n    originGroups: [{\n      type: Input,\n      args: ['groups']\n    }],\n    originBaselineItems: [{\n      type: Input,\n      args: ['baselineItems']\n    }],\n    viewType: [{\n      type: Input\n    }],\n    start: [{\n      type: Input\n    }],\n    end: [{\n      type: Input\n    }],\n    showTodayLine: [{\n      type: Input\n    }],\n    draggable: [{\n      type: Input\n    }],\n    styles: [{\n      type: Input\n    }],\n    showToolbar: [{\n      type: Input\n    }],\n    toolbarOptions: [{\n      type: Input\n    }],\n    viewOptions: [{\n      type: Input\n    }],\n    linkOptions: [{\n      type: Input\n    }],\n    disabledLoadOnScroll: [{\n      type: Input\n    }],\n    selectable: [{\n      type: Input\n    }],\n    multiple: [{\n      type: Input\n    }],\n    loadOnScroll: [{\n      type: Output\n    }],\n    dragStarted: [{\n      type: Output\n    }],\n    dragMoved: [{\n      type: Output\n    }],\n    dragEnded: [{\n      type: Output\n    }],\n    barClick: [{\n      type: Output\n    }],\n    viewChange: [{\n      type: Output\n    }],\n    expandChange: [{\n      type: Output\n    }],\n    barTemplate: [{\n      type: ContentChild,\n      args: ['bar', {\n        static: true\n      }]\n    }],\n    rangeTemplate: [{\n      type: ContentChild,\n      args: ['range', {\n        static: true\n      }]\n    }],\n    itemTemplate: [{\n      type: ContentChild,\n      args: ['item', {\n        static: true\n      }]\n    }],\n    baselineTemplate: [{\n      type: ContentChild,\n      args: ['baseline', {\n        static: true\n      }]\n    }],\n    groupTemplate: [{\n      type: ContentChild,\n      args: ['group', {\n        static: true\n      }]\n    }],\n    groupHeaderTemplate: [{\n      type: ContentChild,\n      args: ['groupHeader', {\n        static: true\n      }]\n    }],\n    toolbarTemplate: [{\n      type: ContentChild,\n      args: ['toolbar', {\n        static: true\n      }]\n    }],\n    ganttClass: [{\n      type: HostBinding,\n      args: ['class.gantt']\n    }]\n  });\n})();\nconst GANTT_UPPER_TOKEN = new InjectionToken('GANTT_UPPER_TOKEN');\nclass NgxGanttTableColumnComponent {\n  set width(width) {\n    this.columnWidth = coerceCssPixelValue(width);\n  }\n  constructor(ganttUpper, elementRef) {\n    this.ganttUpper = ganttUpper;\n    this.elementRef = elementRef;\n  }\n  get classList() {\n    return this.elementRef.nativeElement.classList;\n  }\n  static #_ = this.ɵfac = function NgxGanttTableColumnComponent_Factory(t) {\n    return new (t || NgxGanttTableColumnComponent)(i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN), i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxGanttTableColumnComponent,\n    selectors: [[\"ngx-gantt-column\"]],\n    contentQueries: function NgxGanttTableColumnComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, _c7, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c8, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.templateRef = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.headerTemplateRef = _t.first);\n      }\n    },\n    hostAttrs: [1, \"gantt-table-column\"],\n    inputs: {\n      width: \"width\",\n      name: \"name\",\n      showExpandIcon: \"showExpandIcon\"\n    },\n    decls: 0,\n    vars: 0,\n    template: function NgxGanttTableColumnComponent_Template(rf, ctx) {},\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxGanttTableColumnComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-gantt-column',\n      template: '',\n      host: {\n        class: 'gantt-table-column'\n      }\n    }]\n  }], function () {\n    return [{\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }, {\n      type: i0.ElementRef\n    }];\n  }, {\n    width: [{\n      type: Input\n    }],\n    name: [{\n      type: Input\n    }],\n    showExpandIcon: [{\n      type: Input\n    }],\n    templateRef: [{\n      type: ContentChild,\n      args: ['cell', {\n        static: true\n      }]\n    }],\n    headerTemplateRef: [{\n      type: ContentChild,\n      args: ['header', {\n        static: true\n      }]\n    }]\n  });\n})();\nclass NgxGanttTableComponent {\n  constructor() {\n    this.draggable = false;\n    this.dragDropped = new EventEmitter();\n    this.dragStarted = new EventEmitter();\n    this.dragEnded = new EventEmitter();\n    this.columnChanges = new EventEmitter();\n  }\n  static #_ = this.ɵfac = function NgxGanttTableComponent_Factory(t) {\n    return new (t || NgxGanttTableComponent)();\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxGanttTableComponent,\n    selectors: [[\"ngx-gantt-table\"]],\n    contentQueries: function NgxGanttTableComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, _c9, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c10, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c11, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c12, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.rowBeforeTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.rowAfterTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tableEmptyTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tableFooterTemplate = _t.first);\n      }\n    },\n    inputs: {\n      draggable: \"draggable\",\n      dropEnterPredicate: \"dropEnterPredicate\"\n    },\n    outputs: {\n      dragDropped: \"dragDropped\",\n      dragStarted: \"dragStarted\",\n      dragEnded: \"dragEnded\",\n      columnChanges: \"columnChanges\"\n    },\n    decls: 0,\n    vars: 0,\n    template: function NgxGanttTableComponent_Template(rf, ctx) {},\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxGanttTableComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-gantt-table',\n      template: ''\n    }]\n  }], null, {\n    draggable: [{\n      type: Input\n    }],\n    dropEnterPredicate: [{\n      type: Input\n    }],\n    dragDropped: [{\n      type: Output\n    }],\n    dragStarted: [{\n      type: Output\n    }],\n    dragEnded: [{\n      type: Output\n    }],\n    columnChanges: [{\n      type: Output\n    }],\n    rowBeforeTemplate: [{\n      type: ContentChild,\n      args: ['rowBeforeSlot', {\n        static: true\n      }]\n    }],\n    rowAfterTemplate: [{\n      type: ContentChild,\n      args: ['rowAfterSlot', {\n        static: true\n      }]\n    }],\n    tableEmptyTemplate: [{\n      type: ContentChild,\n      args: ['tableEmpty', {\n        static: true\n      }]\n    }],\n    tableFooterTemplate: [{\n      type: ContentChild,\n      args: ['tableFooter', {\n        static: true\n      }]\n    }]\n  });\n})();\nconst GANTT_ABSTRACT_TOKEN = new InjectionToken('gantt-abstract-token');\nconst supports = typeof window !== 'undefined' && !!window.CSS && CSS.supports || (() => false);\n/**\n * Note: we don't need to add vendor prefixes within `.scss` files since they're added automatically.\n * This function is necessary when the `element.style` is updated directly through the JavaScript.\n * This is not required to be used with CSS properties that don't require vendor prefixes (e.g. `opacity`).\n */\nfunction setStyleWithVendorPrefix({\n  element,\n  style,\n  value\n}) {\n  element.style[style] = value;\n  if (supports(`-webkit-${style}: ${value}`)) {\n    // Note: some browsers still require setting `-webkit` vendor prefix. E.g. Mozilla 49 has implemented\n    // the 3D support for `transform`, but it requires setting `-webkit-` prefix.\n    element.style[`-webkit-${style}`] = value;\n  }\n}\nconst defaultColumnWidth = 100;\nconst minColumnWidth = 80;\nclass GanttTableHeaderComponent {\n  constructor(elementRef, gantt, cdr) {\n    this.elementRef = elementRef;\n    this.gantt = gantt;\n    this.cdr = cdr;\n    this.tableWidth = 0;\n    this.unsubscribe$ = new Subject();\n    this.className = `gantt-table-header `;\n  }\n  ngOnInit() {\n    this.columnsChange();\n    this.columns.changes.pipe(takeUntil$1(this.unsubscribe$)).subscribe(() => {\n      this.columnsChange();\n      this.gantt.cdr.detectChanges();\n    });\n  }\n  columnsChange() {\n    let tableWidth = 0;\n    this.columns.forEach(column => {\n      if (!column.columnWidth) {\n        column.columnWidth = coerceCssPixelValue(defaultColumnWidth);\n      }\n      tableWidth += Number(column.columnWidth.replace('px', ''));\n    });\n    this.tableWidth = tableWidth;\n  }\n  dragFixed(config) {\n    if (config.movedWidth < config.minWidth) {\n      setStyleWithVendorPrefix({\n        element: config.target,\n        style: 'transform',\n        value: `translate3d(${config.minWidth - config.originWidth}px, 0, 0)`\n      });\n    }\n  }\n  onResizeStarted(event) {\n    const target = event.source.element.nativeElement;\n    this.dragStartLeft = target.getBoundingClientRect().left;\n  }\n  onResizeMoved(event, column) {\n    const target = event.source.element.nativeElement;\n    const left = target.getBoundingClientRect().left;\n    let originWidth;\n    let movedWidth;\n    let minWidth;\n    if (column) {\n      originWidth = parseInt(column.columnWidth, 10);\n      movedWidth = originWidth + (left - this.dragStartLeft);\n      minWidth = minColumnWidth;\n    } else {\n      originWidth = this.elementRef.nativeElement.getBoundingClientRect().width;\n      movedWidth = originWidth + (left - this.dragStartLeft);\n      minWidth = minColumnWidth * this.columns.length;\n    }\n    this.dragFixed({\n      target,\n      originWidth,\n      movedWidth,\n      minWidth\n    });\n    this.showAuxiliaryLine(event);\n  }\n  onResizeEnded(event, column) {\n    const beforeWidth = parseInt(column.columnWidth, 10);\n    const target = event.source.element.nativeElement;\n    const left = target.getBoundingClientRect().left;\n    const width = parseInt(column.columnWidth, 10) + (left - this.dragStartLeft);\n    const columnWidth = Math.max(width || 0, minColumnWidth);\n    column.columnWidth = coerceCssPixelValue(columnWidth);\n    if (this.gantt.table) {\n      this.gantt.table.columnChanges.emit({\n        columns: this.columns\n      });\n    }\n    this.tableWidth = this.tableWidth - beforeWidth + columnWidth;\n    this.hideAuxiliaryLine();\n    event.source.reset();\n  }\n  onOverallResizeEnded(event) {\n    const target = event.source.element.nativeElement;\n    const left = target.getBoundingClientRect().left;\n    const tableWidth = this.elementRef.nativeElement.getBoundingClientRect().width;\n    const dragWidth = left - this.dragStartLeft;\n    let tempWidth = 0;\n    this.columns.forEach(column => {\n      const lastColumnWidth = parseInt(column.columnWidth, 10);\n      const distributeWidth = parseInt(String(dragWidth * (lastColumnWidth / tableWidth)), 10);\n      const columnWidth = Math.max(lastColumnWidth + distributeWidth || 0, minColumnWidth);\n      column.columnWidth = coerceCssPixelValue(columnWidth);\n      tempWidth += columnWidth;\n    });\n    this.tableWidth = tempWidth;\n    if (this.gantt.table) {\n      this.gantt.table.columnChanges.emit({\n        columns: this.columns\n      });\n    }\n    this.hideAuxiliaryLine();\n    event.source.reset();\n  }\n  showAuxiliaryLine(event) {\n    const tableRect = this.elementRef.nativeElement.getBoundingClientRect();\n    const targetRect = event.source.element.nativeElement.getBoundingClientRect();\n    const distance = {\n      x: targetRect.left - tableRect.left,\n      y: targetRect.top - tableRect.top\n    };\n    this.resizeLineElementRef.nativeElement.style.left = `${distance.x}px`;\n    this.resizeLineElementRef.nativeElement.style.display = 'block';\n  }\n  hideAuxiliaryLine() {\n    this.resizeLineElementRef.nativeElement.style.display = 'none';\n  }\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n  static #_ = this.ɵfac = function GanttTableHeaderComponent_Factory(t) {\n    return new (t || GanttTableHeaderComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(GANTT_ABSTRACT_TOKEN), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GanttTableHeaderComponent,\n    selectors: [[\"gantt-table-header\"]],\n    viewQuery: function GanttTableHeaderComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c13, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.resizeLineElementRef = _t.first);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function GanttTableHeaderComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.className);\n      }\n    },\n    inputs: {\n      columns: \"columns\"\n    },\n    decls: 5,\n    vars: 1,\n    consts: [[1, \"d-flex\"], [\"class\", \"gantt-table-column\", 3, \"width\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDrag\", \"\", \"cdkDragLockAxis\", \"x\", \"cdkDragBoundary\", \".gantt\", 1, \"table-resize-handle\", 3, \"cdkDragMoved\", \"cdkDragStarted\", \"cdkDragEnded\"], [1, \"table-resize-auxiliary-line\"], [\"resizeLine\", \"\"], [1, \"gantt-table-column\"], [3, \"ngTemplateOutlet\", 4, \"ngIf\", \"ngIfElse\"], [\"default\", \"\"], [\"cdkDrag\", \"\", \"cdkDragLockAxis\", \"x\", \"cdkDragBoundary\", \".gantt\", 1, \"column-resize-handle\", 3, \"cdkDragMoved\", \"cdkDragStarted\", \"cdkDragEnded\"], [3, \"ngTemplateOutlet\"]],\n    template: function GanttTableHeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, GanttTableHeaderComponent_div_1_Template, 5, 4, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵlistener(\"cdkDragMoved\", function GanttTableHeaderComponent_Template_div_cdkDragMoved_2_listener($event) {\n          return ctx.onResizeMoved($event);\n        })(\"cdkDragStarted\", function GanttTableHeaderComponent_Template_div_cdkDragStarted_2_listener($event) {\n          return ctx.onResizeStarted($event);\n        })(\"cdkDragEnded\", function GanttTableHeaderComponent_Template_div_cdkDragEnded_2_listener($event) {\n          return ctx.onOverallResizeEnded($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"div\", 3, 4);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.columns);\n      }\n    },\n    dependencies: [i1.NgForOf, i1.NgIf, i1.NgTemplateOutlet, i2.CdkDrag],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttTableHeaderComponent, [{\n    type: Component,\n    args: [{\n      selector: 'gantt-table-header',\n      template: \"<div class=\\\"d-flex\\\">\\n  <div class=\\\"gantt-table-column\\\" *ngFor=\\\"let column of columns; let i = index\\\" [style.width]=\\\"column.columnWidth\\\">\\n    <ng-container *ngIf=\\\"column.headerTemplateRef; else default\\\" [ngTemplateOutlet]=\\\"column.headerTemplateRef\\\"> </ng-container>\\n    <ng-template #default>\\n      {{ column.name }}\\n    </ng-template>\\n    <div\\n      class=\\\"column-resize-handle\\\"\\n      cdkDrag\\n      cdkDragLockAxis=\\\"x\\\"\\n      cdkDragBoundary=\\\".gantt\\\"\\n      (cdkDragMoved)=\\\"onResizeMoved($event, column)\\\"\\n      (cdkDragStarted)=\\\"onResizeStarted($event)\\\"\\n      (cdkDragEnded)=\\\"onResizeEnded($event, column)\\\"\\n    ></div>\\n  </div>\\n</div>\\n\\n<div\\n  class=\\\"table-resize-handle\\\"\\n  cdkDrag\\n  cdkDragLockAxis=\\\"x\\\"\\n  cdkDragBoundary=\\\".gantt\\\"\\n  (cdkDragMoved)=\\\"onResizeMoved($event)\\\"\\n  (cdkDragStarted)=\\\"onResizeStarted($event)\\\"\\n  (cdkDragEnded)=\\\"onOverallResizeEnded($event)\\\"\\n></div>\\n\\n<div #resizeLine class=\\\"table-resize-auxiliary-line\\\"></div>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_ABSTRACT_TOKEN]\n      }]\n    }, {\n      type: i0.ChangeDetectorRef\n    }];\n  }, {\n    columns: [{\n      type: Input\n    }],\n    resizeLineElementRef: [{\n      type: ViewChild,\n      args: ['resizeLine', {\n        static: true\n      }]\n    }],\n    className: [{\n      type: HostBinding,\n      args: ['class']\n    }]\n  });\n})();\nconst angleRight = `<svg xmlns=\"http://www.w3.org/2000/svg\" fit=\"\"  preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><g id=\"amnavigation/angle-right\" stroke-width=\"1\" fill-rule=\"evenodd\"><path d=\"M7.978 11.498l-.005.005L2.3 5.831 3.13 5l4.848 4.848L12.826 5l.83.831-5.673 5.672-.005-.005z\"   transform=\"rotate(-90 7.978 8.252)\"></path></g></svg>`;\nconst angleDown = `<svg xmlns=\"http://www.w3.org/2000/svg\" fit=\"\"  preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><g id=\"aknavigation/angle-down\" stroke-width=\"1\" fill-rule=\"evenodd\"><path d=\"M7.978 11.997l-.005.006L2.3 6.33l.83-.831 4.848 4.848L12.826 5.5l.83.83-5.673 5.673-.005-.006z\" ></path></g></svg>`;\nconst plusSquare = `<svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\"   preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><g id=\"kxaction/plus-square\" stroke-width=\"1\" fill-rule=\"evenodd\"><path d=\"M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1.2a.8.8 0 0 0-.8.8v12a.8.8 0 0 0 .8.8h12a.8.8 0 0 0 .8-.8V2a.8.8 0 0 0-.8-.8H2zm5.45 6.2V4.75h1.2V7.4h2.65v1.2H8.65v2.65h-1.2V8.6H4.8V7.4h2.65z\"></path></g></svg>`;\nconst minusSquare = `<svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><g id=\"jnaction/minus-square\" stroke-width=\"1\" fill-rule=\"evenodd\"><path d=\"M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1.2a.8.8 0 0 0-.8.8v12a.8.8 0 0 0 .8.8h12a.8.8 0 0 0 .8-.8V2a.8.8 0 0 0-.8-.8H2zm2.8 6.2h6.5v1.2H4.8V7.4z\"></path></g></svg>`;\nconst loadingIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  viewBox=\"0 0 50 50\" style=\"enable-background:new 0 0 50 50\" xml:space=\"preserve\">\n<path fill=\"#aaa\" d=\"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z\" transform=\"rotate(275.098 25 25)\">\n    <animateTransform attributeType=\"xml\" attributeName=\"transform\" type=\"rotate\" from=\"0 25 25\" to=\"360 25 25\" dur=\"0.6s\" repeatCount=\"indefinite\"></animateTransform>\n</path>\n</svg>`;\nconst emptyIcon = `<svg\nwidth=\"148px\"\nheight=\"134px\"\nviewBox=\"0 0 148 134\"\nversion=\"1.1\"\nxmlns=\"http://www.w3.org/2000/svg\"\nxmlns:xlink=\"http://www.w3.org/1999/xlink\"\n>\n<defs>\n  <filter x=\"0.0%\" y=\"0.0%\" width=\"100.0%\" height=\"100.0%\" filterUnits=\"objectBoundingBox\" id=\"filter-1\">\n    <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\"></feGaussianBlur>\n  </filter>\n</defs>\n<g id=\"148x134\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n  <g id=\"编组-6\" transform=\"translate(1.000000, 1.000000)\">\n    <ellipse\n      id=\"椭圆形\"\n      fill=\"#EDEEF2\"\n      opacity=\"0.3\"\n      filter=\"url(#filter-1)\"\n      cx=\"73.0800017\"\n      cy=\"115.920003\"\n      rx=\"73.0800017\"\n      ry=\"16.8000004\"\n    ></ellipse>\n    <g id=\"编组-5\" transform=\"translate(15.120000, 0.000000)\">\n      <polygon\n        id=\"矩形\"\n        fill=\"#E2E4E9\"\n        points=\"19.2789848 49.5600011 99.1200023 48.7200011 117.600003 75.9297673 117.600003 92.313049 0 92.313049 0 75.0356267\"\n      ></polygon>\n      <path\n        d=\"M23.5200005,0 L94.0800002,0 C97.7913538,2.06413823e-16 100.8,3.00864655 100.8,6.72000015 L100.8,99.1200023 L100.8,99.1200023 L16.8000004,99.1200023 L16.8000004,6.72000015 C16.8000004,3.00864655 19.8086469,1.56994302e-15 23.5200005,0 Z\"\n        id=\"矩形\"\n        fill=\"#F9FAFB\"\n      ></path>\n      <path\n        d=\"M30.9200007,12.4400003 L86.6800019,12.4400003 C88.5356787,12.4400003 90.040002,13.9443236 90.040002,15.8000004 L90.040002,42.000001 C90.040002,43.8556778 88.5356787,45.360001 86.6800019,45.360001 L30.9200007,45.360001 C29.0643239,45.360001 27.5600006,43.8556778 27.5600006,42.000001 L27.5600006,15.8000004 C27.5600006,13.9443236 29.0643239,12.4400003 30.9200007,12.4400003 Z\"\n        id=\"矩形\"\n        fill=\"#E8EAEE\"\n      ></path>\n      <text\n        id=\"&lt;/null&gt;\"\n        font-family=\"PingFangSC-Medium, PingFang SC\"\n        font-size=\"15.1200003\"\n        font-weight=\"400\"\n        fill=\"#BCBECD\"\n      >\n        <tspan x=\"33.6000008\" y=\"32.8000004\">&lt;/null&gt;</tspan>\n      </text>\n      <rect id=\"矩形\" fill=\"#E8EAEE\" x=\"27.5600006\" y=\"52.0800012\" width=\"61.4800014\" height=\"5.04000011\" rx=\"2.52000006\"></rect>\n      <rect\n        id=\"矩形备份\"\n        fill=\"#E8EAEE\"\n        x=\"27.5600006\"\n        y=\"63.8400014\"\n        width=\"61.4800014\"\n        height=\"5.04000011\"\n        rx=\"2.52000006\"\n      ></rect>\n      <path\n        d=\"M0,75.6000017 L29.280235,75.6000017 C32.0637502,75.6000017 34.3202352,77.8564866 34.3202352,80.6400018 L34.3202352,86.2591426 C34.3202352,89.0426578 36.5767201,91.2991427 39.3602353,91.2991427 L78.4136737,91.2991427 C81.1971889,91.2991427 83.4536738,89.0426578 83.4536738,86.2591426 L83.4536738,80.6400018 C83.4536738,77.8564866 85.7101587,75.6000017 88.4936739,75.6000017 L117.600003,75.6000017 L117.600003,75.6000017 L117.600003,110.880003 C117.600003,115.519195 113.839194,119.280003 109.200002,119.280003 L8.40000019,119.280003 C3.76080819,119.280003 -6.53729019e-15,115.519195 0,110.880003 L0,75.6000017 L0,75.6000017 Z\"\n        id=\"矩形\"\n        fill=\"#EDEFF2\"\n      ></path>\n    </g>\n  </g>\n</g>\n</svg>`;\nconst dragIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><g id=\"aijaction/drag--\" stroke-width=\"1\" fill-rule=\"evenodd\"><g id=\"aij拖动\" transform=\"translate(5 1)\" fill-rule=\"nonzero\"><path d=\"M1 2a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM1 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\" id=\"aij形状结合\"></path></g></g></svg>`;\nconst icons = {\n  'angle-right': angleRight,\n  'angle-down': angleDown,\n  'plus-square': plusSquare,\n  'minus-square': minusSquare,\n  loading: loadingIcon,\n  empty: emptyIcon,\n  drag: dragIcon\n};\nclass GanttIconComponent {\n  set iconName(name) {\n    this.setSvg(name);\n  }\n  constructor(elementRef) {\n    this.elementRef = elementRef;\n    this.isIcon = true;\n  }\n  setSvg(name) {\n    const iconSvg = icons[name];\n    if (iconSvg) {\n      this.elementRef.nativeElement.innerHTML = iconSvg;\n    } else {\n      this.elementRef.nativeElement.innerHTML = '';\n    }\n  }\n  static #_ = this.ɵfac = function GanttIconComponent_Factory(t) {\n    return new (t || GanttIconComponent)(i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GanttIconComponent,\n    selectors: [[\"gantt-icon\"]],\n    hostVars: 2,\n    hostBindings: function GanttIconComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"gantt-icon\", ctx.isIcon);\n      }\n    },\n    inputs: {\n      iconName: \"iconName\"\n    },\n    decls: 0,\n    vars: 0,\n    template: function GanttIconComponent_Template(rf, ctx) {},\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttIconComponent, [{\n    type: Component,\n    args: [{\n      selector: 'gantt-icon',\n      template: ''\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }];\n  }, {\n    isIcon: [{\n      type: HostBinding,\n      args: ['class.gantt-icon']\n    }],\n    iconName: [{\n      type: Input\n    }]\n  });\n})();\nclass IsGanttRangeItemPipe {\n  transform(value) {\n    return value === GanttItemType.range;\n  }\n  static #_ = this.ɵfac = function IsGanttRangeItemPipe_Factory(t) {\n    return new (t || IsGanttRangeItemPipe)();\n  };\n  static #_2 = this.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"isGanttRangeItem\",\n    type: IsGanttRangeItemPipe,\n    pure: true\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(IsGanttRangeItemPipe, [{\n    type: Pipe,\n    args: [{\n      name: 'isGanttRangeItem'\n    }]\n  }], null, null);\n})();\nclass IsGanttBarItemPipe {\n  transform(value) {\n    return value === GanttItemType.bar;\n  }\n  static #_ = this.ɵfac = function IsGanttBarItemPipe_Factory(t) {\n    return new (t || IsGanttBarItemPipe)();\n  };\n  static #_2 = this.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"isGanttBarItem\",\n    type: IsGanttBarItemPipe,\n    pure: true\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(IsGanttBarItemPipe, [{\n    type: Pipe,\n    args: [{\n      name: 'isGanttBarItem'\n    }]\n  }], null, null);\n})();\nclass IsGanttCustomItemPipe {\n  transform(value) {\n    return value === GanttItemType.custom;\n  }\n  static #_ = this.ɵfac = function IsGanttCustomItemPipe_Factory(t) {\n    return new (t || IsGanttCustomItemPipe)();\n  };\n  static #_2 = this.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"isGanttCustomItem\",\n    type: IsGanttCustomItemPipe,\n    pure: true\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(IsGanttCustomItemPipe, [{\n    type: Pipe,\n    args: [{\n      name: 'isGanttCustomItem'\n    }]\n  }], null, null);\n})();\nclass GanttTableBodyComponent {\n  set viewportItems(data) {\n    const firstData = data[0];\n    if (firstData && firstData.hasOwnProperty('items')) {\n      this.hasGroup = true;\n    }\n    this.ganttTableEmptyClass = data?.length ? false : true;\n    this._viewportItems = data;\n  }\n  get viewportItems() {\n    return this._viewportItems;\n  }\n  constructor(gantt, ganttUpper, cdr, document) {\n    this.gantt = gantt;\n    this.ganttUpper = ganttUpper;\n    this.cdr = cdr;\n    this.document = document;\n    this.draggable = false;\n    this.dragDropped = new EventEmitter();\n    this.dragStarted = new EventEmitter();\n    this.dragEnded = new EventEmitter();\n    this.itemClick = new EventEmitter();\n    this.ganttTableClass = true;\n    this.ganttTableEmptyClass = false;\n    this.ganttTableDragging = false;\n    this.hasExpandIcon = false;\n    // 缓存 Element 和 DragRef 的关系，方便在 Item 拖动时查找\n    this.itemDragsMap = new Map();\n    this.itemDragMoved = new Subject();\n    this.destroy$ = new Subject();\n  }\n  ngOnInit() {\n    this.columns.changes.pipe(startWith(this.columns), takeUntil$1(this.destroy$)).subscribe(() => {\n      this.hasExpandIcon = false;\n      this.columns.forEach(column => {\n        if (!column.columnWidth) {\n          column.columnWidth = coerceCssPixelValue(defaultColumnWidth);\n        }\n        if (column.showExpandIcon) {\n          this.hasExpandIcon = true;\n        }\n      });\n      this.cdr.detectChanges();\n    });\n  }\n  ngAfterViewInit() {\n    this.cdkDrags.changes.pipe(startWith(this.cdkDrags), takeUntil$1(this.destroy$)).subscribe(drags => {\n      this.itemDragsMap.clear();\n      drags.forEach(drag => {\n        if (drag.data) {\n          // cdkDrag 变化时，缓存 Element 与 DragRef 的关系，方便 Drag Move 时查找\n          this.itemDragsMap.set(drag.element.nativeElement, drag);\n        }\n      });\n    });\n    this.itemDragMoved.pipe(auditTime(30),\n    //  auditTime 可能会导致拖动结束后仍然执行 moved ，所以通过判断 dragging 状态来过滤无效 moved\n    filter(event => event.source._dragRef.isDragging()), takeUntil$1(this.destroy$)).subscribe(event => {\n      this.onItemDragMoved(event);\n    });\n  }\n  expandGroup(group) {\n    this.gantt.expandGroup(group);\n  }\n  expandChildren(event, item) {\n    event.stopPropagation();\n    this.gantt.expandChildren(item);\n  }\n  onItemDragStarted(event) {\n    this.ganttTableDragging = true;\n    // 拖动开始时隐藏所有的子项\n    const children = this.getChildrenElementsByElement(event.source.element.nativeElement);\n    children.forEach(element => {\n      element.classList.add('drag-item-hide');\n    });\n    this.dragStarted.emit({\n      source: event.source.data?.origin,\n      sourceParent: this.getParentByItem(event.source.data)?.origin\n    });\n  }\n  emitItemDragMoved(event) {\n    this.itemDragMoved.next(event);\n  }\n  onItemDragMoved(event) {\n    // 通过鼠标位置查找对应的目标 Item 元素\n    let currentPointElement = this.document.elementFromPoint(event.pointerPosition.x, event.pointerPosition.y);\n    if (!currentPointElement) {\n      this.cleanupDragArtifacts();\n      return;\n    }\n    let targetElement = currentPointElement.classList.contains('gantt-table-item') ? currentPointElement : currentPointElement.closest('.gantt-table-item');\n    if (!targetElement) {\n      this.cleanupDragArtifacts();\n      return;\n    }\n    // 缓存放置目标Id 并计算鼠标相对应的位置\n    this.itemDropTarget = {\n      id: this.itemDragsMap.get(targetElement)?.data.id,\n      position: this.getTargetPosition(targetElement, event)\n    };\n    // 执行外部传入的 dropEnterPredicate 判断是否允许拖入目标项\n    if (this.dropEnterPredicate) {\n      const targetDragRef = this.itemDragsMap.get(targetElement);\n      if (this.dropEnterPredicate({\n        source: event.source.data.origin,\n        target: targetDragRef.data.origin,\n        dropPosition: this.itemDropTarget.position\n      })) {\n        this.showDropPositionPlaceholder(targetElement);\n      } else {\n        this.itemDropTarget = null;\n        this.cleanupDragArtifacts(false);\n      }\n    } else {\n      this.showDropPositionPlaceholder(targetElement);\n    }\n  }\n  onItemDragEnded(event) {\n    this.ganttTableDragging = false;\n    this.dragEnded.emit({\n      source: event.source.data?.origin,\n      sourceParent: this.getParentByItem(event.source.data)?.origin\n    });\n    // dropEnterPredicate 方法返回值为 false 时，始终未执行 onListDropped，所以只能在 dragEnded 中移除 drag-item-hide\n    const children = this.getChildrenElementsByElement(event.source.element.nativeElement);\n    children.forEach(element => {\n      element.classList.remove('drag-item-hide');\n    });\n  }\n  onListDropped(event) {\n    if (!this.itemDropTarget) {\n      return;\n    }\n    const sourceItem = event.item.data;\n    const sourceParent = this.getParentByItem(sourceItem);\n    const sourceChildren = this.getExpandChildrenByDrag(event.item);\n    const targetDragRef = this.cdkDrags.find(item => item.data?.id === this.itemDropTarget.id);\n    const targetItem = targetDragRef?.data;\n    const targetParent = this.getParentByItem(targetItem);\n    this.removeItem(sourceItem, sourceChildren);\n    switch (this.itemDropTarget.position) {\n      case 'before':\n      case 'after':\n        this.insertItem(targetItem, sourceItem, sourceChildren, this.itemDropTarget.position);\n        sourceItem.updateLevel(targetItem.level);\n        break;\n      case 'inside':\n        this.insertChildrenItem(targetItem, sourceItem, sourceChildren);\n        sourceItem.updateLevel(targetItem.level + 1);\n        break;\n    }\n    this.dragDropped.emit({\n      source: sourceItem.origin,\n      sourceParent: sourceParent?.origin,\n      target: targetItem.origin,\n      targetParent: targetParent?.origin,\n      dropPosition: this.itemDropTarget.position\n    });\n    this.cleanupDragArtifacts(true);\n  }\n  trackBy(index, item) {\n    return item.id || index;\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  removeItem(item, children) {\n    this.viewportItems.splice(this.viewportItems.indexOf(item), 1 + children.length);\n    this.flatItems.splice(this.flatItems.indexOf(item), 1 + children.length);\n  }\n  insertItem(target, inserted, children, position) {\n    if (position === 'before') {\n      this.viewportItems.splice(this.viewportItems.indexOf(target), 0, inserted, ...children);\n      this.flatItems.splice(this.flatItems.indexOf(target), 0, inserted, ...children);\n    } else {\n      const dragRef = this.cdkDrags.find(drag => drag.data === target);\n      // 如果目标项是展开的，插入的 index 位置需要考虑子项的数量\n      let childrenCount = 0;\n      if (target.expanded) {\n        childrenCount = this.getChildrenElementsByElement(dragRef.element.nativeElement)?.length || 0;\n      }\n      this.viewportItems.splice(this.viewportItems.indexOf(target) + 1 + childrenCount, 0, inserted, ...children);\n      this.flatItems.splice(this.flatItems.indexOf(target) + 1 + childrenCount, 0, inserted, ...children);\n    }\n  }\n  insertChildrenItem(target, inserted, children) {\n    if (target.expanded) {\n      this.viewportItems.splice(this.viewportItems.indexOf(target) + target.children.length + 1, 0, inserted, ...children);\n      this.flatItems.splice(this.flatItems.indexOf(target) + target.children.length + 1, 0, inserted, ...children);\n    }\n    target.children.push(inserted);\n  }\n  getParentByItem(item) {\n    return (this.flatItems || []).find(n => {\n      return n.children?.includes(item);\n    });\n  }\n  getExpandChildrenByDrag(dragRef) {\n    if (!dragRef.data.expanded) {\n      return [];\n    } else {\n      const childrenElements = this.getChildrenElementsByElement(dragRef.element.nativeElement);\n      return childrenElements.map(element => this.itemDragsMap.get(element).data);\n    }\n  }\n  getChildrenElementsByElement(dragElement) {\n    // 通过循环持续查找 next element，如果 element 的 level 小于当前 item 的 level，则为它的 children\n    const children = [];\n    const dragRef = this.itemDragsMap.get(dragElement);\n    // 如果当前的 Drag 正在拖拽，会创建 PlaceholderElement 占位，所以以 PlaceholderElement 向下查找\n    let nextElement = (dragRef.getPlaceholderElement() || dragElement).nextElementSibling;\n    let nextDragRef = this.itemDragsMap.get(nextElement);\n    while (nextDragRef && nextDragRef.data.level > dragRef.data.level) {\n      children.push(nextElement);\n      nextElement = nextElement.nextElementSibling;\n      nextDragRef = this.itemDragsMap.get(nextElement);\n    }\n    return children;\n  }\n  getTargetPosition(target, event) {\n    const targetRect = target.getBoundingClientRect();\n    const beforeOrAfterGap = targetRect.height * 0.3;\n    // 将 Item 高度分为上中下三段，其中上下的 Gap 为 height 的 30%，通过判断鼠标位置在哪一段 gap 来计算对应的位置\n    if (event.pointerPosition.y - targetRect.top < beforeOrAfterGap) {\n      return 'before';\n    } else if (event.pointerPosition.y >= targetRect.bottom - beforeOrAfterGap) {\n      return 'after';\n    } else {\n      return 'inside';\n    }\n  }\n  showDropPositionPlaceholder(targetElement) {\n    this.cleanupDragArtifacts();\n    if (this.itemDropTarget && targetElement) {\n      targetElement.classList.add(`drop-position-${this.itemDropTarget.position}`);\n    }\n  }\n  cleanupDragArtifacts(dropped = false) {\n    if (dropped) {\n      this.itemDropTarget = null;\n      this.document.querySelectorAll('.drag-item-hide').forEach(element => element.classList.remove('drag-item-hide'));\n    }\n    this.document.querySelectorAll('.drop-position-before').forEach(element => element.classList.remove('drop-position-before'));\n    this.document.querySelectorAll('.drop-position-after').forEach(element => element.classList.remove('drop-position-after'));\n    this.document.querySelectorAll('.drop-position-inside').forEach(element => element.classList.remove('drop-position-inside'));\n  }\n  static #_ = this.ɵfac = function GanttTableBodyComponent_Factory(t) {\n    return new (t || GanttTableBodyComponent)(i0.ɵɵdirectiveInject(GANTT_ABSTRACT_TOKEN), i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(DOCUMENT));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GanttTableBodyComponent,\n    selectors: [[\"gantt-table-body\"]],\n    viewQuery: function GanttTableBodyComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(CdkDrag, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.cdkDrags = _t);\n      }\n    },\n    hostVars: 8,\n    hostBindings: function GanttTableBodyComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"gantt-table-draggable\", ctx.draggable)(\"gantt-table-body\", ctx.ganttTableClass)(\"gantt-table-empty\", ctx.ganttTableEmptyClass)(\"gantt-table-dragging\", ctx.ganttTableDragging);\n      }\n    },\n    inputs: {\n      viewportItems: \"viewportItems\",\n      flatItems: \"flatItems\",\n      columns: \"columns\",\n      groupTemplate: \"groupTemplate\",\n      emptyTemplate: \"emptyTemplate\",\n      rowBeforeTemplate: \"rowBeforeTemplate\",\n      rowAfterTemplate: \"rowAfterTemplate\",\n      draggable: \"draggable\",\n      dropEnterPredicate: \"dropEnterPredicate\"\n    },\n    outputs: {\n      dragDropped: \"dragDropped\",\n      dragStarted: \"dragStarted\",\n      dragEnded: \"dragEnded\",\n      itemClick: \"itemClick\"\n    },\n    decls: 3,\n    vars: 5,\n    consts: [[\"cdkDropList\", \"\", 1, \"gantt-table-body-container\", 3, \"cdkDropListAutoScrollStep\", \"cdkDropListData\", \"cdkDropListSortingDisabled\", \"cdkDropListDropped\"], [4, \"ngIf\"], [3, \"ngTemplateOutlet\"], [\"iconName\", \"empty\", 1, \"empty-icon\"], [1, \"empty-text\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"gantt-table-group\", 3, \"ngClass\", 4, \"ngIf\"], [\"cdkDrag\", \"\", \"class\", \"gantt-table-item\", 3, \"cdkDragData\", \"cdkDragDisabled\", \"gantt-table-item-with-group\", \"gantt-table-item-first-level-group\", \"height\", \"lineHeight\", \"gantt-table-item-active\", \"click\", \"cdkDragStarted\", \"cdkDragEnded\", \"cdkDragMoved\", 4, \"ngIf\"], [1, \"gantt-table-group\", 3, \"ngClass\"], [1, \"gantt-table-group-title\", 3, \"click\"], [1, \"expand-icon\", 3, \"iconName\"], [4, \"ngIf\", \"ngIfElse\"], [\"default\", \"\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"group-title\"], [\"cdkDrag\", \"\", 1, \"gantt-table-item\", 3, \"cdkDragData\", \"cdkDragDisabled\", \"click\", \"cdkDragStarted\", \"cdkDragEnded\", \"cdkDragMoved\"], [3, \"classList\", \"width\", 4, \"ngFor\", \"ngForOf\"], [3, \"classList\"], [\"class\", \"gantt-drag-handle\", \"iconName\", \"drag\", \"cdkDragHandle\", \"\", 3, \"cdkDragHandleDisabled\", 4, \"ngIf\"], [\"class\", \"gantt-expand-icon\", 3, \"marginLeft\", 4, \"ngIf\"], [1, \"gantt-table-column-content\"], [\"iconName\", \"drag\", \"cdkDragHandle\", \"\", 1, \"gantt-drag-handle\", 3, \"cdkDragHandleDisabled\"], [1, \"gantt-expand-icon\"], [\"class\", \"expand-icon\", 3, \"iconName\", \"click\", 4, \"ngIf\"], [3, \"iconName\", 4, \"ngIf\"], [1, \"expand-icon\", 3, \"iconName\", \"click\"], [3, \"iconName\"]],\n    template: function GanttTableBodyComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"cdkDropListDropped\", function GanttTableBodyComponent_Template_div_cdkDropListDropped_0_listener($event) {\n          return ctx.onListDropped($event);\n        });\n        i0.ɵɵtemplate(1, GanttTableBodyComponent_ng_container_1_Template, 3, 2, \"ng-container\", 1);\n        i0.ɵɵtemplate(2, GanttTableBodyComponent_ng_container_2_Template, 2, 2, \"ng-container\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"cdkDropListAutoScrollStep\", 6)(\"cdkDropListData\", ctx.viewportItems)(\"cdkDropListSortingDisabled\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.viewportItems == null ? null : ctx.viewportItems.length));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.viewportItems && ctx.viewportItems.length > 0);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i1.NgTemplateOutlet, i2.CdkDropList, i2.CdkDrag, i2.CdkDragHandle, GanttIconComponent, IsGanttRangeItemPipe],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttTableBodyComponent, [{\n    type: Component,\n    args: [{\n      selector: 'gantt-table-body',\n      template: \"<div\\n  class=\\\"gantt-table-body-container\\\"\\n  cdkDropList\\n  [cdkDropListAutoScrollStep]=\\\"6\\\"\\n  [cdkDropListData]=\\\"viewportItems\\\"\\n  [cdkDropListSortingDisabled]=\\\"true\\\"\\n  (cdkDropListDropped)=\\\"onListDropped($event)\\\"\\n>\\n  <ng-container *ngIf=\\\"!viewportItems?.length\\\">\\n    <ng-container *ngIf=\\\"!emptyTemplate\\\">\\n      <gantt-icon class=\\\"empty-icon\\\" iconName=\\\"empty\\\"></gantt-icon>\\n      <div class=\\\"empty-text\\\">\\u6CA1\\u6709\\u6570\\u636E</div>\\n    </ng-container>\\n    <ng-template [ngTemplateOutlet]=\\\"emptyTemplate\\\"></ng-template>\\n  </ng-container>\\n\\n  <ng-container *ngIf=\\\"viewportItems && viewportItems.length > 0\\\">\\n    <ng-container *ngFor=\\\"let item of viewportItems; trackBy: trackBy\\\">\\n      <div class=\\\"gantt-table-group\\\" [ngClass]=\\\"item.class\\\" *ngIf=\\\"item.items\\\">\\n        <div class=\\\"gantt-table-group-title\\\" [class.expanded]=\\\"item.expanded\\\" (click)=\\\"expandGroup(item)\\\">\\n          <gantt-icon class=\\\"expand-icon\\\" [iconName]=\\\"item.expanded ? 'angle-down' : 'angle-right'\\\"></gantt-icon>\\n          <ng-container *ngIf=\\\"groupTemplate; else default\\\">\\n            <ng-template\\n              [ngTemplateOutlet]=\\\"groupTemplate\\\"\\n              [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, group: item.origin }\\\"\\n            ></ng-template>\\n          </ng-container>\\n          <ng-template #default>\\n            <span class=\\\"group-title\\\">{{ item.title }}</span>\\n          </ng-template>\\n        </div>\\n      </div>\\n\\n      <div\\n        *ngIf=\\\"!item.items\\\"\\n        (click)=\\\"itemClick.emit({ event: $event, selectedValue: item.origin })\\\"\\n        cdkDrag\\n        [cdkDragData]=\\\"item\\\"\\n        [cdkDragDisabled]=\\\"(draggable && item.itemDraggable === false) || !draggable\\\"\\n        (cdkDragStarted)=\\\"onItemDragStarted($event)\\\"\\n        (cdkDragEnded)=\\\"onItemDragEnded($event)\\\"\\n        (cdkDragMoved)=\\\"emitItemDragMoved($event)\\\"\\n        class=\\\"gantt-table-item\\\"\\n        [class.gantt-table-item-with-group]=\\\"hasGroup\\\"\\n        [class.gantt-table-item-first-level-group]=\\\"item.level === 0 && (item.type | isGanttRangeItem)\\\"\\n        [style.height.px]=\\\"gantt.styles.lineHeight\\\"\\n        [style.lineHeight.px]=\\\"gantt.styles.lineHeight\\\"\\n        [class.gantt-table-item-active]=\\\"ganttUpper.isSelected(item.id)\\\"\\n      >\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"rowBeforeTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, item: item.origin }\\\"\\n        ></ng-template>\\n\\n        <div [classList]=\\\"column.classList\\\" *ngFor=\\\"let column of columns; let first = first\\\" [style.width]=\\\"column.columnWidth\\\">\\n          <!-- drag icon -->\\n          <gantt-icon\\n            *ngIf=\\\"first && draggable\\\"\\n            class=\\\"gantt-drag-handle\\\"\\n            iconName=\\\"drag\\\"\\n            cdkDragHandle\\n            [cdkDragHandleDisabled]=\\\"(draggable && item.itemDraggable === false) || !draggable\\\"\\n          ></gantt-icon>\\n          <!-- expand icon -->\\n          <div\\n            *ngIf=\\\"column?.showExpandIcon || (!hasExpandIcon && first)\\\"\\n            class=\\\"gantt-expand-icon\\\"\\n            [style.marginLeft.px]=\\\"item.level * 20\\\"\\n          >\\n            <ng-container *ngIf=\\\"item.level < gantt.maxLevel - 1 && ((gantt.async && item.expandable) || item.children?.length > 0)\\\">\\n              <gantt-icon\\n                *ngIf=\\\"!item.loading\\\"\\n                class=\\\"expand-icon\\\"\\n                [iconName]=\\\"item.expanded ? 'angle-down' : 'angle-right'\\\"\\n                (click)=\\\"expandChildren($event, item)\\\"\\n              >\\n              </gantt-icon>\\n              <gantt-icon *ngIf=\\\"item.loading\\\" [iconName]=\\\"'loading'\\\"></gantt-icon>\\n            </ng-container>\\n          </div>\\n          <!-- column content -->\\n          <div class=\\\"gantt-table-column-content\\\">\\n            <ng-template\\n              [ngTemplateOutlet]=\\\"column.templateRef\\\"\\n              [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, item: item.origin }\\\"\\n            ></ng-template>\\n          </div>\\n        </div>\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"rowAfterTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, item: item.origin }\\\"\\n        ></ng-template>\\n      </div>\\n    </ng-container>\\n  </ng-container>\\n</div>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_ABSTRACT_TOKEN]\n      }]\n    }, {\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: Document,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }];\n  }, {\n    viewportItems: [{\n      type: Input\n    }],\n    flatItems: [{\n      type: Input\n    }],\n    columns: [{\n      type: Input\n    }],\n    groupTemplate: [{\n      type: Input\n    }],\n    emptyTemplate: [{\n      type: Input\n    }],\n    rowBeforeTemplate: [{\n      type: Input\n    }],\n    rowAfterTemplate: [{\n      type: Input\n    }],\n    draggable: [{\n      type: HostBinding,\n      args: ['class.gantt-table-draggable']\n    }, {\n      type: Input\n    }],\n    dropEnterPredicate: [{\n      type: Input\n    }],\n    dragDropped: [{\n      type: Output\n    }],\n    dragStarted: [{\n      type: Output\n    }],\n    dragEnded: [{\n      type: Output\n    }],\n    itemClick: [{\n      type: Output\n    }],\n    ganttTableClass: [{\n      type: HostBinding,\n      args: ['class.gantt-table-body']\n    }],\n    ganttTableEmptyClass: [{\n      type: HostBinding,\n      args: ['class.gantt-table-empty']\n    }],\n    ganttTableDragging: [{\n      type: HostBinding,\n      args: ['class.gantt-table-dragging']\n    }],\n    cdkDrags: [{\n      type: ViewChildren,\n      args: [CdkDrag]\n    }]\n  });\n})();\nclass GanttLinkLine {\n  constructor() {}\n  generatePath(source, target, type) {\n    if (source.before && source.after && target.before && target.after) {\n      let path = '';\n      switch (type) {\n        case GanttLinkType.ss:\n          path = this.generateSSPath(source, target);\n          break;\n        case GanttLinkType.ff:\n          path = this.generateFFPath(source, target);\n          break;\n        case GanttLinkType.sf:\n          path = this.generateFSAndSFPath(source, target, type);\n          break;\n        default:\n          path = this.generateFSAndSFPath(source, target);\n      }\n      return path;\n    }\n  }\n}\nlet GanttLinkLineCurve = class GanttLinkLineCurve extends GanttLinkLine {\n  constructor(ganttUpper) {\n    super();\n    this.ganttUpper = ganttUpper;\n  }\n  generateSSPath(source, target) {\n    const x1 = source.before.x;\n    const y1 = source.before.y;\n    const x4 = target.before.x;\n    const y4 = target.before.y;\n    const isMirror = y4 > y1 ? 0 : 1;\n    const radius = Math.abs(y4 - y1) / 2;\n    if (x4 > x1) {\n      return `M ${x1} ${y1}\n                    A ${radius} ${radius} 0 1 ${isMirror} ${x1} ${y4}\n                    L ${x4} ${y4}`;\n    } else {\n      return `M ${x1} ${y1}\n                    L ${x4} ${y1}\n                    A ${radius} ${radius} 0 1 ${isMirror} ${x4} ${y4}`;\n    }\n  }\n  generateFFPath(source, target) {\n    const x1 = source.after.x;\n    const y1 = source.after.y;\n    const x4 = target.after.x;\n    const y4 = target.after.y;\n    const isMirror = y4 > y1 ? 1 : 0;\n    const radius = Math.abs(y4 - y1) / 2;\n    if (x4 > x1) {\n      return `M ${x1} ${y1}\n                    L ${x4} ${y1}\n                    A ${radius} ${radius} 0 1 ${isMirror} ${x4} ${y4}`;\n    } else {\n      return `M ${x1} ${y1}\n                    A ${radius} ${radius} 0 1 ${isMirror} ${x1} ${y4}\n                    L ${x4} ${y4}`;\n    }\n  }\n  generateFSAndSFPath(source, target, type) {\n    let x1 = source.after.x;\n    let y1 = source.after.y;\n    let x4 = target.before.x;\n    let y4 = target.before.y;\n    const bezierWeight = 0.5;\n    if (type === GanttLinkType.sf) {\n      x1 = target.after.x;\n      y1 = target.after.y;\n      x4 = source.before.x;\n      y4 = source.before.y;\n    }\n    let dx = Math.abs(x4 - x1) * bezierWeight;\n    let x2 = x1 + dx;\n    let x3 = x4 - dx;\n    const centerX = (x1 + x4) / 2;\n    const centerY = (y1 + y4) / 2;\n    let controlX = this.ganttUpper.styles.lineHeight / 2;\n    const controlY = this.ganttUpper.styles.lineHeight / 2;\n    if (x1 >= x4) {\n      if (Math.abs(y4 - y1) <= this.ganttUpper.styles.lineHeight) {\n        return `M ${x1} ${y1}\n                    C ${x1 + controlX} ${y1} ${x1 + controlX} ${y4 > y1 ? y1 + controlX : y1 - controlX} ${x1} ${y4 > y1 ? y1 + controlY : y1 - controlY}\n                    L ${x4} ${y4 > y1 ? y4 - controlY : y4 + controlY}\n                    C ${x4 - controlY} ${y4 > y1 ? y4 - controlY : y4 + controlY}  ${x4 - controlX} ${y4} ${x4} ${y4}\n                    `;\n      } else {\n        controlX = this.ganttUpper.styles.lineHeight;\n        return `M ${x1} ${y1}\n                    C ${x1 + controlX} ${y1} ${x1 + controlX} ${y4 > y1 ? y1 + controlX : y1 - controlX} ${centerX} ${centerY}\n                    C ${x4 - controlX} ${y4 > y1 ? y4 - controlX : y4 + controlX} ${x4 - controlX} ${y4} ${x4} ${y4}\n                    `;\n      }\n    } else if (this.ganttUpper.linkOptions?.showArrow && x4 - x1 < 200) {\n      dx = Math.max(Math.abs(y4 - y1) * bezierWeight, 60);\n      x2 = x1 + dx;\n      x3 = x4 - dx;\n      return `M ${x1} ${y1} C ${x2} ${y1} ${x3} ${y4} ${x4} ${y4}`;\n    }\n    return `M ${x1} ${y1} C ${x2} ${y1} ${x3} ${y4} ${x4} ${y4}`;\n  }\n};\nGanttLinkLineCurve = __decorate([__param(0, Inject(GANTT_UPPER_TOKEN))], GanttLinkLineCurve);\nclass GanttLinkLineStraight extends GanttLinkLine {\n  constructor() {\n    super();\n    this.pathControl = 20;\n  }\n  generateSSPath(source, target) {\n    const x1 = source.before.x;\n    const y1 = source.before.y;\n    const x4 = target.before.x;\n    const y4 = target.before.y;\n    const control = this.pathControl;\n    return `M ${x1} ${y1}\n                        L ${x4 > x1 ? x1 - control : x4 - control} ${y1}\n                        L ${x4 > x1 ? x1 - control : x4 - control} ${y4}\n                        L ${x4} ${y4}`;\n  }\n  generateFFPath(source, target) {\n    const x1 = source.after.x;\n    const y1 = source.after.y;\n    const x4 = target.after.x;\n    const y4 = target.after.y;\n    const control = this.pathControl;\n    return `M ${x1} ${y1}\n                        L ${x4 > x1 ? x4 + control : x1 + control} ${y1}\n                        L ${x4 > x1 ? x4 + control : x1 + control} ${y4}\n                        L ${x4} ${y4}`;\n  }\n  generateFSAndSFPath(source, target, type) {\n    let x1 = source.after.x;\n    let y1 = source.after.y;\n    let x4 = target.before.x;\n    let y4 = target.before.y;\n    const control = this.pathControl;\n    if (type === GanttLinkType.sf) {\n      x1 = target.after.x;\n      y1 = target.after.y;\n      x4 = source.before.x;\n      y4 = source.before.y;\n    }\n    if (x4 - x1 >= 40) {\n      return `M ${x1} ${y1}\n                        L ${x1 + control} ${y1}\n                        L ${x1 + control} ${y4}\n                        L ${x4} ${y4}`;\n    } else {\n      return `M ${x1} ${y1}\n                        L ${x1 + control} ${y1}\n                        L ${x1 + control} ${y4 > y1 ? y1 + control : y1 - control}\n                        L ${x4 - control} ${y4 > y1 ? y1 + control : y1 - control}\n                        L ${x4 - control} ${y4}\n                        L ${x4} ${y4}`;\n    }\n  }\n}\nfunction createLineGenerator(type, ganttUpper) {\n  switch (type) {\n    case GanttLinkLineType.curve:\n      return new GanttLinkLineCurve(ganttUpper);\n    case GanttLinkLineType.straight:\n      return new GanttLinkLineStraight();\n    default:\n      throw new Error('gantt link path type invalid');\n  }\n}\nfunction getDependencyType(path, dependencyTypes) {\n  if (dependencyTypes.includes(GanttLinkType.ss) && path.from.pos === InBarPosition.start && path.to.pos === InBarPosition.start) {\n    return GanttLinkType.ss;\n  }\n  if (dependencyTypes.includes(GanttLinkType.ff) && path.from.pos === InBarPosition.finish && path.to.pos === InBarPosition.finish) {\n    return GanttLinkType.ff;\n  }\n  if (dependencyTypes.includes(GanttLinkType.sf) && path.from.pos === InBarPosition.start && path.to.pos === InBarPosition.finish) {\n    return GanttLinkType.sf;\n  }\n  return GanttLinkType.fs;\n}\nvar InBarPosition;\n(function (InBarPosition) {\n  InBarPosition[\"start\"] = \"start\";\n  InBarPosition[\"finish\"] = \"finish\";\n})(InBarPosition || (InBarPosition = {}));\nclass GanttDragContainer {\n  constructor(ganttUpper) {\n    this.ganttUpper = ganttUpper;\n    this.dragStarted = new EventEmitter();\n    this.dragMoved = new EventEmitter();\n    this.dragEnded = new EventEmitter();\n    this.linkDragStarted = new EventEmitter();\n    this.linkDragEntered = new EventEmitter();\n    this.linkDragEnded = new EventEmitter();\n    this.linkDragPath = {\n      from: null,\n      to: null\n    };\n  }\n  emitLinkDragStarted(from) {\n    this.linkDraggingId = from.item.id;\n    this.linkDragPath.from = from;\n    this.linkDragStarted.emit({\n      source: from.item.origin,\n      target: null\n    });\n  }\n  emitLinkDragEntered(to) {\n    this.linkDragPath.to = to;\n    this.linkDragEntered.emit({\n      source: this.linkDragPath.from.item.origin,\n      target: to.item.origin\n    });\n  }\n  emitLinkDragLeaved() {\n    this.linkDragPath.to = null;\n  }\n  emitLinkDragEnded(to) {\n    if (to) {\n      this.linkDragPath.to = to;\n      const dependencyType = getDependencyType(this.linkDragPath, this.ganttUpper.linkOptions?.dependencyTypes);\n      this.linkDragPath.from.item.addLink({\n        link: this.linkDragPath.to.item.id,\n        type: dependencyType\n      });\n      this.linkDragEnded.emit({\n        source: this.linkDragPath.from.item.origin,\n        target: this.linkDragPath.to.item.origin,\n        type: dependencyType\n      });\n    }\n    this.linkDraggingId = null;\n    this.linkDragPath = {\n      from: null,\n      to: null\n    };\n  }\n  static #_ = this.ɵfac = function GanttDragContainer_Factory(t) {\n    return new (t || GanttDragContainer)(i0.ɵɵinject(GANTT_UPPER_TOKEN));\n  };\n  static #_2 = this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: GanttDragContainer,\n    factory: GanttDragContainer.ɵfac\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttDragContainer, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }];\n  }, null);\n})();\nclass GanttLinksComponent {\n  constructor(ganttUpper, cdr, elementRef, ganttDragContainer, ngZone) {\n    this.ganttUpper = ganttUpper;\n    this.cdr = cdr;\n    this.elementRef = elementRef;\n    this.ganttDragContainer = ganttDragContainer;\n    this.ngZone = ngZone;\n    // @Input() groups: GanttGroupInternal[] = [];\n    // @Input() items: GanttItemInternal[] = [];\n    this.flatItems = [];\n    this.lineClick = new EventEmitter();\n    this.links = [];\n    this.ganttLinkTypes = GanttLinkType;\n    this.showArrow = false;\n    this.linkItems = [];\n    this.firstChange = true;\n    this.unsubscribe$ = new Subject();\n    this.ganttLinksOverlay = true;\n  }\n  ngOnInit() {\n    this.linkLine = createLineGenerator(this.ganttUpper.linkOptions.lineType, this.ganttUpper);\n    this.showArrow = this.ganttUpper.linkOptions.showArrow;\n    // this.buildLinks();\n    this.firstChange = false;\n    this.buildLinks();\n    this.ganttDragContainer.dragStarted.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n      this.elementRef.nativeElement.style.visibility = 'hidden';\n    });\n    merge(this.ganttUpper.viewChange, this.ganttUpper.expandChange, this.ganttUpper.view.start$, this.ganttUpper.dragEnded, this.ganttUpper.linkDragEnded, this.ngZone.onStable.pipe(take(1)).pipe(switchMap(() => this.ganttUpper.table?.dragDropped || EMPTY))).pipe(skip(1), debounceTime(0), takeUntil(this.unsubscribe$)).subscribe(() => {\n      this.elementRef.nativeElement.style.visibility = 'visible';\n      this.buildLinks();\n      this.cdr.detectChanges();\n    });\n  }\n  ngOnChanges() {\n    if (!this.firstChange) {\n      this.buildLinks();\n    }\n  }\n  computeItemPosition() {\n    const lineHeight = this.ganttUpper.styles.lineHeight;\n    const barHeight = this.ganttUpper.styles.barHeight;\n    this.linkItems = [];\n    // if (this.groups.length > 0) {\n    //     let itemNum = 0;\n    //     let groupNum = 0;\n    //     this.groups.forEach((group) => {\n    //         groupNum++;\n    //         if (group.expanded) {\n    //             const items = recursiveItems(group.items);\n    //             items.forEach((item, itemIndex) => {\n    //                 const y = (groupNum + itemNum + itemIndex) * lineHeight + item.refs.y + barHeight / 2;\n    //                 this.linkItems.push({\n    //                     ...item,\n    //                     before: {\n    //                         x: item.refs.x,\n    //                         y\n    //                     },\n    //                     after: {\n    //                         x: item.refs.x + item.refs.width,\n    //                         y\n    //                     }\n    //                 });\n    //             });\n    //             itemNum += items.length;\n    //         }\n    //     });\n    // } else {\n    //     const items = recursiveItems(this.items);\n    //     items.forEach((item, itemIndex) => {\n    //         const y = itemIndex * lineHeight + item.refs.y + barHeight / 2;\n    //         this.linkItems.push({\n    //             ...item,\n    //             before: {\n    //                 x: item.refs.x,\n    //                 y\n    //             },\n    //             after: {\n    //                 x: item.refs.x + item.refs.width,\n    //                 y\n    //             }\n    //         });\n    //     });\n    // }\n    this.flatItems.forEach((item, itemIndex) => {\n      if (!item.hasOwnProperty('items')) {\n        const ganttItem = item;\n        if (ganttItem.refs) {\n          const y = itemIndex * lineHeight + ganttItem.refs.y + barHeight / 2;\n          this.linkItems.push({\n            ...ganttItem,\n            before: {\n              x: ganttItem.refs.x,\n              y\n            },\n            after: {\n              x: ganttItem.refs.x + ganttItem.refs.width,\n              y\n            }\n          });\n        }\n      }\n    });\n  }\n  buildLinks() {\n    this.computeItemPosition();\n    this.links = [];\n    this.linkItems.forEach(source => {\n      if (source.origin.start || source.origin.end) {\n        source.links.forEach(link => {\n          const target = this.linkItems.find(item => item.id === link.link);\n          if (target && (target.origin.start || target.origin.end)) {\n            let defaultColor = LinkColors.default;\n            let activeColor = LinkColors.active;\n            if (link.type === GanttLinkType.fs && source.end.getTime() > target.start.getTime()) {\n              defaultColor = LinkColors.blocked;\n              activeColor = LinkColors.blocked;\n            }\n            if (link.color) {\n              if (typeof link.color === 'string') {\n                defaultColor = link.color;\n                activeColor = link.color;\n              } else {\n                defaultColor = link.color.default;\n                activeColor = link.color.active;\n              }\n            }\n            this.links.push({\n              path: this.linkLine.generatePath(source, target, link.type),\n              source: source.origin,\n              target: target.origin,\n              type: link.type,\n              color: defaultColor,\n              defaultColor,\n              activeColor\n            });\n          }\n        });\n      }\n    });\n  }\n  trackBy(index) {\n    return index;\n  }\n  onLineClick(event, link) {\n    this.lineClick.emit({\n      event,\n      source: link.source,\n      target: link.target\n    });\n  }\n  mouseEnterPath(link, index) {\n    link.color = link.activeColor || link.defaultColor;\n    if (index < this.links.length - 1) {\n      this.links.splice(index, 1);\n      this.links.push(link);\n    }\n  }\n  mouseLeavePath(link) {\n    link.color = link.defaultColor;\n  }\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n  static #_ = this.ɵfac = function GanttLinksComponent_Factory(t) {\n    return new (t || GanttLinksComponent)(i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(GanttDragContainer), i0.ɵɵdirectiveInject(i0.NgZone));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GanttLinksComponent,\n    selectors: [[\"gantt-links-overlay\"]],\n    hostVars: 2,\n    hostBindings: function GanttLinksComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"gantt-links-overlay\", ctx.ganttLinksOverlay);\n      }\n    },\n    inputs: {\n      flatItems: \"flatItems\"\n    },\n    outputs: {\n      lineClick: \"lineClick\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 3,\n    vars: 3,\n    consts: [[1, \"gantt-links-overlay-main\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"link-dragging-line\"], [\"fill\", \"transparent\", \"stroke-width\", \"2\", \"pointer-events\", \"none\"], [\"stroke\", \"transparent\", \"stroke-width\", \"9\", \"fill\", \"none\", \"cursor\", \"pointer\", 1, \"link-line\", 3, \"click\", \"mouseenter\", \"mouseleave\"], [4, \"ngIf\"], [\"markerUnits\", \"strokeWidth\", \"markerWidth\", \"5\", \"markerHeight\", \"4\", \"refX\", \"5\", \"refY\", \"2\", \"orient\", \"180\", 3, \"id\", 4, \"ngIf\", \"ngIfElse\"], [\"markerEnd\", \"\"], [\"markerUnits\", \"strokeWidth\", \"markerWidth\", \"5\", \"markerHeight\", \"4\", \"refX\", \"5\", \"refY\", \"2\", \"orient\", \"180\", 3, \"id\"], [\"d\", \"M 0 0 L 5 2 L 0 4 z\"], [\"markerUnits\", \"strokeWidth\", \"markerWidth\", \"5\", \"markerHeight\", \"4\", \"refX\", \"5\", \"refY\", \"2\", \"orient\", \"auto\", 3, \"id\"]],\n    template: function GanttLinksComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(0, \"svg\", 0);\n        i0.ɵɵtemplate(1, GanttLinksComponent__svg_ng_container_1_Template, 5, 5, \"ng-container\", 1);\n        i0.ɵɵelement(2, \"line\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"width\", ctx.ganttUpper.view.width);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.links)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: [i1.NgForOf, i1.NgIf],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttLinksComponent, [{\n    type: Component,\n    args: [{\n      selector: 'gantt-links-overlay',\n      template: \"<svg [attr.width]=\\\"ganttUpper.view.width\\\" class=\\\"gantt-links-overlay-main\\\">\\n  <ng-container *ngFor=\\\"let link of links; let i = index; trackBy: trackBy\\\">\\n    <path\\n      [attr.d]=\\\"link.path\\\"\\n      fill=\\\"transparent\\\"\\n      stroke-width=\\\"2\\\"\\n      [attr.stroke]=\\\"link.color\\\"\\n      pointer-events=\\\"none\\\"\\n      [attr.style]=\\\"link.type === ganttLinkTypes.sf ? 'marker-start: url(#triangle' + i + ')' : 'marker-end: url(#triangle' + i + ')'\\\"\\n    ></path>\\n\\n    <g>\\n      <path\\n        class=\\\"link-line\\\"\\n        (click)=\\\"onLineClick($event, link)\\\"\\n        [attr.d]=\\\"link.path\\\"\\n        (mouseenter)=\\\"mouseEnterPath(link, i)\\\"\\n        (mouseleave)=\\\"mouseLeavePath(link)\\\"\\n        stroke=\\\"transparent\\\"\\n        stroke-width=\\\"9\\\"\\n        fill=\\\"none\\\"\\n        cursor=\\\"pointer\\\"\\n      ></path>\\n    </g>\\n    <defs *ngIf=\\\"showArrow\\\">\\n      <marker\\n        *ngIf=\\\"link.type === ganttLinkTypes.sf; else markerEnd\\\"\\n        [id]=\\\"'triangle' + i\\\"\\n        markerUnits=\\\"strokeWidth\\\"\\n        markerWidth=\\\"5\\\"\\n        markerHeight=\\\"4\\\"\\n        refX=\\\"5\\\"\\n        refY=\\\"2\\\"\\n        orient=\\\"180\\\"\\n      >\\n        <path [attr.fill]=\\\"link.color\\\" [attr.stroke]=\\\"link.color\\\" d=\\\"M 0 0 L 5 2 L 0 4 z\\\" />\\n      </marker>\\n\\n      <ng-template #markerEnd>\\n        <marker [id]=\\\"'triangle' + i\\\" markerUnits=\\\"strokeWidth\\\" markerWidth=\\\"5\\\" markerHeight=\\\"4\\\" refX=\\\"5\\\" refY=\\\"2\\\" orient=\\\"auto\\\">\\n          <path [attr.fill]=\\\"link.color\\\" [attr.stroke]=\\\"link.color\\\" d=\\\"M 0 0 L 5 2 L 0 4 z\\\" />\\n        </marker>\\n      </ng-template>\\n    </defs>\\n  </ng-container>\\n  <line class=\\\"link-dragging-line\\\"></line>\\n</svg>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: GanttDragContainer\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    flatItems: [{\n      type: Input\n    }],\n    lineClick: [{\n      type: Output\n    }],\n    ganttLinksOverlay: [{\n      type: HostBinding,\n      args: ['class.gantt-links-overlay']\n    }]\n  });\n})();\n\n/** Cached result of whether the user's browser supports passive event listeners. */\nlet supportsPassiveEvents;\n/**\n * Checks whether the user's browser supports passive event listeners.\n * See: https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n */\nfunction supportsPassiveEventListeners() {\n  if (supportsPassiveEvents == null && typeof window !== 'undefined') {\n    try {\n      window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n        get: () => supportsPassiveEvents = true\n      }));\n    } finally {\n      supportsPassiveEvents = supportsPassiveEvents || false;\n    }\n  }\n  return supportsPassiveEvents;\n}\n/**\n * Normalizes an `AddEventListener` object to something that can be passed\n * to `addEventListener` on any browser, no matter whether it supports the\n * `options` parameter.\n */\nfunction normalizePassiveListenerOptions(options) {\n  return supportsPassiveEventListeners() ? options : !!options.capture;\n}\n/** Options used to bind passive event listeners. */\nconst passiveListenerOptions = normalizePassiveListenerOptions({\n  passive: true\n});\n\n/**\n * Proximity, as a ratio to width/height at which to start auto-scrolling the drop list or the\n * viewport. The value comes from trying it out manually until it feels right.\n */\nconst SCROLL_PROXIMITY_THRESHOLD = 0.05;\n/**\n * Gets whether the horizontal auto-scroll direction of a node.\n * @param clientRect Dimensions of the node.\n * @param pointerX Position of the user's pointer along the x axis.\n */\nfunction getHorizontalScrollDirection(clientRect, pointerX) {\n  const {\n    left,\n    right,\n    width\n  } = clientRect;\n  const xThreshold = width * SCROLL_PROXIMITY_THRESHOLD;\n  if (pointerX >= left - xThreshold && pointerX <= left + xThreshold) {\n    return 1 /* AutoScrollHorizontalDirection.LEFT */;\n  } else if (pointerX >= right - xThreshold && pointerX <= right + xThreshold) {\n    return 2 /* AutoScrollHorizontalDirection.RIGHT */;\n  }\n\n  return 0 /* AutoScrollHorizontalDirection.NONE */;\n}\n/**\n * Checks whether the pointer coordinates are close to a ClientRect.\n * @param rect ClientRect to check against.\n * @param threshold Threshold around the ClientRect.\n * @param pointerX Coordinates along the X axis.\n * @param pointerY Coordinates along the Y axis.\n */\nfunction isPointerNearClientRect(rect, threshold, pointerX, pointerY) {\n  const {\n    top,\n    right,\n    bottom,\n    left,\n    width,\n    height\n  } = rect;\n  const xThreshold = width * threshold;\n  const yThreshold = height * threshold;\n  return pointerY > top - yThreshold && pointerY < bottom + yThreshold && pointerX > left - xThreshold && pointerX < right + xThreshold;\n}\n/**\n * Gets the speed rate of auto scrolling\n * @param clientRect Dimensions of the node.\n * @param pointerX Position of the user's pointer along the x axis.\n * @param horizontalScrollDirection The direction in which the mouse is dragged horizontally\n */\nfunction getAutoScrollSpeedRates(clientRect, pointerX, horizontalScrollDirection) {\n  let autoScrollSpeedRates = 4;\n  const speedLevels = 4;\n  const {\n    left,\n    right,\n    width\n  } = clientRect;\n  const xThreshold = width * SCROLL_PROXIMITY_THRESHOLD;\n  if (horizontalScrollDirection === 1 /* AutoScrollHorizontalDirection.LEFT */) {\n    autoScrollSpeedRates = Math.ceil((xThreshold - (pointerX > left ? pointerX - left : 0)) / (xThreshold / speedLevels));\n  }\n  if (horizontalScrollDirection === 2 /* AutoScrollHorizontalDirection.RIGHT */) {\n    autoScrollSpeedRates = Math.ceil((xThreshold - (right > pointerX ? right - pointerX : 0)) / (xThreshold / speedLevels));\n  }\n  return autoScrollSpeedRates;\n}\nconst scrollThreshold = 50;\nvar ScrollDirection;\n(function (ScrollDirection) {\n  ScrollDirection[ScrollDirection[\"NONE\"] = 0] = \"NONE\";\n  ScrollDirection[ScrollDirection[\"LEFT\"] = 1] = \"LEFT\";\n  ScrollDirection[ScrollDirection[\"RIGHT\"] = 2] = \"RIGHT\";\n})(ScrollDirection || (ScrollDirection = {}));\nclass GanttDomService {\n  constructor(ngZone, platformId) {\n    this.ngZone = ngZone;\n    this.platformId = platformId;\n    this.unsubscribe$ = new Subject();\n  }\n  monitorScrollChange() {\n    const scrollObservers = [fromEvent(this.mainContainer, 'scroll', passiveListenerOptions), fromEvent(this.sideContainer, 'scroll', passiveListenerOptions)];\n    this.mainFooter && scrollObservers.push(fromEvent(this.mainFooter, 'scroll', passiveListenerOptions));\n    this.mainScrollbar && scrollObservers.push(fromEvent(this.mainScrollbar, 'scroll', passiveListenerOptions));\n    this.ngZone.runOutsideAngular(() => merge(...scrollObservers).pipe(takeUntil(this.unsubscribe$)).subscribe(event => {\n      this.syncScroll(event);\n    }));\n  }\n  syncScroll(event) {\n    const target = event.currentTarget;\n    const classList = target.classList;\n    if (!classList.contains('gantt-side-container')) {\n      this.mainContainer.scrollLeft = target.scrollLeft;\n      this.calendarHeader.scrollLeft = target.scrollLeft;\n      this.calendarOverlay.scrollLeft = target.scrollLeft;\n      this.mainScrollbar && (this.mainScrollbar.scrollLeft = target.scrollLeft);\n      this.mainFooter && (this.mainFooter.scrollLeft = target.scrollLeft);\n      if (classList.contains('gantt-main-container')) {\n        this.sideContainer.scrollTop = target.scrollTop;\n        this.mainContainer.scrollTop = target.scrollTop;\n      }\n    } else {\n      this.sideContainer.scrollTop = target.scrollTop;\n      this.mainContainer.scrollTop = target.scrollTop;\n    }\n  }\n  disableBrowserWheelEvent() {\n    const container = this.mainContainer;\n    this.ngZone.runOutsideAngular(() => fromEvent(container, 'wheel').pipe(takeUntil(this.unsubscribe$)).subscribe(event => {\n      const delta = event.deltaX;\n      if (!delta) {\n        return;\n      }\n      if (container.scrollLeft + container.offsetWidth === container.scrollWidth && delta > 0 || container.scrollLeft === 0 && delta < 0) {\n        event.preventDefault();\n      }\n    }));\n  }\n  initialize(root) {\n    this.root = root.nativeElement;\n    this.side = this.root.getElementsByClassName('gantt-side')[0];\n    this.container = this.root.getElementsByClassName('gantt-container')[0];\n    this.sideContainer = this.root.getElementsByClassName('gantt-side-container')[0];\n    this.mainContainer = this.root.getElementsByClassName('gantt-main-container')[0];\n    this.mainScrollbar = this.root.getElementsByClassName('gantt-main-scrollbar')[0];\n    this.mainFooter = this.root.getElementsByClassName('gantt-container-footer')[0];\n    this.verticalScrollContainer = this.root.getElementsByClassName('gantt-scroll-container')[0];\n    const mainItems = this.mainContainer.getElementsByClassName('gantt-main-items')[0];\n    const mainGroups = this.mainContainer.getElementsByClassName('gantt-main-groups')[0];\n    this.mainItems = mainItems || mainGroups;\n    this.calendarHeader = this.root.getElementsByClassName('gantt-calendar-header')[0];\n    this.calendarOverlay = this.root.getElementsByClassName('gantt-calendar-grid')[0];\n    this.monitorScrollChange();\n    this.disableBrowserWheelEvent();\n  }\n  /**\n   * @returns An observable that will emit outside the Angular zone. Note, consumers should re-enter the Angular zone\n   * to run the change detection if needed.\n   */\n  getViewerScroll(options) {\n    const scrollObservers = [fromEvent(this.mainContainer, 'scroll', options)];\n    this.mainFooter && scrollObservers.push(fromEvent(this.mainFooter, 'scroll', options));\n    this.mainScrollbar && scrollObservers.push(fromEvent(this.mainScrollbar, 'scroll', options));\n    return new Observable(subscriber => this.ngZone.runOutsideAngular(() => merge(...scrollObservers).pipe(map(() => this.mainContainer.scrollLeft), pairwise(), map(([previous, current]) => {\n      const event = {\n        target: this.mainContainer,\n        direction: ScrollDirection.NONE\n      };\n      if (current - previous < 0) {\n        if (this.mainContainer.scrollLeft < scrollThreshold && this.mainContainer.scrollLeft > 0) {\n          event.direction = ScrollDirection.LEFT;\n        }\n      }\n      if (current - previous > 0) {\n        if (this.mainContainer.scrollWidth - this.mainContainer.clientWidth - this.mainContainer.scrollLeft < scrollThreshold) {\n          event.direction = ScrollDirection.RIGHT;\n        }\n      }\n      return event;\n    })).subscribe(subscriber)));\n  }\n  getResize() {\n    return isPlatformServer(this.platformId) ? EMPTY : fromEvent(window, 'resize').pipe(auditTime$1(150));\n  }\n  scrollMainContainer(left) {\n    if (isNumber(left)) {\n      const scrollLeft = left - this.mainContainer.clientWidth / 2;\n      this.mainContainer.scrollLeft = scrollLeft > scrollThreshold ? scrollLeft : 0;\n      this.calendarHeader.scrollLeft = this.mainContainer.scrollLeft;\n      this.calendarOverlay.scrollLeft = this.mainContainer.scrollLeft;\n      this.mainScrollbar && (this.mainScrollbar.scrollLeft = this.mainContainer.scrollLeft);\n      this.mainFooter && (this.mainFooter.scrollLeft = this.mainContainer.scrollLeft);\n    }\n  }\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n  static #_ = this.ɵfac = function GanttDomService_Factory(t) {\n    return new (t || GanttDomService)(i0.ɵɵinject(i0.NgZone), i0.ɵɵinject(PLATFORM_ID));\n  };\n  static #_2 = this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: GanttDomService,\n    factory: GanttDomService.ɵfac\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttDomService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i0.NgZone\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }];\n  }, null);\n})();\n\n/**\n * Proximity, as a ratio to width/height, at which a\n * dragged item will affect the drop container.\n */\nconst DROP_PROXIMITY_THRESHOLD = 0.05;\nconst dragMinWidth = 10;\nconst autoScrollBaseStep = 2;\nconst activeClass = 'gantt-bar-active';\nconst dropActiveClass = 'gantt-bar-drop-active';\nconst singleDropActiveClass = 'gantt-bar-single-drop-active';\nfunction createSvgElement(qualifiedName, className) {\n  const element = document.createElementNS('http://www.w3.org/2000/svg', qualifiedName);\n  element.classList.add(className);\n  return element;\n}\nclass GanttBarDrag {\n  get dragDisabled() {\n    return !this.item.draggable || !this.ganttUpper.draggable;\n  }\n  get linkDragDisabled() {\n    return !this.item.linkable || !this.ganttUpper.linkable;\n  }\n  get barHandleDragMoveAndScrollDistance() {\n    return this.barHandleDragMoveDistance + this.dragScrollDistance;\n  }\n  get autoScrollStep() {\n    return Math.pow(autoScrollBaseStep, this.autoScrollSpeedRates);\n  }\n  constructor(dragDrop, dom, dragContainer, _ngZone) {\n    this.dragDrop = dragDrop;\n    this.dom = dom;\n    this.dragContainer = dragContainer;\n    this._ngZone = _ngZone;\n    this.dragRefs = [];\n    this.destroy$ = new Subject();\n    /** Used to signal to the current auto-scroll sequence when to stop. */\n    this.stopScrollTimers$ = new Subject();\n    /** move distance when drag bar */\n    this.barDragMoveDistance = 0;\n    /** move distance when drag bar handle */\n    this.barHandleDragMoveDistance = 0;\n    /** scrolling state when drag */\n    this.dragScrolling = false;\n    /** dragScrollDistance */\n    this.dragScrollDistance = 0;\n    /** Horizontal direction in which the list is currently scrolling. */\n    this._horizontalScrollDirection = 0 /* AutoScrollHorizontalDirection.NONE */;\n    /** Speed ratio for auto scroll */\n    this.autoScrollSpeedRates = 1;\n    this.startScrollInterval = () => {\n      this.stopScrolling();\n      interval(0, animationFrameScheduler).pipe(takeUntil(this.stopScrollTimers$)).subscribe(() => {\n        const node = this.dom.mainContainer;\n        const scrollStep = this.autoScrollStep;\n        if (this._horizontalScrollDirection === 1 /* AutoScrollHorizontalDirection.LEFT */) {\n          node.scrollBy(-scrollStep, 0);\n        } else if (this._horizontalScrollDirection === 2 /* AutoScrollHorizontalDirection.RIGHT */) {\n          node.scrollBy(scrollStep, 0);\n        }\n      });\n    };\n  }\n  createDragRef(element) {\n    const dragRef = this.dragDrop.createDrag(element);\n    return dragRef;\n  }\n  createDragScrollEvent(dragRef) {\n    return fromEvent(this.dom.mainContainer, 'scroll', passiveListenerOptions).pipe(takeUntil(dragRef.ended));\n  }\n  createMouseEvents() {\n    const dropClass = this.ganttUpper.config.linkOptions?.dependencyTypes?.length === 1 && this.ganttUpper.config.linkOptions?.dependencyTypes[0] === GanttLinkType.fs ? singleDropActiveClass : dropActiveClass;\n    fromEvent(this.barElement, 'mouseenter', passiveListenerOptions).pipe(takeUntil(this.destroy$)).subscribe(() => {\n      if (this.dragContainer.linkDraggingId && this.dragContainer.linkDraggingId !== this.item.id) {\n        if (this.item.linkable) {\n          this.barElement.classList.add(dropClass);\n          this.dragContainer.emitLinkDragEntered({\n            item: this.item,\n            element: this.barElement\n          });\n        }\n      } else {\n        this.barElement.classList.add(activeClass);\n      }\n    });\n    fromEvent(this.barElement, 'mouseleave', passiveListenerOptions).pipe(takeUntil(this.destroy$)).subscribe(() => {\n      if (!this.dragContainer.linkDraggingId) {\n        this.barElement.classList.remove(activeClass);\n      } else {\n        this.dragContainer.emitLinkDragLeaved();\n      }\n      this.barElement.classList.remove(dropClass);\n    });\n  }\n  createBarDrag() {\n    const dragRef = this.createDragRef(this.barElement);\n    dragRef.lockAxis = 'x';\n    dragRef.withBoundaryElement(this.dom.mainItems);\n    dragRef.started.subscribe(() => {\n      this.setDraggingStyles();\n      this.containerScrollLeft = this.dom.mainContainer.scrollLeft;\n      this.createDragScrollEvent(dragRef).subscribe(() => {\n        if (dragRef.isDragging()) {\n          const dragScrollDistance = this.dom.mainContainer.scrollLeft - this.containerScrollLeft;\n          this.dragScrollDistance = dragScrollDistance;\n          dragRef['_boundaryRect'] = this.dom.mainItems.getBoundingClientRect();\n          this.barDragMove();\n        }\n      });\n      this.dragContainer.dragStarted.emit({\n        item: this.item.origin\n      });\n    });\n    dragRef.moved.subscribe(event => {\n      this.startScrollingIfNecessary(event.pointerPosition.x, event.pointerPosition.y);\n      this.barDragMoveDistance = event.distance.x;\n      if (!this.dragScrolling) {\n        this.barDragMove();\n      }\n    });\n    dragRef.ended.subscribe(event => {\n      this.clearDraggingStyles();\n      this.closeDragBackdrop();\n      event.source.reset();\n      this.stopScrolling();\n      this.dragScrolling = false;\n      this.dragScrollDistance = 0;\n      this.barDragMoveDistance = 0;\n      this.item.updateRefs({\n        width: this.ganttUpper.view.getDateRangeWidth(this.item.start.startOfDay(), this.item.end.endOfDay()),\n        x: this.ganttUpper.view.getXPointByDate(this.item.start),\n        y: (this.ganttUpper.styles.lineHeight - this.ganttUpper.styles.barHeight) / 2 - 1\n      });\n      this.dragContainer.dragEnded.emit({\n        item: this.item.origin\n      });\n    });\n    this.barDragRef = dragRef;\n    return dragRef;\n  }\n  createBarHandleDrags() {\n    const dragRefs = [];\n    const handles = this.barElement.querySelectorAll('.drag-handles .handle');\n    handles.forEach((handle, index) => {\n      const isBefore = index === 0;\n      const dragRef = this.createDragRef(handle);\n      dragRef.lockAxis = 'x';\n      dragRef.withBoundaryElement(this.dom.mainItems);\n      dragRef.started.subscribe(() => {\n        this.setDraggingStyles();\n        this.containerScrollLeft = this.dom.mainContainer.scrollLeft;\n        this.createDragScrollEvent(dragRef).subscribe(() => {\n          if (dragRef.isDragging()) {\n            const dragScrollDistance = this.dom.mainContainer.scrollLeft - this.containerScrollLeft;\n            this.dragScrollDistance = dragScrollDistance;\n            dragRef['_boundaryRect'] = this.dom.mainItems.getBoundingClientRect();\n            if (this.dragScrolling && this.isStartGreaterThanEndWhenBarHandleDragMove(isBefore)) {\n              this.stopScrolling();\n              this.dragScrolling = false;\n            }\n            if (isBefore) {\n              this.barBeforeHandleDragMove();\n            } else {\n              this.barAfterHandleDragMove();\n            }\n          }\n        });\n        this.dragContainer.dragStarted.emit({\n          item: this.item.origin\n        });\n      });\n      dragRef.moved.subscribe(event => {\n        if (this.barHandleDragMoveRecordDays && this.barHandleDragMoveRecordDays > 0) {\n          this.startScrollingIfNecessary(event.pointerPosition.x, event.pointerPosition.y);\n        }\n        this.barHandleDragMoveDistance = event.distance.x;\n        if (!this.dragScrolling) {\n          if (isBefore) {\n            this.barBeforeHandleDragMove();\n          } else {\n            this.barAfterHandleDragMove();\n          }\n        }\n      });\n      dragRef.ended.subscribe(event => {\n        this.clearDraggingStyles();\n        this.closeDragBackdrop();\n        event.source.reset();\n        this.stopScrolling();\n        this.dragScrolling = false;\n        this.dragScrollDistance = 0;\n        this.barHandleDragMoveDistance = 0;\n        this.item.updateRefs({\n          width: this.ganttUpper.view.getDateRangeWidth(this.item.start.startOfDay(), this.item.end.endOfDay()),\n          x: this.ganttUpper.view.getXPointByDate(this.item.start),\n          y: (this.ganttUpper.styles.lineHeight - this.ganttUpper.styles.barHeight) / 2 - 1\n        });\n        this.dragContainer.dragEnded.emit({\n          item: this.item.origin\n        });\n      });\n      dragRefs.push(dragRef);\n    });\n    return dragRefs;\n  }\n  createLinkHandleDrags() {\n    const dragRefs = [];\n    const handles = this.barElement.querySelectorAll('.link-handles .handle');\n    handles.forEach((handle, index) => {\n      const isBegin = index === 0;\n      const dragRef = this.dragDrop.createDrag(handle);\n      dragRef.withBoundaryElement(this.dom.root);\n      dragRef.beforeStarted.subscribe(() => {\n        handle.style.pointerEvents = 'none';\n        if (this.barDragRef) {\n          this.barDragRef.disabled = true;\n        }\n        this.createLinkDraggingLine();\n        this.dragContainer.emitLinkDragStarted({\n          element: this.barElement,\n          item: this.item,\n          pos: isBegin ? InBarPosition.start : InBarPosition.finish\n        });\n      });\n      dragRef.moved.subscribe(() => {\n        const positions = this.calcLinkLinePositions(handle, isBegin);\n        this.linkDraggingLine.setAttribute('x1', positions.x1.toString());\n        this.linkDraggingLine.setAttribute('y1', positions.y1.toString());\n        this.linkDraggingLine.setAttribute('x2', positions.x2.toString());\n        this.linkDraggingLine.setAttribute('y2', positions.y2.toString());\n      });\n      dragRef.ended.subscribe(event => {\n        handle.style.pointerEvents = '';\n        if (this.barDragRef) {\n          this.barDragRef.disabled = false;\n        }\n        // 计算line拖动的落点位于目标Bar的值，如果值大于Bar宽度的一半，说明是拖动到Begin位置，否则则为拖动到End位置\n        if (this.dragContainer.linkDragPath.to) {\n          const placePointX = event.source.getRootElement().getBoundingClientRect().x - this.dragContainer.linkDragPath.to.element.getBoundingClientRect().x;\n          this.dragContainer.emitLinkDragEnded({\n            ...this.dragContainer.linkDragPath.to,\n            pos: placePointX < this.dragContainer.linkDragPath.to.item.refs.width / 2 ? InBarPosition.start : InBarPosition.finish\n          });\n        } else {\n          this.dragContainer.emitLinkDragEnded();\n        }\n        event.source.reset();\n        this.barElement.classList.remove(activeClass);\n        this.destroyLinkDraggingLine();\n      });\n      dragRefs.push(dragRef);\n    });\n    return dragRefs;\n  }\n  openDragBackdrop(dragElement, start, end) {\n    const dragBackdropElement = this.dom.root.querySelector('.gantt-drag-backdrop');\n    const dragMaskElement = this.dom.root.querySelector('.gantt-drag-mask');\n    const rootRect = this.dom.root.getBoundingClientRect();\n    const dragRect = dragElement.getBoundingClientRect();\n    let left = dragRect.left - rootRect.left - (this.dom.side.clientWidth + 1);\n    if (this.dragScrolling) {\n      if (this._horizontalScrollDirection === 1 /* AutoScrollHorizontalDirection.LEFT */) {\n        left += this.autoScrollStep;\n      } else if (this._horizontalScrollDirection === 2 /* AutoScrollHorizontalDirection.RIGHT */) {\n        left -= this.autoScrollStep;\n      }\n    }\n    const width = dragRect.right - dragRect.left;\n    // Note: updating styles will cause re-layout so we have to place them consistently one by one.\n    dragMaskElement.style.left = left + 'px';\n    dragMaskElement.style.width = width + 'px';\n    dragMaskElement.style.display = 'block';\n    dragBackdropElement.style.display = 'block';\n    // This will invalidate the layout, but we won't need re-layout, because we set styles previously.\n    dragMaskElement.querySelector('.start').innerHTML = start.format('MM-dd');\n    dragMaskElement.querySelector('.end').innerHTML = end.format('MM-dd');\n  }\n  closeDragBackdrop() {\n    const dragBackdropElement = this.dom.root.querySelector('.gantt-drag-backdrop');\n    const dragMaskElement = this.dom.root.querySelector('.gantt-drag-mask');\n    dragMaskElement.style.display = 'none';\n    dragBackdropElement.style.display = 'none';\n  }\n  setDraggingStyles() {\n    this.barElement.classList.add('gantt-bar-draggable-drag');\n  }\n  clearDraggingStyles() {\n    this.barElement.classList.remove('gantt-bar-draggable-drag');\n  }\n  barDragMove() {\n    const currentX = this.item.refs.x + this.barDragMoveDistance + this.dragScrollDistance;\n    const currentDate = this.ganttUpper.view.getDateByXPoint(currentX);\n    const currentStartX = this.ganttUpper.view.getXPointByDate(currentDate);\n    const dayWidth = this.ganttUpper.view.getDayOccupancyWidth(currentDate);\n    const diffDays = differenceInCalendarDays(this.item.end.value, this.item.start.value);\n    let start = currentDate;\n    let end = currentDate.addDays(diffDays);\n    if (currentX > currentStartX + dayWidth / 2) {\n      start = start.addDays(1);\n      end = end.addDays(1);\n    }\n    if (this.dragScrolling) {\n      const left = currentX - this.barDragMoveDistance;\n      this.barElement.style.left = left + 'px';\n    }\n    this.openDragBackdrop(this.barElement, this.ganttUpper.view.getDateByXPoint(currentX), this.ganttUpper.view.getDateByXPoint(currentX + this.item.refs.width));\n    if (!this.isStartOrEndInsideView(start, end)) {\n      return;\n    }\n    this.item.updateDate(start, end);\n    this.dragContainer.dragMoved.emit({\n      item: this.item.origin\n    });\n  }\n  barBeforeHandleDragMove() {\n    const {\n      x,\n      start,\n      oneDayWidth\n    } = this.startOfBarHandle();\n    const width = this.item.refs.width + this.barHandleDragMoveAndScrollDistance * -1;\n    const days = differenceInDays(this.item.end.value, start.value);\n    if (width > dragMinWidth && days > 0) {\n      this.barElement.style.width = width + 'px';\n      this.barElement.style.left = x + 'px';\n      this.openDragBackdrop(this.barElement, start, this.item.end);\n      if (!this.isStartOrEndInsideView(start, this.item.end)) {\n        return;\n      }\n      this.item.updateDate(start, this.item.end);\n    } else {\n      if (this.barHandleDragMoveRecordDays > 0 && days <= 0) {\n        this.barElement.style.width = oneDayWidth + 'px';\n        const x = this.ganttUpper.view.getXPointByDate(this.item.end);\n        this.barElement.style.left = x + 'px';\n      }\n      this.openDragBackdrop(this.barElement, this.item.end.startOfDay(), this.item.end);\n      this.item.updateDate(this.item.end.startOfDay(), this.item.end);\n    }\n    this.barHandleDragMoveRecordDays = days;\n    this.dragContainer.dragMoved.emit({\n      item: this.item.origin\n    });\n  }\n  barAfterHandleDragMove() {\n    const {\n      width,\n      end\n    } = this.endOfBarHandle();\n    const days = differenceInDays(end.value, this.item.start.value);\n    if (width > dragMinWidth && days > 0) {\n      this.barElement.style.width = width + 'px';\n      this.openDragBackdrop(this.barElement, this.item.start, end);\n      if (!this.isStartOrEndInsideView(this.item.start, end)) {\n        return;\n      }\n      this.item.updateDate(this.item.start, end);\n    } else {\n      if (this.barHandleDragMoveRecordDays > 0 && days <= 0) {\n        const oneDayWidth = this.ganttUpper.view.getDateRangeWidth(this.item.start, this.item.start.endOfDay());\n        this.barElement.style.width = oneDayWidth + 'px';\n      }\n      this.openDragBackdrop(this.barElement, this.item.start, this.item.start.endOfDay());\n      this.item.updateDate(this.item.start, this.item.start.endOfDay());\n    }\n    this.barHandleDragMoveRecordDays = days;\n    this.dragContainer.dragMoved.emit({\n      item: this.item.origin\n    });\n  }\n  calcLinkLinePositions(target, isBefore) {\n    const rootRect = this.dom.root.getBoundingClientRect();\n    const targetRect = target.getBoundingClientRect();\n    const layerRect = target.parentElement.parentElement.getBoundingClientRect();\n    return {\n      x1: layerRect.left + (isBefore ? 0 : layerRect.width) - rootRect.left,\n      y1: layerRect.top + layerRect.height / 2 - rootRect.top,\n      x2: targetRect.left - rootRect.left + targetRect.width / 2,\n      y2: targetRect.top - rootRect.top + targetRect.height / 2\n    };\n  }\n  createLinkDraggingLine() {\n    if (!this.linkDraggingLine) {\n      const svgElement = createSvgElement('svg', 'gantt-link-drag-container');\n      const linElement = createSvgElement('line', 'link-dragging-line');\n      linElement.style.pointerEvents = 'none';\n      svgElement.appendChild(linElement);\n      this.dom.root.appendChild(svgElement);\n      this.linkDraggingLine = linElement;\n    }\n  }\n  destroyLinkDraggingLine() {\n    if (this.linkDraggingLine) {\n      this.linkDraggingLine.parentElement.remove();\n      this.linkDraggingLine = null;\n    }\n  }\n  startScrollingIfNecessary(pointerX, pointerY) {\n    const clientRect = this.dom.mainContainer.getBoundingClientRect();\n    const scrollLeft = this.dom.mainContainer.scrollLeft;\n    if (isPointerNearClientRect(clientRect, DROP_PROXIMITY_THRESHOLD, pointerX, pointerY)) {\n      const horizontalScrollDirection = getHorizontalScrollDirection(clientRect, pointerX);\n      if (horizontalScrollDirection === 1 /* AutoScrollHorizontalDirection.LEFT */ && scrollLeft > 0 || horizontalScrollDirection === 2 /* AutoScrollHorizontalDirection.RIGHT */ && scrollLeft < this.ganttUpper.view.width - clientRect.width) {\n        this._horizontalScrollDirection = horizontalScrollDirection;\n        this.autoScrollSpeedRates = getAutoScrollSpeedRates(clientRect, pointerX, horizontalScrollDirection);\n        this.dragScrolling = true;\n        this._ngZone.runOutsideAngular(this.startScrollInterval);\n      } else {\n        this.dragScrolling = false;\n        this.stopScrolling();\n      }\n    }\n  }\n  // Conditions to stop auto-scroll: when the start is greater than the end and the bar appears in the view\n  isStartGreaterThanEndWhenBarHandleDragMove(isBefore) {\n    let isStartGreaterThanEnd;\n    let isBarAppearsInView;\n    const scrollLeft = this.dom.mainContainer.scrollLeft;\n    const clientWidth = this.dom.mainContainer.clientWidth;\n    const xThreshold = clientWidth * DROP_PROXIMITY_THRESHOLD;\n    if (isBefore) {\n      const {\n        start,\n        oneDayWidth\n      } = this.startOfBarHandle();\n      const xPointerByEndDate = this.ganttUpper.view.getXPointByDate(this.item.end);\n      isStartGreaterThanEnd = start.value > this.item.end.value;\n      isBarAppearsInView = xPointerByEndDate + oneDayWidth + xThreshold <= scrollLeft + clientWidth;\n    } else {\n      const {\n        end\n      } = this.endOfBarHandle();\n      const xPointerByStartDate = this.ganttUpper.view.getXPointByDate(this.item.start);\n      isStartGreaterThanEnd = end.value < this.item.start.value;\n      isBarAppearsInView = scrollLeft + xThreshold <= xPointerByStartDate;\n    }\n    return isStartGreaterThanEnd && isBarAppearsInView ? true : false;\n  }\n  // Some data information about dragging start until it is equal to or greater than end\n  startOfBarHandle() {\n    const x = this.item.refs.x + this.barHandleDragMoveAndScrollDistance;\n    return {\n      x,\n      start: this.ganttUpper.view.getDateByXPoint(x),\n      oneDayWidth: this.ganttUpper.view.getDateRangeWidth(this.item.end.startOfDay(), this.item.end)\n    };\n  }\n  // Some data information about dragging end of bar handle\n  endOfBarHandle() {\n    const width = this.item.refs.width + this.barHandleDragMoveAndScrollDistance;\n    return {\n      width,\n      end: this.ganttUpper.view.getDateByXPoint(this.item.refs.x + width)\n    };\n  }\n  stopScrolling() {\n    this.stopScrollTimers$.next();\n  }\n  isStartOrEndInsideView(start, end) {\n    const itemStart = start.getUnixTime();\n    const itemEnd = end.getUnixTime();\n    const viewStart = this.ganttUpper.view.start.getUnixTime();\n    const viewEnd = this.ganttUpper.view.end.getUnixTime();\n    if (itemStart < viewStart || itemEnd > viewEnd) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  createDrags(elementRef, item, ganttUpper) {\n    this.item = item;\n    this.barElement = elementRef.nativeElement;\n    this.ganttUpper = ganttUpper;\n    if (this.dragDisabled && this.linkDragDisabled) {\n      return;\n    } else {\n      this.createMouseEvents();\n      if (!this.dragDisabled) {\n        const dragRef = this.createBarDrag();\n        const dragHandlesRefs = this.createBarHandleDrags();\n        this.dragRefs.push(dragRef, ...dragHandlesRefs);\n      }\n      if (!this.linkDragDisabled) {\n        const linkDragRefs = this.createLinkHandleDrags();\n        this.dragRefs.push(...linkDragRefs);\n      }\n    }\n  }\n  updateItem(item) {\n    this.item = item;\n  }\n  ngOnDestroy() {\n    this.closeDragBackdrop();\n    this.dragRefs.forEach(dragRef => dragRef.dispose());\n    this.destroy$.next();\n    this.destroy$.complete();\n    this.stopScrolling();\n    this.stopScrollTimers$.complete();\n  }\n  static #_ = this.ɵfac = function GanttBarDrag_Factory(t) {\n    return new (t || GanttBarDrag)(i0.ɵɵinject(i2.DragDrop), i0.ɵɵinject(GanttDomService), i0.ɵɵinject(GanttDragContainer), i0.ɵɵinject(i0.NgZone));\n  };\n  static #_2 = this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: GanttBarDrag,\n    factory: GanttBarDrag.ɵfac\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttBarDrag, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i2.DragDrop\n    }, {\n      type: GanttDomService\n    }, {\n      type: GanttDragContainer\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\nclass GanttItemUpper {\n  constructor(elementRef, ganttUpper) {\n    this.elementRef = elementRef;\n    this.ganttUpper = ganttUpper;\n    this.firstChange = true;\n    this.unsubscribe$ = new Subject();\n    this.refsUnsubscribe$ = new Subject();\n  }\n  ngOnInit() {\n    this.firstChange = false;\n    this.item.refs$.pipe(takeUntil(this.refsUnsubscribe$)).subscribe(() => {\n      this.setPositions();\n    });\n  }\n  ngOnChanges(changes) {\n    if (!this.firstChange) {\n      this.itemChange(changes.item.currentValue);\n    }\n  }\n  itemChange(item) {\n    this.refsUnsubscribe$.next();\n    this.refsUnsubscribe$.complete();\n    this.item = item;\n    this.item.refs$.pipe(takeUntil(this.refsUnsubscribe$)).subscribe(() => {\n      this.setPositions();\n    });\n  }\n  setPositions() {\n    const itemElement = this.elementRef.nativeElement;\n    itemElement.style.left = this.item.refs?.x + 'px';\n    itemElement.style.top = this.item.refs?.y + 'px';\n    itemElement.style.width = this.item.refs?.width + 'px';\n    if (this.item.type === GanttItemType.bar) {\n      itemElement.style.height = this.ganttUpper.styles.barHeight + 'px';\n    } else if (this.item.type === GanttItemType.range) {\n      itemElement.style.height = rangeHeight + 'px';\n    }\n  }\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n    this.refsUnsubscribe$.next();\n    this.refsUnsubscribe$.complete();\n  }\n  static #_ = this.ɵfac = function GanttItemUpper_Factory(t) {\n    return new (t || GanttItemUpper)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN));\n  };\n  static #_2 = this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: GanttItemUpper,\n    inputs: {\n      template: \"template\",\n      item: \"item\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttItemUpper, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }];\n  }, {\n    template: [{\n      type: Input\n    }],\n    item: [{\n      type: Input\n    }]\n  });\n})();\nfunction linearGradient(sideOrCorner, color, stop) {\n  return `linear-gradient(${sideOrCorner},${color} 0%,${stop} 40%)`;\n}\nclass NgxGanttBarComponent extends GanttItemUpper {\n  constructor(dragContainer, drag, elementRef, ganttUpper, ngZone) {\n    super(elementRef, ganttUpper);\n    this.dragContainer = dragContainer;\n    this.drag = drag;\n    this.ganttUpper = ganttUpper;\n    this.ngZone = ngZone;\n    this.barClick = new EventEmitter();\n    this.ganttItemClass = true;\n  }\n  ngOnInit() {\n    super.ngOnInit();\n    this.dragContainer.dragStarted.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n      this.elementRef.nativeElement.style.pointerEvents = 'none';\n    });\n    this.dragContainer.dragEnded.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n      this.elementRef.nativeElement.style.pointerEvents = '';\n      this.setContentBackground();\n    });\n  }\n  ngOnChanges(changes) {\n    super.ngOnChanges(changes);\n    if (!this.firstChange) {\n      this.drag.updateItem(this.item);\n      if (changes.item.currentValue.refs?.width !== changes.item.previousValue.refs?.width || changes.item.currentValue.color !== changes.item.previousValue.color || changes.item.currentValue.start?.value !== changes.item.previousValue.start?.value || changes.item.currentValue.end?.value !== changes.item.previousValue.end?.value) {\n        this.setContentBackground();\n      }\n    }\n  }\n  ngAfterViewInit() {\n    // Note: the zone may be nooped through `BootstrapOptions` when bootstrapping the root module. This means\n    // the `onStable` will never emit any value.\n    const onStable$ = this.ngZone.isStable ? from(Promise.resolve()) : this.ngZone.onStable.pipe(take(1));\n    // Normally this isn't in the zone, but it can cause performance regressions for apps\n    // using `zone-patch-rxjs` because it'll trigger a change detection when it unsubscribes.\n    this.ngZone.runOutsideAngular(() => {\n      onStable$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n        this.drag.createDrags(this.elementRef, this.item, this.ganttUpper);\n      });\n    });\n    this.setContentBackground();\n    this.handles.changes.pipe(startWith$1(this.handles), switchMap(() =>\n    // Note: we need to explicitly subscribe outside of the Angular zone since `addEventListener`\n    // is called when the `fromEvent` is subscribed.\n    new Observable(subscriber => this.ngZone.runOutsideAngular(() => merge(...this.handles.toArray().map(handle => fromEvent(handle.nativeElement, 'mousedown'))).subscribe(subscriber)))), takeUntil(this.unsubscribe$)).subscribe(event => {\n      event.stopPropagation();\n    });\n  }\n  onBarClick(event) {\n    this.barClick.emit({\n      event,\n      item: this.item.origin\n    });\n  }\n  setContentBackground() {\n    if (this.item.refs?.width) {\n      const contentElement = this.contentElementRef.nativeElement;\n      const color = this.item.color || barBackground;\n      const style = this.item.barStyle || {};\n      const barElement = this.elementRef.nativeElement;\n      if (this.item.origin.start && this.item.origin.end) {\n        style.background = color;\n        style.borderRadius = '';\n      }\n      if (this.item.origin.start && !this.item.origin.end) {\n        style.background = linearGradient('to left', hexToRgb(color, 0.55), hexToRgb(color, 1));\n        const borderRadius = '4px 12.5px 12.5px 4px';\n        style.borderRadius = borderRadius;\n        barElement.style.borderRadius = borderRadius;\n      }\n      if (!this.item.origin.start && this.item.origin.end) {\n        style.background = linearGradient('to right', hexToRgb(color, 0.55), hexToRgb(color, 1));\n        const borderRadius = '12.5px 4px 4px 12.5px';\n        style.borderRadius = borderRadius;\n        barElement.style.borderRadius = borderRadius;\n      }\n      if (this.item.progress >= 0) {\n        const contentProgressElement = contentElement.querySelector('.gantt-bar-content-progress');\n        style.background = hexToRgb(color, 0.3);\n        style.borderRadius = '';\n        contentProgressElement.style.background = color;\n      }\n      for (const key in style) {\n        if (style.hasOwnProperty(key)) {\n          contentElement.style[key] = style[key];\n        }\n      }\n    }\n  }\n  stopPropagation(event) {\n    event.stopPropagation();\n  }\n  static #_ = this.ɵfac = function NgxGanttBarComponent_Factory(t) {\n    return new (t || NgxGanttBarComponent)(i0.ɵɵdirectiveInject(GanttDragContainer), i0.ɵɵdirectiveInject(GanttBarDrag), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN), i0.ɵɵdirectiveInject(i0.NgZone));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxGanttBarComponent,\n    selectors: [[\"ngx-gantt-bar\"], [\"gantt-bar\"]],\n    viewQuery: function NgxGanttBarComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c16, 5);\n        i0.ɵɵviewQuery(_c17, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.contentElementRef = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.handles = _t);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function NgxGanttBarComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"gantt-bar\", ctx.ganttItemClass);\n      }\n    },\n    outputs: {\n      barClick: \"barClick\"\n    },\n    features: [i0.ɵɵProvidersFeature([GanttBarDrag]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature],\n    decls: 9,\n    vars: 8,\n    consts: [[1, \"gantt-bar-layer\"], [1, \"drag-handles\"], [4, \"ngIf\"], [\"class\", \"link-handles\", 4, \"ngIf\"], [1, \"gantt-bar-border\"], [1, \"gantt-bar-content\", 3, \"click\"], [\"content\", \"\"], [\"class\", \"gantt-bar-content-progress\", 3, \"width\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"handle\"], [\"handle\", \"\"], [1, \"link-handles\"], [1, \"point\"], [1, \"gantt-bar-content-progress\"]],\n    template: function NgxGanttBarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, NgxGanttBarComponent_ng_container_2_Template, 5, 0, \"ng-container\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, NgxGanttBarComponent_div_3_Template, 5, 0, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5, 6);\n        i0.ɵɵlistener(\"click\", function NgxGanttBarComponent_Template_div_click_5_listener($event) {\n          return ctx.onBarClick($event);\n        });\n        i0.ɵɵtemplate(7, NgxGanttBarComponent_div_7_Template, 1, 2, \"div\", 7);\n        i0.ɵɵtemplate(8, NgxGanttBarComponent_ng_template_8_Template, 0, 0, \"ng-template\", 8);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.item.draggable && ctx.ganttUpper.draggable);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.item.linkable && ctx.ganttUpper.linkable);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.item.progress >= 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.template)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(5, _c18, ctx.item.origin, ctx.item.refs));\n      }\n    },\n    dependencies: [i1.NgIf, i1.NgTemplateOutlet],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxGanttBarComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-gantt-bar,gantt-bar',\n      providers: [GanttBarDrag],\n      template: \"<div class=\\\"gantt-bar-layer\\\">\\n  <div class=\\\"drag-handles\\\">\\n    <ng-container *ngIf=\\\"item.draggable && ganttUpper.draggable\\\">\\n      <span class=\\\"handle\\\" #handle></span>\\n      <span class=\\\"handle\\\" #handle></span>\\n    </ng-container>\\n  </div>\\n  <div *ngIf=\\\"item.linkable && ganttUpper.linkable\\\" class=\\\"link-handles\\\">\\n    <span class=\\\"handle\\\"><span class=\\\"point\\\"></span></span>\\n    <span class=\\\"handle\\\"> <span class=\\\"point\\\"></span></span>\\n  </div>\\n</div>\\n<div class=\\\"gantt-bar-border\\\"></div>\\n<div #content class=\\\"gantt-bar-content\\\" (click)=\\\"onBarClick($event)\\\">\\n  <div class=\\\"gantt-bar-content-progress\\\" *ngIf=\\\"item.progress >= 0\\\" [style.width.%]=\\\"item.progress * 100\\\"></div>\\n  <ng-template [ngTemplateOutlet]=\\\"template\\\" [ngTemplateOutletContext]=\\\"{ item: item.origin, refs: item.refs }\\\"> </ng-template>\\n</div>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: GanttDragContainer\n    }, {\n      type: GanttBarDrag\n    }, {\n      type: i0.ElementRef\n    }, {\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    barClick: [{\n      type: Output\n    }],\n    contentElementRef: [{\n      type: ViewChild,\n      args: ['content']\n    }],\n    ganttItemClass: [{\n      type: HostBinding,\n      args: ['class.gantt-bar']\n    }],\n    handles: [{\n      type: ViewChildren,\n      args: ['handle']\n    }]\n  });\n})();\nclass NgxGanttRangeComponent extends GanttItemUpper {\n  constructor(elementRef, ganttUpper) {\n    super(elementRef, ganttUpper);\n    this.ganttRangeClass = true;\n  }\n  static #_ = this.ɵfac = function NgxGanttRangeComponent_Factory(t) {\n    return new (t || NgxGanttRangeComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxGanttRangeComponent,\n    selectors: [[\"ngx-gantt-range\"], [\"gantt-range\"]],\n    hostVars: 2,\n    hostBindings: function NgxGanttRangeComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"gantt-range\", ctx.ganttRangeClass);\n      }\n    },\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [1, \"gantt-range-main\"], [\"class\", \"gantt-range-main-progress\", 3, \"width\", 4, \"ngIf\"], [1, \"gantt-range-triangle\", \"left\"], [1, \"gantt-range-triangle\", \"right\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"gantt-range-main-progress\"]],\n    template: function NgxGanttRangeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, NgxGanttRangeComponent_ng_container_0_Template, 6, 6, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.item.start && ctx.item.end);\n      }\n    },\n    dependencies: [i1.NgIf, i1.NgTemplateOutlet],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxGanttRangeComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-gantt-range,gantt-range',\n      template: \"<ng-container *ngIf=\\\"item.start && item.end\\\">\\n  <div class=\\\"gantt-range-main\\\">\\n    <div class=\\\"gantt-range-main-progress\\\" *ngIf=\\\"item.progress >= 0\\\" [style.width.%]=\\\"item.progress * 100\\\"></div>\\n  </div>\\n  <div class=\\\"gantt-range-triangle left\\\"></div>\\n  <div class=\\\"gantt-range-triangle right\\\"></div>\\n  <ng-template [ngTemplateOutlet]=\\\"template\\\" [ngTemplateOutletContext]=\\\"{ item: item.origin, refs: item.refs }\\\"></ng-template>\\n</ng-container>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }];\n  }, {\n    ganttRangeClass: [{\n      type: HostBinding,\n      args: ['class.gantt-range']\n    }]\n  });\n})();\nclass NgxGanttBaselineComponent {\n  constructor(elementRef, ganttUpper) {\n    this.elementRef = elementRef;\n    this.ganttUpper = ganttUpper;\n    this.unsubscribe$ = new Subject();\n    this.ganttBaselineClass = true;\n  }\n  ngOnInit() {\n    this.baselineItem.refs$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n      this.setPositions();\n    });\n  }\n  setPositions() {\n    const itemElement = this.elementRef.nativeElement;\n    itemElement.style.left = this.baselineItem.refs.x + 'px';\n    itemElement.style.bottom = '2px';\n    itemElement.style.width = this.baselineItem.refs.width + 'px';\n  }\n  static #_ = this.ɵfac = function NgxGanttBaselineComponent_Factory(t) {\n    return new (t || NgxGanttBaselineComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxGanttBaselineComponent,\n    selectors: [[\"ngx-gantt-baseline\"], [\"gantt-baseline\"]],\n    hostVars: 2,\n    hostBindings: function NgxGanttBaselineComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"gantt-baseline\", ctx.ganttBaselineClass);\n      }\n    },\n    inputs: {\n      baselineItem: \"baselineItem\",\n      template: \"template\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"baseline-content\", 4, \"ngIf\"], [1, \"baseline-content\"], [\"content\", \"\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"]],\n    template: function NgxGanttBaselineComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, NgxGanttBaselineComponent_div_0_Template, 3, 5, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.baselineItem);\n      }\n    },\n    dependencies: [i1.NgIf, i1.NgTemplateOutlet],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxGanttBaselineComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-gantt-baseline,gantt-baseline',\n      template: \"<div #content *ngIf=\\\"baselineItem\\\" class=\\\"baseline-content\\\">\\n  <ng-template\\n    [ngTemplateOutlet]=\\\"template\\\"\\n    [ngTemplateOutletContext]=\\\"{ item: baselineItem.origin, refs: baselineItem.refs }\\\"\\n  ></ng-template>\\n</div>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }];\n  }, {\n    baselineItem: [{\n      type: Input\n    }],\n    template: [{\n      type: Input\n    }],\n    ganttBaselineClass: [{\n      type: HostBinding,\n      args: ['class.gantt-baseline']\n    }]\n  });\n})();\nclass GanttMainComponent {\n  constructor(ganttUpper) {\n    this.ganttUpper = ganttUpper;\n    this.barClick = new EventEmitter();\n    this.lineClick = new EventEmitter();\n    this.ganttMainClass = true;\n  }\n  trackBy(index, item) {\n    return item.id || index;\n  }\n  static #_ = this.ɵfac = function GanttMainComponent_Factory(t) {\n    return new (t || GanttMainComponent)(i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GanttMainComponent,\n    selectors: [[\"gantt-main\"]],\n    hostVars: 2,\n    hostBindings: function GanttMainComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"gantt-main-container\", ctx.ganttMainClass);\n      }\n    },\n    inputs: {\n      viewportItems: \"viewportItems\",\n      flatItems: \"flatItems\",\n      groupHeaderTemplate: \"groupHeaderTemplate\",\n      itemTemplate: \"itemTemplate\",\n      barTemplate: \"barTemplate\",\n      rangeTemplate: \"rangeTemplate\",\n      baselineTemplate: \"baselineTemplate\"\n    },\n    outputs: {\n      barClick: \"barClick\",\n      lineClick: \"lineClick\"\n    },\n    decls: 3,\n    vars: 5,\n    consts: [[3, \"flatItems\", \"lineClick\"], [1, \"gantt-main-groups\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"gantt-group\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"gantt-item\", 3, \"height\", \"gantt-main-item-active\", 4, \"ngIf\"], [1, \"gantt-group\", 3, \"ngClass\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"gantt-item\"], [4, \"ngIf\"], [3, \"template\", \"item\", 4, \"ngIf\"], [3, \"item\", \"template\", \"barClick\", 4, \"ngIf\"], [3, \"baselineItem\", \"template\", 4, \"ngIf\"], [3, \"template\", \"item\"], [3, \"item\", \"template\", \"barClick\"], [3, \"baselineItem\", \"template\"]],\n    template: function GanttMainComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"gantt-links-overlay\", 0);\n        i0.ɵɵlistener(\"lineClick\", function GanttMainComponent_Template_gantt_links_overlay_lineClick_0_listener($event) {\n          return ctx.lineClick.emit($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, GanttMainComponent_ng_container_2_Template, 3, 2, \"ng-container\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"flatItems\", ctx.flatItems);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"width\", ctx.ganttUpper.view.width, \"px\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.viewportItems)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i1.NgTemplateOutlet, GanttLinksComponent, NgxGanttBarComponent, NgxGanttRangeComponent, NgxGanttBaselineComponent, IsGanttRangeItemPipe, IsGanttBarItemPipe, IsGanttCustomItemPipe],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttMainComponent, [{\n    type: Component,\n    args: [{\n      selector: 'gantt-main',\n      template: \"<gantt-links-overlay [flatItems]=\\\"flatItems\\\" (lineClick)=\\\"lineClick.emit($event)\\\"></gantt-links-overlay>\\n<div class=\\\"gantt-main-groups\\\" [style.width.px]=\\\"ganttUpper.view.width\\\">\\n  <ng-container *ngFor=\\\"let data of viewportItems; trackBy: trackBy\\\">\\n    <div class=\\\"gantt-group\\\" [ngClass]=\\\"data.class\\\" *ngIf=\\\"data.items\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"groupHeaderTemplate\\\" [ngTemplateOutletContext]=\\\"{ group: data }\\\"></ng-template>\\n    </div>\\n    <div\\n      *ngIf=\\\"!data.items\\\"\\n      class=\\\"gantt-item\\\"\\n      [style.height.px]=\\\"ganttUpper.styles.lineHeight\\\"\\n      [class.gantt-main-item-active]=\\\"ganttUpper.isSelected(data.id)\\\"\\n    >\\n      <ng-container *ngIf=\\\"data.type | isGanttCustomItem\\\">\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"itemTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{\\n            item: data.origin,\\n            refs: data.refs,\\n            baseline: ganttUpper.baselineItemsMap[data.id]?.origin,\\n            baselineRefs: ganttUpper.baselineItemsMap[data.id]?.refs\\n          }\\\"\\n        >\\n        </ng-template>\\n      </ng-container>\\n\\n      <ng-container *ngIf=\\\"(data.type | isGanttRangeItem) || (data.type | isGanttBarItem)\\\">\\n        <gantt-range *ngIf=\\\"data.type | isGanttRangeItem\\\" [template]=\\\"rangeTemplate\\\" [item]=\\\"data\\\"></gantt-range>\\n        <gantt-bar *ngIf=\\\"data.type | isGanttBarItem\\\" [item]=\\\"data\\\" [template]=\\\"barTemplate\\\" (barClick)=\\\"barClick.emit($event)\\\"></gantt-bar>\\n        <gantt-baseline\\n          *ngIf=\\\"ganttUpper.baselineItemsMap[data.id]\\\"\\n          [baselineItem]=\\\"ganttUpper.baselineItemsMap[data.id]\\\"\\n          [template]=\\\"baselineTemplate\\\"\\n        ></gantt-baseline>\\n      </ng-container>\\n    </div>\\n  </ng-container>\\n</div>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }];\n  }, {\n    viewportItems: [{\n      type: Input\n    }],\n    flatItems: [{\n      type: Input\n    }],\n    groupHeaderTemplate: [{\n      type: Input\n    }],\n    itemTemplate: [{\n      type: Input\n    }],\n    barTemplate: [{\n      type: Input\n    }],\n    rangeTemplate: [{\n      type: Input\n    }],\n    baselineTemplate: [{\n      type: Input\n    }],\n    barClick: [{\n      type: Output\n    }],\n    lineClick: [{\n      type: Output\n    }],\n    ganttMainClass: [{\n      type: HostBinding,\n      args: ['class.gantt-main-container']\n    }]\n  });\n})();\nclass GanttCalendarHeaderComponent {\n  get view() {\n    return this.ganttUpper.view;\n  }\n  constructor(ganttUpper, ngZone, elementRef) {\n    this.ganttUpper = ganttUpper;\n    this.ngZone = ngZone;\n    this.elementRef = elementRef;\n    this.unsubscribe$ = new Subject();\n    this.headerHeight = headerHeight;\n    this.viewTypes = GanttViewType;\n    this.className = `gantt-calendar gantt-calendar-header`;\n  }\n  ngOnInit() {\n    this.ngZone.onStable.pipe(take(1)).subscribe(() => {\n      merge(this.ganttUpper.viewChange, this.ganttUpper.view.start$).pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n        if (this.ganttUpper.viewType === GanttViewType.day) this.setTodayPoint();\n      });\n    });\n  }\n  setTodayPoint() {\n    const x = this.view.getTodayXPoint();\n    const today = new GanttDate().getDate();\n    const todayEle = this.elementRef.nativeElement.getElementsByClassName('gantt-calendar-today-overlay')[0];\n    const rect = this.elementRef.nativeElement.getElementsByClassName('today-rect')[0];\n    if (isNumber(x)) {\n      if (rect) {\n        rect.style.left = `${x - todayWidth / 2}px`;\n        rect.style.top = `${headerHeight - todayHeight}px`;\n        rect.innerHTML = today.toString();\n      }\n    } else {\n      todayEle.style.display = 'none';\n    }\n  }\n  trackBy(point, index) {\n    return point.text || index;\n  }\n  static #_ = this.ɵfac = function GanttCalendarHeaderComponent_Factory(t) {\n    return new (t || GanttCalendarHeaderComponent)(i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GanttCalendarHeaderComponent,\n    selectors: [[\"gantt-calendar-header\"]],\n    hostVars: 2,\n    hostBindings: function GanttCalendarHeaderComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.className);\n      }\n    },\n    decls: 10,\n    vars: 15,\n    consts: [[1, \"gantt-calendar-today-overlay\"], [1, \"today-rect\", 3, \"hidden\"], [\"class\", \"primary-text\", 3, \"ngStyle\", \"today\", \"weekend\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"primary-line\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"header-line\"], [1, \"primary-text\", 3, \"ngStyle\"], [1, \"secondary-text\", 3, \"ngStyle\"], [1, \"primary-line\"]],\n    template: function GanttCalendarHeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"span\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(2, \"svg\")(3, \"g\");\n        i0.ɵɵtemplate(4, GanttCalendarHeaderComponent__svg_text_4_Template, 2, 8, \"text\", 2);\n        i0.ɵɵtemplate(5, GanttCalendarHeaderComponent__svg_ng_container_5_Template, 3, 8, \"ng-container\", 3);\n        i0.ɵɵelementStart(6, \"g\");\n        i0.ɵɵtemplate(7, GanttCalendarHeaderComponent__svg_line_7_Template, 1, 4, \"line\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"g\");\n        i0.ɵɵelement(9, \"line\", 5);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"width\", ctx.view.width, \"px\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"hidden\", ctx.ganttUpper.viewType !== ctx.viewTypes.day);\n        i0.ɵɵadvance(1);\n        i0.ɵɵattribute(\"width\", ctx.view.width)(\"height\", ctx.headerHeight);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.view.primaryDatePoints)(\"ngForTrackBy\", ctx.trackBy);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.view.secondaryDatePoints)(\"ngForTrackBy\", ctx.trackBy);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.view.primaryDatePoints)(\"ngForTrackBy\", ctx.trackBy);\n        i0.ɵɵadvance(2);\n        i0.ɵɵattribute(\"x1\", 0)(\"x2\", ctx.view.width)(\"y1\", ctx.headerHeight)(\"y2\", ctx.headerHeight);\n      }\n    },\n    dependencies: [i1.NgForOf, i1.NgStyle],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttCalendarHeaderComponent, [{\n    type: Component,\n    args: [{\n      selector: 'gantt-calendar-header',\n      template: \"<div class=\\\"gantt-calendar-today-overlay\\\" [style.width.px]=\\\"view.width\\\">\\n  <span class=\\\"today-rect\\\" [hidden]=\\\"ganttUpper.viewType !== viewTypes.day\\\"> </span>\\n</div>\\n<svg [attr.width]=\\\"view.width\\\" [attr.height]=\\\"headerHeight\\\">\\n  <g>\\n    <text\\n      class=\\\"primary-text\\\"\\n      [ngStyle]=\\\"point.style\\\"\\n      [class.today]=\\\"point.additions?.isToday\\\"\\n      [class.weekend]=\\\"point.additions?.isWeekend\\\"\\n      *ngFor=\\\"let point of view.primaryDatePoints; trackBy: trackBy\\\"\\n      [attr.x]=\\\"point.x\\\"\\n      [attr.y]=\\\"point.y\\\"\\n    >\\n      {{ point.text }}\\n    </text>\\n    <ng-container *ngFor=\\\"let point of view.secondaryDatePoints; trackBy: trackBy\\\">\\n      <text\\n        class=\\\"secondary-text\\\"\\n        [ngStyle]=\\\"point.style\\\"\\n        [class.today]=\\\"point.additions?.isToday\\\"\\n        [class.weekend]=\\\"point.additions?.isWeekend\\\"\\n        [attr.x]=\\\"point.x\\\"\\n        [attr.y]=\\\"point.y\\\"\\n      >\\n        {{ point.text }}\\n      </text>\\n    </ng-container>\\n\\n    <g>\\n      <line\\n        *ngFor=\\\"let point of view.primaryDatePoints; let i = index; trackBy: trackBy\\\"\\n        [attr.x1]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.x2]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.y1]=\\\"0\\\"\\n        [attr.y2]=\\\"headerHeight\\\"\\n        class=\\\"primary-line\\\"\\n      ></line>\\n    </g>\\n\\n    <g>\\n      <line [attr.x1]=\\\"0\\\" [attr.x2]=\\\"view.width\\\" [attr.y1]=\\\"headerHeight\\\" [attr.y2]=\\\"headerHeight\\\" class=\\\"header-line\\\"></line>\\n    </g>\\n  </g>\\n</svg>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }, {\n      type: i0.NgZone\n    }, {\n      type: i0.ElementRef\n    }];\n  }, {\n    className: [{\n      type: HostBinding,\n      args: ['class']\n    }]\n  });\n})();\nconst mainHeight = 5000;\nclass GanttCalendarGridComponent {\n  get view() {\n    return this.ganttUpper.view;\n  }\n  constructor(ganttUpper, ngZone, elementRef) {\n    this.ganttUpper = ganttUpper;\n    this.ngZone = ngZone;\n    this.elementRef = elementRef;\n    this.unsubscribe$ = new Subject();\n    this.headerHeight = headerHeight;\n    this.mainHeight = mainHeight;\n    this.todayBorderRadius = todayBorderRadius;\n    this.viewTypes = GanttViewType;\n    this.className = `gantt-calendar gantt-calendar-grid`;\n  }\n  setTodayPoint() {\n    const x = this.view.getTodayXPoint();\n    const todayEle = this.elementRef.nativeElement.getElementsByClassName('gantt-calendar-today-overlay')[0];\n    const line = this.elementRef.nativeElement.getElementsByClassName('today-line')[0];\n    if (isNumber(x)) {\n      if (line) {\n        line.style.left = `${x}px`;\n        line.style.top = `0px`;\n        line.style.bottom = `${-mainHeight}px`;\n      }\n    } else {\n      todayEle.style.display = 'none';\n    }\n  }\n  ngOnInit() {\n    this.ngZone.onStable.pipe(take(1)).subscribe(() => {\n      merge(this.ganttUpper.viewChange, this.ganttUpper.view.start$).pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n        this.setTodayPoint();\n      });\n    });\n  }\n  trackBy(point, index) {\n    return point.text || index;\n  }\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n  static #_ = this.ɵfac = function GanttCalendarGridComponent_Factory(t) {\n    return new (t || GanttCalendarGridComponent)(i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GanttCalendarGridComponent,\n    selectors: [[\"gantt-calendar-grid\"]],\n    hostVars: 2,\n    hostBindings: function GanttCalendarGridComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.className);\n      }\n    },\n    decls: 7,\n    vars: 8,\n    consts: [[1, \"gantt-calendar-today-overlay\"], [\"class\", \"today-line\", 4, \"ngIf\"], [1, \"gantt-calendar-grid-main\"], [4, \"ngIf\"], [\"class\", \"primary-line\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"today-line\"], [\"class\", \"secondary-line\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"secondary-line\"], [1, \"primary-line\"]],\n    template: function GanttCalendarGridComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, GanttCalendarGridComponent_span_1_Template, 1, 0, \"span\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(2, \"svg\", 2)(3, \"g\");\n        i0.ɵɵtemplate(4, GanttCalendarGridComponent__svg_g_4_Template, 2, 2, \"g\", 3);\n        i0.ɵɵelementStart(5, \"g\");\n        i0.ɵɵtemplate(6, GanttCalendarGridComponent__svg_line_6_Template, 1, 4, \"line\", 4);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"width\", ctx.view.width, \"px\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.ganttUpper.showTodayLine);\n        i0.ɵɵadvance(1);\n        i0.ɵɵattribute(\"width\", ctx.view.width)(\"height\", ctx.headerHeight - 1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.view.showTimeline);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.view.primaryDatePoints)(\"ngForTrackBy\", ctx.trackBy);\n      }\n    },\n    dependencies: [i1.NgForOf, i1.NgIf],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttCalendarGridComponent, [{\n    type: Component,\n    args: [{\n      selector: 'gantt-calendar-grid',\n      template: \"<div class=\\\"gantt-calendar-today-overlay\\\" [style.width.px]=\\\"view.width\\\">\\n  <span class=\\\"today-line\\\" *ngIf=\\\"ganttUpper.showTodayLine\\\"> </span>\\n</div>\\n\\n<svg class=\\\"gantt-calendar-grid-main\\\" [attr.width]=\\\"view.width\\\" [attr.height]=\\\"headerHeight - 1\\\">\\n  <g>\\n    <g *ngIf=\\\"view.showTimeline\\\">\\n      <line\\n        *ngFor=\\\"let point of view.secondaryDatePoints; let i = index; trackBy: trackBy\\\"\\n        [attr.x1]=\\\"(i + 1) * view.cellWidth\\\"\\n        [attr.x2]=\\\"(i + 1) * view.cellWidth\\\"\\n        [attr.y1]=\\\"0\\\"\\n        [attr.y2]=\\\"mainHeight\\\"\\n        class=\\\"secondary-line\\\"\\n      ></line>\\n    </g>\\n    <g>\\n      <line\\n        *ngFor=\\\"let point of view.primaryDatePoints; let i = index; trackBy: trackBy\\\"\\n        [attr.x1]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.x2]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.y1]=\\\"0\\\"\\n        [attr.y2]=\\\"mainHeight\\\"\\n        class=\\\"primary-line\\\"\\n      ></line>\\n    </g>\\n  </g>\\n</svg>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }, {\n      type: i0.NgZone\n    }, {\n      type: i0.ElementRef\n    }];\n  }, {\n    className: [{\n      type: HostBinding,\n      args: ['class']\n    }]\n  });\n})();\nclass GanttLoaderComponent {\n  static #_ = this.ɵfac = function GanttLoaderComponent_Factory(t) {\n    return new (t || GanttLoaderComponent)();\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GanttLoaderComponent,\n    selectors: [[\"gantt-loader\"]],\n    hostAttrs: [1, \"gantt-loader\", \"gantt-loader-overlay\"],\n    decls: 3,\n    vars: 0,\n    consts: [[1, \"gantt-loader-wrapper\"], [1, \"gantt-loader-loading\"], [1, \"gantt-loader-loading-spot\"]],\n    template: function GanttLoaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"span\", 2);\n        i0.ɵɵelementEnd()();\n      }\n    },\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttLoaderComponent, [{\n    type: Component,\n    args: [{\n      selector: 'gantt-loader',\n      template: `\n        <div class=\"gantt-loader-wrapper\">\n            <div class=\"gantt-loader-loading\">\n                <span class=\"gantt-loader-loading-spot\"></span>\n            </div>\n        </div>\n    `,\n      host: {\n        class: 'gantt-loader gantt-loader-overlay'\n      }\n    }]\n  }], null, null);\n})();\nclass GanttDragBackdropComponent {\n  static #_ = this.ɵfac = function GanttDragBackdropComponent_Factory(t) {\n    return new (t || GanttDragBackdropComponent)();\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GanttDragBackdropComponent,\n    selectors: [[\"gantt-drag-backdrop\"]],\n    hostAttrs: [1, \"gantt-drag-backdrop\"],\n    decls: 4,\n    vars: 0,\n    consts: [[1, \"gantt-drag-mask\"], [1, \"date-range\"], [1, \"start\"], [1, \"end\"]],\n    template: function GanttDragBackdropComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"span\", 2)(3, \"span\", 3);\n        i0.ɵɵelementEnd()();\n      }\n    },\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttDragBackdropComponent, [{\n    type: Component,\n    args: [{\n      selector: 'gantt-drag-backdrop',\n      host: {\n        class: 'gantt-drag-backdrop'\n      },\n      template: \"<div class=\\\"gantt-drag-mask\\\">\\n  <div class=\\\"date-range\\\">\\n    <span class=\\\"start\\\"></span>\\n    <span class=\\\"end\\\"></span>\\n  </div>\\n</div>\\n\"\n    }]\n  }], null, null);\n})();\nclass GanttPrintService {\n  constructor() {}\n  setInlineStyles(targetElem) {\n    const svgElements = Array.from(targetElem.getElementsByTagName('svg'));\n    for (const svgElement of svgElements) {\n      this.recursElementChildren(svgElement);\n    }\n  }\n  recursElementChildren(node) {\n    const transformProperties = ['fill', 'color', 'font-size', 'stroke', 'font', 'text-anchor', 'stroke-dasharray', 'shape-rendering', 'stroke-width'];\n    if (!node.style) {\n      return;\n    }\n    const styles = getComputedStyle(node);\n    for (const transformProperty of transformProperties) {\n      node.style[transformProperty] = styles[transformProperty];\n    }\n    for (const child of Array.from(node.childNodes)) {\n      this.recursElementChildren(child);\n    }\n  }\n  register(root) {\n    this.root = root.nativeElement;\n    this.mainContainer = this.root.getElementsByClassName('gantt-main-container')[0];\n  }\n  print(name = 'download', ignoreElementClass) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const root = _this.root;\n      const mainContainer = _this.mainContainer;\n      // set print width\n      const printWidth = root.offsetWidth;\n      // set print height\n      const printHeight = root.offsetHeight - mainContainer.offsetHeight + mainContainer.scrollHeight;\n      const html2canvas = (yield import( /* webpackChunkName: 'html2canvas' */'html2canvas')).default;\n      html2canvas(root, {\n        logging: false,\n        allowTaint: true,\n        useCORS: true,\n        width: printWidth,\n        height: printHeight,\n        ignoreElements: element => {\n          if (ignoreElementClass && element.classList.contains(ignoreElementClass)) {\n            return true;\n          }\n          if (element.classList.contains('gantt-calendar-today-overlay')) {\n            return true;\n          }\n        },\n        onclone: cloneDocument => {\n          const ganttClass = root.className;\n          const cloneGanttDom = cloneDocument.querySelector(`.${ganttClass.replace(/\\s+/g, '.')}`);\n          const cloneGanttContainerDom = cloneDocument.querySelector('.gantt-container');\n          const cloneCalendarOverlay = cloneDocument.querySelector('.gantt-calendar-grid-main');\n          const cloneLinksOverlay = cloneDocument.querySelector('.gantt-links-overlay-main');\n          // change targetDom width\n          cloneGanttDom.style.width = `${printWidth}px`;\n          cloneGanttDom.style.height = `${printHeight}px`;\n          cloneGanttDom.style.overflow = `unset`;\n          cloneGanttContainerDom.style.backgroundColor = '#fff';\n          cloneCalendarOverlay.setAttribute('height', `${printHeight}`);\n          cloneCalendarOverlay.setAttribute('style', `background: transparent`);\n          if (cloneLinksOverlay) {\n            cloneLinksOverlay.setAttribute('height', `${printHeight}`);\n            cloneLinksOverlay.setAttribute('style', `height: ${printHeight}px`);\n          }\n          // setInlineStyles for svg\n          _this.setInlineStyles(cloneGanttDom);\n        }\n      }).then(canvas => {\n        const link = document.createElement('a');\n        const dataUrl = canvas.toDataURL('image/png');\n        link.download = `${name}.png`;\n        link.href = dataUrl;\n        link.click();\n      });\n    })();\n  }\n  static #_ = this.ɵfac = function GanttPrintService_Factory(t) {\n    return new (t || GanttPrintService)();\n  };\n  static #_2 = this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: GanttPrintService,\n    factory: GanttPrintService.ɵfac\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(GanttPrintService, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\nclass NgxGanttToolbarComponent {\n  constructor(ganttUpper) {\n    this.ganttUpper = ganttUpper;\n    this.ganttItemClass = true;\n    this.ganttViewsMap = keyBy(ganttViews, 'value');\n  }\n  selectView(view) {\n    this.ganttUpper.changeView(view);\n  }\n  static #_ = this.ɵfac = function NgxGanttToolbarComponent_Factory(t) {\n    return new (t || NgxGanttToolbarComponent)(i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxGanttToolbarComponent,\n    selectors: [[\"ngx-gantt-toolbar\"], [\"gantt-toolbar\"]],\n    hostVars: 2,\n    hostBindings: function NgxGanttToolbarComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"gantt-toolbar\", ctx.ganttItemClass);\n      }\n    },\n    inputs: {\n      template: \"template\"\n    },\n    decls: 3,\n    vars: 2,\n    consts: [[1, \"toolbar-container\"], [4, \"ngIf\"], [3, \"ngTemplateOutlet\"], [\"class\", \"toolbar-views\", 4, \"ngIf\"], [1, \"toolbar-views\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"toolbar-view\", 3, \"active\", \"click\", 4, \"ngIf\"], [1, \"toolbar-view\", 3, \"click\"]],\n    template: function NgxGanttToolbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, NgxGanttToolbarComponent_ng_container_1_Template, 2, 1, \"ng-container\", 1);\n        i0.ɵɵtemplate(2, NgxGanttToolbarComponent_ng_template_2_Template, 0, 0, \"ng-template\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.template);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.template);\n      }\n    },\n    dependencies: [i1.NgForOf, i1.NgIf, i1.NgTemplateOutlet],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxGanttToolbarComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-gantt-toolbar,gantt-toolbar',\n      template: \"<div class=\\\"toolbar-container\\\">\\n  <ng-container *ngIf=\\\"!template\\\">\\n    <div class=\\\"toolbar-views\\\" *ngIf=\\\"this.ganttUpper.toolbarOptions?.viewTypes?.length\\\">\\n      <ng-container *ngFor=\\\"let view of this.ganttUpper.toolbarOptions?.viewTypes\\\">\\n        <div class=\\\"toolbar-view\\\" *ngIf=\\\"ganttViewsMap[view]\\\" [class.active]=\\\"view === this.ganttUpper.viewType\\\" (click)=\\\"selectView(view)\\\">\\n          {{ ganttViewsMap[view].name }}\\n        </div>\\n      </ng-container>\\n    </div>\\n  </ng-container>\\n  <ng-template [ngTemplateOutlet]=\\\"template\\\"></ng-template>\\n</div>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }];\n  }, {\n    template: [{\n      type: Input\n    }],\n    ganttItemClass: [{\n      type: HostBinding,\n      args: ['class.gantt-toolbar']\n    }]\n  });\n})();\nclass NgxGanttRootComponent {\n  get view() {\n    return this.ganttUpper.view;\n  }\n  onWindowResize() {\n    this.computeScrollBarOffset();\n  }\n  constructor(elementRef, ngZone, dom, dragContainer, ganttUpper, printService) {\n    this.elementRef = elementRef;\n    this.ngZone = ngZone;\n    this.dom = dom;\n    this.dragContainer = dragContainer;\n    this.ganttUpper = ganttUpper;\n    this.printService = printService;\n    this.verticalScrollbarWidth = 0;\n    this.horizontalScrollbarHeight = 0;\n    this.unsubscribe$ = new Subject();\n    this.ganttUpper.dragContainer = dragContainer;\n  }\n  ngOnInit() {\n    // Note: the zone may be nooped through `BootstrapOptions` when bootstrapping the root module. This means\n    // the `onStable` will never emit any value.\n    const onStable$ = this.ngZone.isStable ? from(Promise.resolve()) : this.ngZone.onStable.pipe(take(1));\n    // Normally this isn't in the zone, but it can cause performance regressions for apps\n    // using `zone-patch-rxjs` because it'll trigger a change detection when it unsubscribes.\n    this.ngZone.runOutsideAngular(() => {\n      onStable$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n        this.dom.initialize(this.elementRef);\n        if (this.printService) {\n          this.printService.register(this.elementRef);\n        }\n        this.setupScrollClass();\n        this.setupResize();\n        this.setupViewScroll();\n        // 优化初始化时Scroll滚动体验问题，通过透明度解决，默认透明度为0，滚动结束后恢复\n        this.elementRef.nativeElement.style.opacity = '1';\n        this.ganttUpper.viewChange.pipe(startWith$1(null), takeUntil(this.unsubscribe$)).subscribe(() => {\n          this.scrollToToday();\n        });\n        this.computeScrollBarOffset();\n      });\n    });\n  }\n  computeScrollBarOffset() {\n    const ganttMainContainer = this.dom.mainContainer;\n    const ganttVerticalScrollContainer = this.dom.verticalScrollContainer;\n    let verticalScrollbarWidth = 0;\n    if (ganttVerticalScrollContainer) {\n      verticalScrollbarWidth = ganttVerticalScrollContainer.offsetWidth - ganttVerticalScrollContainer.clientWidth;\n    } else {\n      verticalScrollbarWidth = ganttMainContainer?.offsetWidth - ganttMainContainer?.clientWidth;\n    }\n    const horizontalScrollbarHeight = ganttMainContainer?.offsetHeight - ganttMainContainer?.clientHeight;\n    this.verticalScrollbarWidth = verticalScrollbarWidth;\n    this.horizontalScrollbarHeight = horizontalScrollbarHeight;\n  }\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n  }\n  setupViewScroll() {\n    if (this.ganttUpper.disabledLoadOnScroll) {\n      return;\n    }\n    this.dom.getViewerScroll(passiveListenerOptions).pipe(takeUntil(this.unsubscribe$)).subscribe(event => {\n      if (event.direction === ScrollDirection.LEFT) {\n        const dates = this.view.addStartDate();\n        if (dates) {\n          event.target.scrollLeft += this.view.getDateRangeWidth(dates.start, dates.end);\n          if (this.ganttUpper.loadOnScroll.observers) {\n            this.ngZone.run(() => this.ganttUpper.loadOnScroll.emit({\n              start: dates.start.getUnixTime(),\n              end: dates.end.getUnixTime()\n            }));\n          }\n        }\n      }\n      if (event.direction === ScrollDirection.RIGHT) {\n        const dates = this.view.addEndDate();\n        if (dates && this.ganttUpper.loadOnScroll.observers) {\n          this.ngZone.run(() => this.ganttUpper.loadOnScroll.emit({\n            start: dates.start.getUnixTime(),\n            end: dates.end.getUnixTime()\n          }));\n        }\n      }\n    });\n  }\n  setupResize() {\n    this.dom.getResize().pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n      this.setupScrollClass();\n    });\n  }\n  setupScrollClass() {\n    const mainContainer = this.dom.mainContainer;\n    const height = mainContainer.offsetHeight;\n    const scrollHeight = mainContainer.scrollHeight;\n    if (scrollHeight > height) {\n      this.elementRef.nativeElement.className = 'gantt gantt-scroll';\n    } else {\n      this.elementRef.nativeElement.className = 'gantt';\n    }\n  }\n  scrollToToday() {\n    const x = this.view.getTodayXPoint();\n    this.dom.scrollMainContainer(x);\n  }\n  scrollToDate(date) {\n    let x;\n    if (typeof date === 'number') {\n      x = this.view.getXPointByDate(new GanttDate(date));\n    } else {\n      x = this.view.getXPointByDate(date);\n    }\n    this.dom.scrollMainContainer(x);\n  }\n  static #_ = this.ɵfac = function NgxGanttRootComponent_Factory(t) {\n    return new (t || NgxGanttRootComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(GanttDomService), i0.ɵɵdirectiveInject(GanttDragContainer), i0.ɵɵdirectiveInject(GANTT_UPPER_TOKEN), i0.ɵɵdirectiveInject(GanttPrintService, 8));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxGanttRootComponent,\n    selectors: [[\"ngx-gantt-root\"]],\n    contentQueries: function NgxGanttRootComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, _c21, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c22, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sideTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mainTemplate = _t.first);\n      }\n    },\n    viewQuery: function NgxGanttRootComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(GanttDragBackdropComponent, 7, ElementRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.backdrop = _t.first);\n      }\n    },\n    hostAttrs: [1, \"gantt\"],\n    hostBindings: function NgxGanttRootComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"resize\", function NgxGanttRootComponent_resize_HostBindingHandler() {\n          return ctx.onWindowResize();\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    inputs: {\n      sideWidth: \"sideWidth\"\n    },\n    features: [i0.ɵɵProvidersFeature([GanttDomService, GanttDragContainer])],\n    ngContentSelectors: _c23,\n    decls: 4,\n    vars: 3,\n    consts: [[\"class\", \"gantt-side\", 3, \"width\", \"padding-bottom\", 4, \"ngIf\"], [\"class\", \"gantt-container\", 4, \"ngIf\"], [3, \"template\", 4, \"ngIf\"], [1, \"gantt-side\"], [\"cdkScrollable\", \"\", 1, \"gantt-side-container\"], [3, \"ngTemplateOutlet\"], [1, \"gantt-container\"], [1, \"gantt-main\"], [3, \"template\"]],\n    template: function NgxGanttRootComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, NgxGanttRootComponent_div_0_Template, 3, 5, \"div\", 0);\n        i0.ɵɵtemplate(1, NgxGanttRootComponent_div_1_Template, 6, 7, \"div\", 1);\n        i0.ɵɵprojection(2);\n        i0.ɵɵtemplate(3, NgxGanttRootComponent_gantt_toolbar_3_Template, 1, 1, \"gantt-toolbar\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.sideTemplate);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.mainTemplate);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.ganttUpper.showToolbar || ctx.ganttUpper.toolbarTemplate);\n      }\n    },\n    dependencies: [i1.NgIf, i1.NgTemplateOutlet, i1$1.CdkScrollable, GanttCalendarHeaderComponent, GanttCalendarGridComponent, GanttDragBackdropComponent, NgxGanttToolbarComponent],\n    encapsulation: 2\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxGanttRootComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-gantt-root',\n      providers: [GanttDomService, GanttDragContainer],\n      host: {\n        class: 'gantt'\n      },\n      template: \"<div class=\\\"gantt-side\\\" *ngIf=\\\"sideTemplate\\\" [style.width.px]=\\\"sideWidth\\\" [style.padding-bottom.px]=\\\"horizontalScrollbarHeight\\\">\\n  <div class=\\\"gantt-side-container\\\" cdkScrollable>\\n    <ng-template [ngTemplateOutlet]=\\\"sideTemplate\\\"></ng-template>\\n  </div>\\n</div>\\n<div class=\\\"gantt-container\\\" *ngIf=\\\"mainTemplate\\\">\\n  <gantt-calendar-header [style.padding-right.px]=\\\"verticalScrollbarWidth\\\"></gantt-calendar-header>\\n  <gantt-calendar-grid\\n    [style.padding-right.px]=\\\"verticalScrollbarWidth\\\"\\n    [style.padding-bottom.px]=\\\"horizontalScrollbarHeight\\\"\\n  ></gantt-calendar-grid>\\n  <gantt-drag-backdrop></gantt-drag-backdrop>\\n  <div class=\\\"gantt-main\\\">\\n    <ng-template [ngTemplateOutlet]=\\\"mainTemplate\\\"></ng-template>\\n  </div>\\n</div>\\n<ng-content></ng-content>\\n<gantt-toolbar *ngIf=\\\"ganttUpper.showToolbar || ganttUpper.toolbarTemplate\\\" [template]=\\\"ganttUpper.toolbarTemplate\\\"> </gantt-toolbar>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: i0.NgZone\n    }, {\n      type: GanttDomService\n    }, {\n      type: GanttDragContainer\n    }, {\n      type: GanttUpper,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_UPPER_TOKEN]\n      }]\n    }, {\n      type: GanttPrintService,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, {\n    sideWidth: [{\n      type: Input\n    }],\n    sideTemplate: [{\n      type: ContentChild,\n      args: ['sideTemplate', {\n        static: true\n      }]\n    }],\n    mainTemplate: [{\n      type: ContentChild,\n      args: ['mainTemplate', {\n        static: true\n      }]\n    }],\n    backdrop: [{\n      type: ViewChild,\n      args: [GanttDragBackdropComponent, {\n        static: true,\n        read: ElementRef\n      }]\n    }],\n    onWindowResize: [{\n      type: HostListener,\n      args: ['window:resize']\n    }]\n  });\n})();\nclass NgxGanttComponent extends GanttUpper {\n  set loading(loading) {\n    if (loading) {\n      if (this.loadingDelay > 0) {\n        this.loadingTimer = setTimeout(() => {\n          this._loading = loading;\n          this.cdr.markForCheck();\n        }, this.loadingDelay);\n      } else {\n        this._loading = loading;\n      }\n    } else {\n      clearTimeout(this.loadingTimer);\n      this._loading = loading;\n    }\n  }\n  get loading() {\n    return this._loading;\n  }\n  constructor(elementRef, cdr, ngZone, viewportRuler, config) {\n    super(elementRef, cdr, ngZone, config);\n    this.viewportRuler = viewportRuler;\n    this.maxLevel = 2;\n    this.virtualScrollEnabled = true;\n    this.loadingDelay = 0;\n    this.linkDragStarted = new EventEmitter();\n    this.linkDragEnded = new EventEmitter();\n    this.lineClick = new EventEmitter();\n    this.selectedChange = new EventEmitter();\n    this.virtualScrolledIndexChange = new EventEmitter();\n    this.flatItems = [];\n    this.viewportItems = [];\n    this._loading = false;\n    this.rangeStart = 0;\n    this.rangeEnd = 0;\n    this.computeAllRefs = false;\n  }\n  ngOnInit() {\n    super.ngOnInit();\n    this.buildFlatItems();\n    // Note: the zone may be nooped through `BootstrapOptions` when bootstrapping the root module. This means\n    // the `onStable` will never emit any value.\n    const onStable$ = this.ngZone.isStable ? from(Promise.resolve()) : this.ngZone.onStable.pipe(take(1));\n    // Normally this isn't in the zone, but it can cause performance regressions for apps\n    // using `zone-patch-rxjs` because it'll trigger a change detection when it unsubscribes.\n    this.ngZone.runOutsideAngular(() => {\n      onStable$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n        this.dragContainer.linkDragStarted.pipe(takeUntil(this.unsubscribe$)).subscribe(event => {\n          this.linkDragStarted.emit(event);\n        });\n        this.dragContainer.linkDragEnded.pipe(takeUntil(this.unsubscribe$)).subscribe(event => {\n          this.linkDragEnded.emit(event);\n        });\n      });\n    });\n    this.view.start$.pipe(skip(1), takeUntil(this.unsubscribe$)).subscribe(() => {\n      this.computeTempDataRefs();\n    });\n    if (!this.virtualScrollEnabled) {\n      this.viewportItems = this.flatItems.slice(this.rangeStart, this.rangeEnd);\n      this.computeTempDataRefs();\n    }\n  }\n  ngOnChanges(changes) {\n    super.ngOnChanges(changes);\n    if (!this.firstChange) {\n      if (changes.viewType && changes.viewType.currentValue) {\n        this.viewportItems = this.flatItems.slice(this.rangeStart, this.rangeEnd);\n        this.computeTempDataRefs();\n      }\n      if (changes.originItems || changes.originGroups) {\n        this.buildFlatItems();\n        this.viewportItems = this.flatItems.slice(this.rangeStart, this.rangeEnd);\n        this.computeTempDataRefs();\n      }\n    }\n  }\n  ngAfterViewInit() {\n    if (this.virtualScrollEnabled) {\n      this.virtualScroll.renderedRangeStream.pipe(takeUntil(this.unsubscribe$)).subscribe(range => {\n        const linksElement = this.elementRef.nativeElement.querySelector('.gantt-links-overlay');\n        linksElement.style.top = `${-(this.styles.lineHeight * range.start)}px`;\n        this.rangeStart = range.start;\n        this.rangeEnd = range.end;\n        this.viewportItems = this.flatItems.slice(range.start, range.end);\n        this.computeTempDataRefs();\n      });\n    }\n  }\n  ngAfterViewChecked() {\n    if (this.virtualScrollEnabled && this.viewportRuler && this.virtualScroll.getRenderedRange().end > 0) {\n      const onStable$ = this.ngZone.isStable ? from(Promise.resolve()) : this.ngZone.onStable.pipe(take(1));\n      this.ngZone.runOutsideAngular(() => {\n        onStable$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n          if (!this.ganttRoot.verticalScrollbarWidth) {\n            this.ganttRoot.computeScrollBarOffset();\n            this.cdr.markForCheck();\n          }\n        });\n      });\n    }\n  }\n  buildFlatItems() {\n    const virtualData = [];\n    if (this.groups.length) {\n      this.groups.forEach(group => {\n        virtualData.push(group);\n        if (group.expanded) {\n          const items = recursiveItems(group.items);\n          virtualData.push(...items);\n        }\n      });\n    }\n    if (this.items.length) {\n      virtualData.push(...recursiveItems(this.items));\n    }\n    this.flatItems = [...virtualData];\n    this.flatItemsMap = keyBy(this.flatItems, 'id');\n    if (!this.virtualScrollEnabled) {\n      this.rangeStart = 0;\n      this.rangeEnd = this.flatItems.length;\n    }\n  }\n  afterExpand() {\n    this.buildFlatItems();\n    this.viewportItems = this.flatItems.slice(this.rangeStart, this.rangeEnd);\n  }\n  computeTempDataRefs() {\n    const tempItemData = [];\n    this.viewportItems.forEach(data => {\n      if (!data.hasOwnProperty('items')) {\n        const item = data;\n        if (item.links) {\n          item.links.forEach(link => {\n            if (this.flatItemsMap[link.link]) {\n              tempItemData.push(this.flatItemsMap[link.link]);\n            }\n          });\n        }\n        tempItemData.push(data);\n      }\n    });\n    this.computeItemsRefs(...uniqBy(tempItemData, 'id'));\n    this.flatItems = [...this.flatItems];\n    this.viewportItems = [...this.viewportItems];\n  }\n  expandChildren(item) {\n    if (!item.expanded) {\n      item.setExpand(true);\n      if (this.async && this.childrenResolve && item.children.length === 0) {\n        item.loading = true;\n        this.childrenResolve(item.origin).pipe(take(1), finalize(() => {\n          item.loading = false;\n          this.afterExpand();\n          this.expandChange.emit(item);\n          this.cdr.detectChanges();\n        })).subscribe(items => {\n          item.addChildren(items);\n          this.computeItemsRefs(...item.children);\n        });\n      } else {\n        this.computeItemsRefs(...item.children);\n        this.afterExpand();\n        this.expandChange.emit(item);\n      }\n    } else {\n      item.setExpand(false);\n      this.afterExpand();\n      this.expandChange.emit(item);\n    }\n  }\n  selectItem(selectEvent) {\n    if (!this.selectable) {\n      return;\n    }\n    const {\n      event,\n      selectedValue\n    } = selectEvent;\n    this.selectionModel.toggle(selectedValue.id);\n    const selectedIds = this.selectionModel.selected;\n    if (this.multiple) {\n      const _selectedValue = this.getGanttItems(selectedIds).map(item => item.origin);\n      this.selectedChange.emit({\n        event,\n        selectedValue: _selectedValue\n      });\n    } else {\n      const _selectedValue = this.getGanttItem(selectedIds[0])?.origin;\n      this.selectedChange.emit({\n        event,\n        selectedValue: _selectedValue\n      });\n    }\n  }\n  scrollToToday() {\n    this.ganttRoot.scrollToToday();\n  }\n  scrollToDate(date) {\n    this.ganttRoot.scrollToDate(date);\n  }\n  scrolledIndexChange(index) {\n    this.virtualScrolledIndexChange.emit({\n      index,\n      renderedRange: {\n        start: this.rangeStart,\n        end: this.rangeEnd\n      },\n      count: this.flatItems.length\n    });\n  }\n  expandGroups(expanded) {\n    this.groups.forEach(group => {\n      group.setExpand(expanded);\n    });\n    this.afterExpand();\n    this.expandChange.next(null);\n    this.cdr.detectChanges();\n  }\n  expandGroup(group) {\n    group.setExpand(!group.expanded);\n    this.afterExpand();\n    this.expandChange.emit();\n    this.cdr.detectChanges();\n  }\n  static #_ = this.ɵfac = function NgxGanttComponent_Factory(t) {\n    return new (t || NgxGanttComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.NgZone), i0.ɵɵdirectiveInject(i1$1.ViewportRuler), i0.ɵɵdirectiveInject(GANTT_GLOBAL_CONFIG));\n  };\n  static #_2 = this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NgxGanttComponent,\n    selectors: [[\"ngx-gantt\"]],\n    contentQueries: function NgxGanttComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, NgxGanttTableComponent, 5);\n        i0.ɵɵcontentQuery(dirIndex, _c11, 7);\n        i0.ɵɵcontentQuery(dirIndex, _c24, 7);\n        i0.ɵɵcontentQuery(dirIndex, NgxGanttTableColumnComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tableEmptyTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.footerTemplate = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.columns = _t);\n      }\n    },\n    viewQuery: function NgxGanttComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c25, 5);\n        i0.ɵɵviewQuery(CdkVirtualScrollViewport, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.ganttRoot = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.virtualScroll = _t.first);\n      }\n    },\n    inputs: {\n      maxLevel: \"maxLevel\",\n      async: \"async\",\n      childrenResolve: \"childrenResolve\",\n      linkable: \"linkable\",\n      loading: \"loading\",\n      virtualScrollEnabled: \"virtualScrollEnabled\",\n      loadingDelay: \"loadingDelay\"\n    },\n    outputs: {\n      linkDragStarted: \"linkDragStarted\",\n      linkDragEnded: \"linkDragEnded\",\n      lineClick: \"lineClick\",\n      selectedChange: \"selectedChange\",\n      virtualScrolledIndexChange: \"virtualScrolledIndexChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: GANTT_UPPER_TOKEN,\n      useExisting: NgxGanttComponent\n    }, {\n      provide: GANTT_ABSTRACT_TOKEN,\n      useExisting: forwardRef(() => NgxGanttComponent)\n    }]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature],\n    decls: 26,\n    vars: 56,\n    consts: [[\"ganttRoot\", \"\"], [1, \"gantt-header\"], [3, \"columns\"], [\"tableHeader\", \"\"], [1, \"gantt-container-header\"], [4, \"ngIf\"], [1, \"gantt-virtual-scroll-viewport\", 3, \"ngClass\", \"itemSize\", \"minBufferPx\", \"maxBufferPx\", \"scrolledIndexChange\"], [4, \"cdkVirtualFor\", \"cdkVirtualForOf\", \"cdkVirtualForTrackBy\"], [1, \"gantt-side\"], [1, \"gantt-side-container\"], [1, \"gantt-table\"], [3, \"flatItems\", \"viewportItems\", \"columns\", \"groupTemplate\", \"emptyTemplate\", \"rowBeforeTemplate\", \"rowAfterTemplate\", \"draggable\", \"dropEnterPredicate\", \"dragDropped\", \"dragStarted\", \"dragEnded\", \"itemClick\"], [1, \"gantt-container\"], [1, \"gantt-main\"], [3, \"flatItems\", \"viewportItems\", \"groupHeaderTemplate\", \"itemTemplate\", \"barTemplate\", \"rangeTemplate\", \"baselineTemplate\", \"barClick\", \"lineClick\"], [1, \"gantt-scrollbar\"], [1, \"gantt-table-scrollbar\"], [1, \"gantt-main-scrollbar\"], [1, \"h-100\"], [1, \"gantt-footer\"], [\"class\", \"gantt-table-footer\", 3, \"width\", 4, \"ngIf\"], [\"class\", \"gantt-container-footer\", 4, \"ngIf\"], [1, \"gantt-table-footer\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"gantt-container-footer\"], [3, \"ngTemplateOutlet\"]],\n    template: function NgxGanttComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ngx-gantt-root\", null, 0)(2, \"div\", 1);\n        i0.ɵɵelement(3, \"gantt-table-header\", 2, 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelement(6, \"gantt-calendar-header\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(7, NgxGanttComponent_gantt_loader_7_Template, 1, 0, \"gantt-loader\", 5);\n        i0.ɵɵelementStart(8, \"cdk-virtual-scroll-viewport\", 6);\n        i0.ɵɵlistener(\"scrolledIndexChange\", function NgxGanttComponent_Template_cdk_virtual_scroll_viewport_scrolledIndexChange_8_listener($event) {\n          return ctx.scrolledIndexChange($event);\n        });\n        i0.ɵɵtemplate(9, NgxGanttComponent_ng_container_9_Template, 1, 0, \"ng-container\", 7);\n        i0.ɵɵelementStart(10, \"div\", 8)(11, \"div\", 9)(12, \"div\", 10)(13, \"gantt-table-body\", 11);\n        i0.ɵɵlistener(\"dragDropped\", function NgxGanttComponent_Template_gantt_table_body_dragDropped_13_listener($event) {\n          return ctx.table.dragDropped.emit($event);\n        })(\"dragStarted\", function NgxGanttComponent_Template_gantt_table_body_dragStarted_13_listener($event) {\n          return ctx.table.dragStarted.emit($event);\n        })(\"dragEnded\", function NgxGanttComponent_Template_gantt_table_body_dragEnded_13_listener($event) {\n          return ctx.table.dragEnded.emit($event);\n        })(\"itemClick\", function NgxGanttComponent_Template_gantt_table_body_itemClick_13_listener($event) {\n          return ctx.selectItem($event);\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(14, \"div\", 12);\n        i0.ɵɵelement(15, \"gantt-calendar-grid\");\n        i0.ɵɵelementStart(16, \"div\", 13)(17, \"gantt-main\", 14);\n        i0.ɵɵlistener(\"barClick\", function NgxGanttComponent_Template_gantt_main_barClick_17_listener($event) {\n          return ctx.barClick.emit($event);\n        })(\"lineClick\", function NgxGanttComponent_Template_gantt_main_lineClick_17_listener($event) {\n          return ctx.lineClick.emit($event);\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(18, \"gantt-drag-backdrop\");\n        i0.ɵɵelementStart(19, \"div\", 15);\n        i0.ɵɵelement(20, \"div\", 16);\n        i0.ɵɵelementStart(21, \"div\", 17);\n        i0.ɵɵelement(22, \"div\", 18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"div\", 19);\n        i0.ɵɵtemplate(24, NgxGanttComponent_div_24_Template, 2, 6, \"div\", 20);\n        i0.ɵɵtemplate(25, NgxGanttComponent_div_25_Template, 2, 1, \"div\", 21);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(1);\n        const _r1 = i0.ɵɵreference(4);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"columns\", ctx.columns);\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleProp(\"padding-right\", _r0.verticalScrollbarWidth, \"px\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(52, _c27, !ctx.virtualScrollEnabled, ctx.virtualScrollEnabled, (ctx.table == null ? null : ctx.table.tableFooterTemplate) || ctx.footerTemplate))(\"itemSize\", ctx.styles.lineHeight)(\"minBufferPx\", ctx.styles.lineHeight * 10)(\"maxBufferPx\", ctx.styles.lineHeight * 20);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"cdkVirtualForOf\", ctx.flatItems)(\"cdkVirtualForTrackBy\", ctx.trackBy);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"width\", _r1.tableWidth + 1, \"px\")(\"padding-bottom\", _r0.horizontalScrollbarHeight, \"px\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"flatItems\", ctx.flatItems)(\"viewportItems\", ctx.viewportItems)(\"columns\", ctx.columns)(\"groupTemplate\", ctx.groupTemplate)(\"emptyTemplate\", ctx.table.tableEmptyTemplate || ctx.tableEmptyTemplate)(\"rowBeforeTemplate\", ctx.table == null ? null : ctx.table.rowBeforeTemplate)(\"rowAfterTemplate\", ctx.table == null ? null : ctx.table.rowAfterTemplate)(\"draggable\", ctx.table.draggable)(\"dropEnterPredicate\", ctx.table.dropEnterPredicate);\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"padding-right\", _r0.verticalScrollbarWidth, \"px\")(\"padding-bottom\", _r0.horizontalScrollbarHeight, \"px\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"flatItems\", ctx.flatItems)(\"viewportItems\", ctx.viewportItems)(\"groupHeaderTemplate\", ctx.groupHeaderTemplate)(\"itemTemplate\", ctx.itemTemplate)(\"barTemplate\", ctx.barTemplate)(\"rangeTemplate\", ctx.rangeTemplate)(\"baselineTemplate\", ctx.baselineTemplate);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"left\", _r1.tableWidth + 1, \"px\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"height\", _r0.horizontalScrollbarHeight + 1, \"px\")(\"right\", _r0.verticalScrollbarWidth, \"px\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"width\", _r1.tableWidth, \"px\");\n        i0.ɵɵclassProp(\"with-scrollbar\", _r0.horizontalScrollbarHeight);\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"width\", ctx.view.width, \"px\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"right\", _r0.verticalScrollbarWidth, \"px\")(\"bottom\", _r0.horizontalScrollbarHeight, \"px\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.table == null ? null : ctx.table.tableFooterTemplate);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.footerTemplate);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgIf, i1.NgTemplateOutlet, i1$1.CdkFixedSizeVirtualScroll, i1$1.CdkVirtualForOf, i1$1.CdkVirtualScrollViewport, GanttTableHeaderComponent, GanttTableBodyComponent, GanttMainComponent, GanttCalendarHeaderComponent, GanttCalendarGridComponent, GanttLoaderComponent, GanttDragBackdropComponent, NgxGanttRootComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxGanttComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-gantt',\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [{\n        provide: GANTT_UPPER_TOKEN,\n        useExisting: NgxGanttComponent\n      }, {\n        provide: GANTT_ABSTRACT_TOKEN,\n        useExisting: forwardRef(() => NgxGanttComponent)\n      }],\n      template: \"<ngx-gantt-root #ganttRoot>\\n  <div class=\\\"gantt-header\\\">\\n    <gantt-table-header #tableHeader [columns]=\\\"columns\\\"></gantt-table-header>\\n    <div class=\\\"gantt-container-header\\\">\\n      <gantt-calendar-header [style.padding-right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\"></gantt-calendar-header>\\n    </div>\\n  </div>\\n  <gantt-loader *ngIf=\\\"loading\\\"></gantt-loader>\\n\\n  <cdk-virtual-scroll-viewport\\n    class=\\\"gantt-virtual-scroll-viewport\\\"\\n    [ngClass]=\\\"{\\n      'gantt-normal-viewport': !virtualScrollEnabled,\\n      'gantt-scroll-container': virtualScrollEnabled,\\n      'with-footer': table?.tableFooterTemplate || footerTemplate\\n    }\\\"\\n    [itemSize]=\\\"styles.lineHeight\\\"\\n    [minBufferPx]=\\\"styles.lineHeight * 10\\\"\\n    [maxBufferPx]=\\\"styles.lineHeight * 20\\\"\\n    (scrolledIndexChange)=\\\"scrolledIndexChange($event)\\\"\\n  >\\n    <ng-container *cdkVirtualFor=\\\"let item of flatItems; trackBy: trackBy\\\"></ng-container>\\n    <div class=\\\"gantt-side\\\" [style.width.px]=\\\"tableHeader.tableWidth + 1\\\" [style.padding-bottom.px]=\\\"ganttRoot.horizontalScrollbarHeight\\\">\\n      <div class=\\\"gantt-side-container\\\">\\n        <div class=\\\"gantt-table\\\">\\n          <gantt-table-body\\n            [flatItems]=\\\"flatItems\\\"\\n            [viewportItems]=\\\"viewportItems\\\"\\n            [columns]=\\\"columns\\\"\\n            [groupTemplate]=\\\"groupTemplate\\\"\\n            [emptyTemplate]=\\\"table.tableEmptyTemplate || tableEmptyTemplate\\\"\\n            [rowBeforeTemplate]=\\\"table?.rowBeforeTemplate\\\"\\n            [rowAfterTemplate]=\\\"table?.rowAfterTemplate\\\"\\n            [draggable]=\\\"table.draggable\\\"\\n            [dropEnterPredicate]=\\\"table.dropEnterPredicate\\\"\\n            (dragDropped)=\\\"table.dragDropped.emit($event)\\\"\\n            (dragStarted)=\\\"table.dragStarted.emit($event)\\\"\\n            (dragEnded)=\\\"table.dragEnded.emit($event)\\\"\\n            (itemClick)=\\\"selectItem($event)\\\"\\n          >\\n          </gantt-table-body>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"gantt-container\\\">\\n      <gantt-calendar-grid\\n        [style.padding-right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\"\\n        [style.padding-bottom.px]=\\\"ganttRoot.horizontalScrollbarHeight\\\"\\n      ></gantt-calendar-grid>\\n      <div class=\\\"gantt-main\\\">\\n        <gantt-main\\n          [flatItems]=\\\"flatItems\\\"\\n          [viewportItems]=\\\"viewportItems\\\"\\n          [groupHeaderTemplate]=\\\"groupHeaderTemplate\\\"\\n          [itemTemplate]=\\\"itemTemplate\\\"\\n          [barTemplate]=\\\"barTemplate\\\"\\n          [rangeTemplate]=\\\"rangeTemplate\\\"\\n          [baselineTemplate]=\\\"baselineTemplate\\\"\\n          (barClick)=\\\"barClick.emit($event)\\\"\\n          (lineClick)=\\\"lineClick.emit($event)\\\"\\n        >\\n        </gantt-main>\\n      </div>\\n    </div>\\n  </cdk-virtual-scroll-viewport>\\n\\n  <gantt-drag-backdrop [style.left.px]=\\\"tableHeader.tableWidth + 1\\\"></gantt-drag-backdrop>\\n\\n  <div\\n    class=\\\"gantt-scrollbar\\\"\\n    [style.height.px]=\\\"ganttRoot.horizontalScrollbarHeight + 1\\\"\\n    [style.right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\"\\n  >\\n    <div\\n      [style.width.px]=\\\"tableHeader.tableWidth\\\"\\n      class=\\\"gantt-table-scrollbar\\\"\\n      [class.with-scrollbar]=\\\"ganttRoot.horizontalScrollbarHeight\\\"\\n    ></div>\\n    <div class=\\\"gantt-main-scrollbar\\\">\\n      <div class=\\\"h-100\\\" [style.width.px]=\\\"view.width\\\"></div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gantt-footer\\\" [style.right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\" [style.bottom.px]=\\\"ganttRoot.horizontalScrollbarHeight\\\">\\n    <div class=\\\"gantt-table-footer\\\" [style.width.px]=\\\"tableHeader.tableWidth + 1\\\" *ngIf=\\\"table?.tableFooterTemplate\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"table?.tableFooterTemplate\\\" [ngTemplateOutletContext]=\\\"{ columns: columns }\\\"> </ng-template>\\n    </div>\\n    <div class=\\\"gantt-container-footer\\\" *ngIf=\\\"footerTemplate\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"footerTemplate\\\"> </ng-template>\\n    </div>\\n  </div>\\n</ngx-gantt-root>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.NgZone\n    }, {\n      type: i1$1.ViewportRuler\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [GANTT_GLOBAL_CONFIG]\n      }]\n    }];\n  }, {\n    maxLevel: [{\n      type: Input\n    }],\n    async: [{\n      type: Input\n    }],\n    childrenResolve: [{\n      type: Input\n    }],\n    linkable: [{\n      type: Input\n    }],\n    loading: [{\n      type: Input\n    }],\n    virtualScrollEnabled: [{\n      type: Input\n    }],\n    loadingDelay: [{\n      type: Input\n    }],\n    linkDragStarted: [{\n      type: Output\n    }],\n    linkDragEnded: [{\n      type: Output\n    }],\n    lineClick: [{\n      type: Output\n    }],\n    selectedChange: [{\n      type: Output\n    }],\n    virtualScrolledIndexChange: [{\n      type: Output\n    }],\n    table: [{\n      type: ContentChild,\n      args: [NgxGanttTableComponent]\n    }],\n    columns: [{\n      type: ContentChildren,\n      args: [NgxGanttTableColumnComponent, {\n        descendants: true\n      }]\n    }],\n    tableEmptyTemplate: [{\n      type: ContentChild,\n      args: ['tableEmpty', {\n        static: true\n      }]\n    }],\n    ganttRoot: [{\n      type: ViewChild,\n      args: ['ganttRoot']\n    }],\n    footerTemplate: [{\n      type: ContentChild,\n      args: ['footer', {\n        static: true\n      }]\n    }],\n    virtualScroll: [{\n      type: ViewChild,\n      args: [CdkVirtualScrollViewport]\n    }]\n  });\n})();\nclass NgxGanttModule {\n  static #_ = this.ɵfac = function NgxGanttModule_Factory(t) {\n    return new (t || NgxGanttModule)();\n  };\n  static #_2 = this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: NgxGanttModule\n  });\n  static #_3 = this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [CdkVirtualScrollViewport, {\n      provide: GANTT_GLOBAL_CONFIG,\n      useValue: defaultConfig\n    }],\n    imports: [CommonModule, DragDropModule, ScrollingModule]\n  });\n}\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxGanttModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, DragDropModule, ScrollingModule],\n      exports: [NgxGanttComponent, NgxGanttTableComponent, NgxGanttTableColumnComponent, NgxGanttRootComponent, NgxGanttBarComponent, NgxGanttRangeComponent, NgxGanttBaselineComponent, NgxGanttToolbarComponent, GanttCalendarHeaderComponent, GanttCalendarGridComponent, GanttDragBackdropComponent],\n      declarations: [NgxGanttComponent, NgxGanttTableComponent, NgxGanttTableColumnComponent, GanttTableHeaderComponent, GanttTableBodyComponent, GanttMainComponent, GanttCalendarHeaderComponent, GanttCalendarGridComponent, GanttLinksComponent, GanttLoaderComponent, NgxGanttBarComponent, GanttIconComponent, GanttDragBackdropComponent, NgxGanttRangeComponent, NgxGanttRootComponent, NgxGanttBaselineComponent, NgxGanttToolbarComponent, IsGanttRangeItemPipe, IsGanttBarItemPipe, IsGanttCustomItemPipe],\n      providers: [CdkVirtualScrollViewport, {\n        provide: GANTT_GLOBAL_CONFIG,\n        useValue: defaultConfig\n      }]\n    }]\n  }], null, null);\n})();\n\n/*\n * Public API Surface of gantt\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { GANTT_GLOBAL_CONFIG, GANTT_UPPER_TOKEN, GanttBarClickEvent, GanttBaselineItemInternal, GanttCalendarGridComponent, GanttCalendarHeaderComponent, GanttDate, GanttDatePoint, GanttDragBackdropComponent, GanttDragEvent, GanttGroupInternal, GanttItemInternal, GanttItemType, GanttItemUpper, GanttLineClickEvent, GanttLinkDragEvent, GanttLinkLineType, GanttLinkType, GanttLoadOnScrollEvent, GanttLoaderComponent, GanttPrintService, GanttSelectedEvent, GanttTableDragDroppedEvent, GanttTableDragEndedEvent, GanttTableDragEnterPredicateContext, GanttTableDragStartedEvent, GanttTableEvent, GanttUpper, GanttView, GanttViewType, GanttVirtualScrolledIndexChangeEvent, IsGanttBarItemPipe, IsGanttCustomItemPipe, IsGanttRangeItemPipe, LinkColors, NgxGanttBarComponent, NgxGanttBaselineComponent, NgxGanttComponent, NgxGanttModule, NgxGanttRangeComponent, NgxGanttRootComponent, NgxGanttTableColumnComponent, NgxGanttTableComponent, NgxGanttToolbarComponent, defaultConfig, ganttViews, primaryDatePointTop, registerView, secondaryDatePointTop };","map":{"version":3,"names":["i0","InjectionToken","EventEmitter","Directive","Inject","Input","Output","ContentChild","HostBinding","Component","ViewChild","Pipe","ViewChildren","Injectable","PLATFORM_ID","ElementRef","Optional","HostListener","forwardRef","ChangeDetectionStrategy","ContentChildren","NgModule","i1","DOCUMENT","isPlatformServer","CommonModule","take","takeUntil","skip","switchMap","debounceTime","map","pairwise","auditTime","auditTime$1","startWith","startWith$1","finalize","BehaviorSubject","Subject","from","takeUntil$1","filter","merge","EMPTY","fromEvent","Observable","interval","animationFrameScheduler","fromUnixTime","getWeek","getDaysInMonth","differenceInCalendarDays","setDate","addSeconds","addMinutes","addHours","addDays","addWeeks","addMonths","addQuarters","addYears","startOfDay","startOfWeek","startOfMonth","startOfQuarter","startOfYear","endOfDay","endOfWeek","endOfMonth","endOfQuarter","endOfYear","getUnixTime","format","isWeekend","isToday","differenceInDays","differenceInCalendarQuarters","eachMonthOfInterval","eachYearOfInterval","eachWeekOfInterval","eachDayOfInterval","differenceInCalendarYears","SelectionModel","coerceBooleanProperty","coerceCssPixelValue","i1$1","CdkVirtualScrollViewport","ScrollingModule","i2","CdkDrag","DragDropModule","__decorate","__param","_c0","_c1","_c2","_c3","_c4","_c5","_c6","_c7","_c8","_c9","_c10","_c11","_c12","_c13","GanttTableHeaderComponent_div_1_ng_container_1_Template","rf","ctx","ɵɵelementContainer","column_r2","ɵɵnextContext","$implicit","ɵɵproperty","headerTemplateRef","GanttTableHeaderComponent_div_1_ng_template_2_Template","ɵɵtext","ɵɵtextInterpolate1","name","GanttTableHeaderComponent_div_1_Template","_r10","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtemplate","ɵɵtemplateRefExtractor","ɵɵlistener","GanttTableHeaderComponent_div_1_Template_div_cdkDragMoved_4_listener","$event","restoredCtx","ɵɵrestoreView","ctx_r9","ɵɵresetView","onResizeMoved","GanttTableHeaderComponent_div_1_Template_div_cdkDragStarted_4_listener","ctx_r11","onResizeStarted","GanttTableHeaderComponent_div_1_Template_div_cdkDragEnded_4_listener","ctx_r12","onResizeEnded","ɵɵelementEnd","_r5","ɵɵreference","ɵɵstyleProp","columnWidth","ɵɵadvance","GanttTableBodyComponent_ng_container_1_ng_container_1_Template","ɵɵelementContainerStart","ɵɵelement","ɵɵelementContainerEnd","GanttTableBodyComponent_ng_container_1_ng_template_2_Template","GanttTableBodyComponent_ng_container_1_Template","ctx_r0","emptyTemplate","GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_ng_container_3_ng_template_1_Template","_c14","a0","a1","group","GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_ng_container_3_Template","item_r5","ctx_r8","groupTemplate","ɵɵpureFunction2","origin","GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_ng_template_4_Template","ɵɵtextInterpolate","title","GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_Template","_r16","GanttTableBodyComponent_ng_container_2_ng_container_1_div_1_Template_div_click_1_listener","ctx_r14","expandGroup","_r9","ctx_r6","class","ɵɵclassProp","expanded","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_ng_template_2_Template","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_gantt_icon_1_Template","ctx_r23","draggable","itemDraggable","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_gantt_icon_1_Template","_r32","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_gantt_icon_1_Template_gantt_icon_click_0_listener","ctx_r30","expandChildren","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_gantt_icon_2_Template","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_ng_container_1_Template","loading","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_div_2_Template","ctx_r24","level","gantt","maxLevel","async","expandable","children","length","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_ng_template_4_Template","_c15","item","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_div_3_Template","column_r21","first_r22","first","ctx_r19","classList","showExpandIcon","hasExpandIcon","templateRef","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_ng_template_4_Template","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template","_r39","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template_div_click_0_listener","ctx_r37","itemClick","emit","event","selectedValue","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template_div_cdkDragStarted_0_listener","ctx_r40","onItemDragStarted","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template_div_cdkDragEnded_0_listener","ctx_r41","onItemDragEnded","GanttTableBodyComponent_ng_container_2_ng_container_1_div_2_Template_div_cdkDragMoved_0_listener","ctx_r42","emitItemDragMoved","ɵɵpipe","ctx_r7","styles","lineHeight","hasGroup","ɵɵpipeBind1","type","ganttUpper","isSelected","id","rowBeforeTemplate","columns","rowAfterTemplate","GanttTableBodyComponent_ng_container_2_ng_container_1_Template","items","GanttTableBodyComponent_ng_container_2_Template","ctx_r1","viewportItems","trackBy","GanttLinksComponent__svg_ng_container_1__svg_defs_4__svg_marker_1_Template","ɵɵnamespaceSVG","i_r2","index","link_r1","ɵɵattribute","color","GanttLinksComponent__svg_ng_container_1__svg_defs_4__svg_ng_template_2_Template","GanttLinksComponent__svg_ng_container_1__svg_defs_4_Template","ctx_r3","ganttLinkTypes","sf","GanttLinksComponent__svg_ng_container_1_Template","_r11","GanttLinksComponent__svg_ng_container_1_Template__svg_path_click_3_listener","ctx_r10","onLineClick","GanttLinksComponent__svg_ng_container_1_Template__svg_path_mouseenter_3_listener","mouseEnterPath","GanttLinksComponent__svg_ng_container_1_Template__svg_path_mouseleave_3_listener","ctx_r13","mouseLeavePath","path","ɵɵsanitizeStyle","showArrow","_c16","_c17","NgxGanttBarComponent_ng_container_2_Template","NgxGanttBarComponent_div_3_Template","NgxGanttBarComponent_div_7_Template","progress","NgxGanttBarComponent_ng_template_8_Template","_c18","refs","NgxGanttRangeComponent_ng_container_0_div_2_Template","NgxGanttRangeComponent_ng_container_0_ng_template_5_Template","NgxGanttRangeComponent_ng_container_0_Template","template","NgxGanttBaselineComponent_div_0_ng_template_2_Template","NgxGanttBaselineComponent_div_0_Template","baselineItem","GanttMainComponent_ng_container_2_div_1_ng_template_1_Template","_c19","GanttMainComponent_ng_container_2_div_1_Template","data_r1","ctx_r2","groupHeaderTemplate","ɵɵpureFunction1","GanttMainComponent_ng_container_2_div_2_ng_container_1_ng_template_1_Template","_c20","a2","a3","baseline","baselineRefs","GanttMainComponent_ng_container_2_div_2_ng_container_1_Template","itemTemplate","ɵɵpureFunction4","baselineItemsMap","GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_range_1_Template","rangeTemplate","GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_bar_3_Template","_r15","GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_bar_3_Template_gantt_bar_barClick_0_listener","barClick","barTemplate","GanttMainComponent_ng_container_2_div_2_ng_container_3_gantt_baseline_5_Template","baselineTemplate","GanttMainComponent_ng_container_2_div_2_ng_container_3_Template","GanttMainComponent_ng_container_2_div_2_Template","GanttMainComponent_ng_container_2_Template","GanttCalendarHeaderComponent__svg_text_4_Template","point_r3","additions","style","x","y","text","GanttCalendarHeaderComponent__svg_ng_container_5_Template","point_r4","GanttCalendarHeaderComponent__svg_line_7_Template","i_r6","view","primaryWidth","headerHeight","GanttCalendarGridComponent_span_1_Template","GanttCalendarGridComponent__svg_g_4__svg_line_1_Template","i_r5","cellWidth","mainHeight","GanttCalendarGridComponent__svg_g_4_Template","secondaryDatePoints","GanttCalendarGridComponent__svg_line_6_Template","i_r7","NgxGanttToolbarComponent_ng_container_1_div_1_ng_container_1_div_1_Template","_r8","NgxGanttToolbarComponent_ng_container_1_div_1_ng_container_1_div_1_Template_div_click_0_listener","view_r4","selectView","ctx_r5","viewType","ganttViewsMap","NgxGanttToolbarComponent_ng_container_1_div_1_ng_container_1_Template","NgxGanttToolbarComponent_ng_container_1_div_1_Template","toolbarOptions","viewTypes","NgxGanttToolbarComponent_ng_container_1_Template","NgxGanttToolbarComponent_ng_template_2_Template","_c21","_c22","NgxGanttRootComponent_div_0_ng_template_2_Template","NgxGanttRootComponent_div_0_Template","sideWidth","horizontalScrollbarHeight","sideTemplate","NgxGanttRootComponent_div_1_ng_template_5_Template","NgxGanttRootComponent_div_1_Template","verticalScrollbarWidth","mainTemplate","NgxGanttRootComponent_gantt_toolbar_3_Template","toolbarTemplate","_c23","_c24","_c25","NgxGanttComponent_gantt_loader_7_Template","NgxGanttComponent_ng_container_9_Template","NgxGanttComponent_div_24_ng_template_1_Template","_c26","NgxGanttComponent_div_24_Template","ctx_r4","_r1","tableWidth","table","tableFooterTemplate","NgxGanttComponent_div_25_ng_template_1_Template","NgxGanttComponent_div_25_Template","footerTemplate","_c27","GanttDatePoint","constructor","start","GanttDragEvent","GanttTableEvent","GanttLinkDragEvent","GanttLoadOnScrollEvent","GanttLineClickEvent","GanttBarClickEvent","GanttSelectedEvent","GanttTableDragDroppedEvent","GanttTableDragStartedEvent","GanttTableDragEndedEvent","GanttTableDragEnterPredicateContext","GanttVirtualScrolledIndexChangeEvent","GanttDate","date","Date","value","toString","Error","JSON","stringify","getYear","getFullYear","getMonth","getDay","getTime","getDate","getHours","getMinutes","getSeconds","getMilliseconds","options","weekStartsOn","getDaysInQuarter","getDaysInYear","dayOfMonth","clone","add","amount","unit","mat","GanttLinkType","GanttLinkLineType","LinkColors","GanttItemType","GanttItemInternal","refs$","getValue","links","link","fs","barStyle","linkable","undefined","end","fillDays","subItem","bar","fillItemStartOrEnd","updateRefs","next","updateDate","updateLevel","addChildren","setExpand","addLink","GanttGroupInternal","mergedItems","GanttViewType","ganttViews","day","week","month","quarter","year","GanttBaselineItemInternal","defaultConfig","dateFormat","yearMonth","yearQuarter","linkOptions","dependencyTypes","lineType","curve","GANTT_GLOBAL_CONFIG","primaryDatePointTop","secondaryDatePointTop","viewOptions$5","min","max","GanttView","start$","end$","showTimeline","Object","assign","startDate","isCustom","startOf","endDate","endOf","initialize","getDateIntervalWidth","result","days","i","Math","abs","getDayOccupancyWidth","Number","toFixed","primaryDatePoints","getPrimaryDatePoints","getSecondaryDatePoints","width","getWidth","getCellWidth","getPrimaryWidth","addStartDate","addAmount","addUnit","addEndDate","getTodayXPoint","toady","getXPointByDate","getDateByXPoint","indexOfSecondaryDate","floor","matchDate","dayWidth","getDateRangeWidth","viewOptions$4","GanttViewMonth","quarters","points","point","push","months","viewOptions$3","GanttViewQuarter","years","viewOptions$2","GanttViewDay","showWeekBackdrop","weeks","weekStart","increaseWeek","viewOptions$1","GanttViewWeek","viewOptions","GanttViewYear","pointTop","registerView","createViewFactory","defaultStyles","barHeight","sideMiddleWidth","sideMaxWidth","sideMinWidth","barBackground","rangeHeight","todayHeight","todayWidth","todayBorderRadius","isNumber","isString","isUndefined","hexToRgb","opacity","test","parseInt","slice","uniqBy","array","key","valuesMap","forEach","_key","flatten","reduce","pre","cur","concat","Array","isArray","recursiveItems","getFlatItems","keyBy","keyValue","GanttUpper","_linkOptions","config","selectable","_selectable","selectionModel","initSelectionModel","clear","multiple","_multiple","element","elementRef","nativeElement","cdr","ngZone","originItems","originGroups","originBaselineItems","showTodayLine","showToolbar","loadOnScroll","dragStarted","dragMoved","dragEnded","viewChange","expandChange","computeAllRefs","linkDragEnded","groups","baselineItems","firstChange","unsubscribe$","ganttClass","createView","viewDate","getViewDate","setupGroups","collapsedIds","groupsMap","includes","setupItems","group_id","setupBaselineItems","setupExpandedState","flatOriginItems","newItem","find","originItem","computeRefs","groupItems","computeItemsRefs","expandGroups","detectChanges","ngOnInit","onStable$","isStable","Promise","resolve","onStable","pipe","runOutsideAngular","subscribe","disabledLoadOnScroll","dragContainer","ngOnChanges","changes","currentValue","previousValue","changeView","ngOnDestroy","complete","expandAll","collapseAll","getGanttItem","getGanttItems","ids","hasValue","rerenderView","_","ɵfac","GanttUpper_Factory","t","ɵɵdirectiveInject","ChangeDetectorRef","NgZone","_2","ɵdir","ɵɵdefineDirective","contentQueries","GanttUpper_ContentQueries","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","hostVars","hostBindings","GanttUpper_HostBindings","inputs","outputs","features","ɵɵNgOnChangesFeature","ngDevMode","ɵsetClassMetadata","decorators","args","static","GANTT_UPPER_TOKEN","NgxGanttTableColumnComponent","NgxGanttTableColumnComponent_Factory","ɵcmp","ɵɵdefineComponent","selectors","NgxGanttTableColumnComponent_ContentQueries","hostAttrs","decls","vars","NgxGanttTableColumnComponent_Template","encapsulation","selector","host","NgxGanttTableComponent","dragDropped","columnChanges","NgxGanttTableComponent_Factory","NgxGanttTableComponent_ContentQueries","tableEmptyTemplate","dropEnterPredicate","NgxGanttTableComponent_Template","GANTT_ABSTRACT_TOKEN","supports","window","CSS","setStyleWithVendorPrefix","defaultColumnWidth","minColumnWidth","GanttTableHeaderComponent","className","columnsChange","column","replace","dragFixed","movedWidth","minWidth","target","originWidth","source","dragStartLeft","getBoundingClientRect","left","showAuxiliaryLine","beforeWidth","hideAuxiliaryLine","reset","onOverallResizeEnded","dragWidth","tempWidth","lastColumnWidth","distributeWidth","String","tableRect","targetRect","distance","top","resizeLineElementRef","display","GanttTableHeaderComponent_Factory","viewQuery","GanttTableHeaderComponent_Query","ɵɵviewQuery","GanttTableHeaderComponent_HostBindings","ɵɵclassMap","consts","GanttTableHeaderComponent_Template","GanttTableHeaderComponent_Template_div_cdkDragMoved_2_listener","GanttTableHeaderComponent_Template_div_cdkDragStarted_2_listener","GanttTableHeaderComponent_Template_div_cdkDragEnded_2_listener","dependencies","NgForOf","NgIf","NgTemplateOutlet","angleRight","angleDown","plusSquare","minusSquare","loadingIcon","emptyIcon","dragIcon","icons","empty","drag","GanttIconComponent","iconName","setSvg","isIcon","iconSvg","innerHTML","GanttIconComponent_Factory","GanttIconComponent_HostBindings","GanttIconComponent_Template","IsGanttRangeItemPipe","transform","range","IsGanttRangeItemPipe_Factory","ɵpipe","ɵɵdefinePipe","pure","IsGanttBarItemPipe","IsGanttBarItemPipe_Factory","IsGanttCustomItemPipe","custom","IsGanttCustomItemPipe_Factory","GanttTableBodyComponent","data","firstData","hasOwnProperty","ganttTableEmptyClass","_viewportItems","document","ganttTableClass","ganttTableDragging","itemDragsMap","Map","itemDragMoved","destroy$","ngAfterViewInit","cdkDrags","drags","set","_dragRef","isDragging","onItemDragMoved","stopPropagation","getChildrenElementsByElement","sourceParent","getParentByItem","currentPointElement","elementFromPoint","pointerPosition","cleanupDragArtifacts","targetElement","contains","closest","itemDropTarget","get","position","getTargetPosition","targetDragRef","dropPosition","showDropPositionPlaceholder","remove","onListDropped","sourceItem","sourceChildren","getExpandChildrenByDrag","targetItem","targetParent","removeItem","insertItem","insertChildrenItem","splice","indexOf","flatItems","inserted","dragRef","childrenCount","n","childrenElements","dragElement","nextElement","getPlaceholderElement","nextElementSibling","nextDragRef","beforeOrAfterGap","height","bottom","dropped","querySelectorAll","GanttTableBodyComponent_Factory","GanttTableBodyComponent_Query","GanttTableBodyComponent_HostBindings","GanttTableBodyComponent_Template","GanttTableBodyComponent_Template_div_cdkDropListDropped_0_listener","NgClass","CdkDropList","CdkDragHandle","Document","GanttLinkLine","generatePath","before","after","ss","generateSSPath","ff","generateFFPath","generateFSAndSFPath","GanttLinkLineCurve","x1","y1","x4","y4","isMirror","radius","bezierWeight","dx","x2","x3","centerX","centerY","controlX","controlY","GanttLinkLineStraight","pathControl","control","createLineGenerator","straight","getDependencyType","pos","InBarPosition","to","finish","GanttDragContainer","linkDragStarted","linkDragEntered","linkDragPath","emitLinkDragStarted","linkDraggingId","emitLinkDragEntered","emitLinkDragLeaved","emitLinkDragEnded","dependencyType","GanttDragContainer_Factory","ɵɵinject","ɵprov","ɵɵdefineInjectable","token","factory","GanttLinksComponent","ganttDragContainer","lineClick","linkItems","ganttLinksOverlay","linkLine","buildLinks","visibility","computeItemPosition","itemIndex","ganttItem","defaultColor","default","activeColor","active","blocked","GanttLinksComponent_Factory","GanttLinksComponent_HostBindings","GanttLinksComponent_Template","supportsPassiveEvents","supportsPassiveEventListeners","addEventListener","defineProperty","normalizePassiveListenerOptions","capture","passiveListenerOptions","passive","SCROLL_PROXIMITY_THRESHOLD","getHorizontalScrollDirection","clientRect","pointerX","right","xThreshold","isPointerNearClientRect","rect","threshold","pointerY","yThreshold","getAutoScrollSpeedRates","horizontalScrollDirection","autoScrollSpeedRates","speedLevels","ceil","scrollThreshold","ScrollDirection","GanttDomService","platformId","monitorScrollChange","scrollObservers","mainContainer","sideContainer","mainFooter","mainScrollbar","syncScroll","currentTarget","scrollLeft","calendarHeader","calendarOverlay","scrollTop","disableBrowserWheelEvent","container","delta","deltaX","offsetWidth","scrollWidth","preventDefault","root","side","getElementsByClassName","verticalScrollContainer","mainItems","mainGroups","getViewerScroll","subscriber","previous","current","direction","NONE","LEFT","clientWidth","RIGHT","getResize","scrollMainContainer","GanttDomService_Factory","DROP_PROXIMITY_THRESHOLD","dragMinWidth","autoScrollBaseStep","activeClass","dropActiveClass","singleDropActiveClass","createSvgElement","qualifiedName","createElementNS","GanttBarDrag","dragDisabled","linkDragDisabled","barHandleDragMoveAndScrollDistance","barHandleDragMoveDistance","dragScrollDistance","autoScrollStep","pow","dragDrop","dom","_ngZone","dragRefs","stopScrollTimers$","barDragMoveDistance","dragScrolling","_horizontalScrollDirection","startScrollInterval","stopScrolling","node","scrollStep","scrollBy","createDragRef","createDrag","createDragScrollEvent","ended","createMouseEvents","dropClass","barElement","createBarDrag","lockAxis","withBoundaryElement","started","setDraggingStyles","containerScrollLeft","barDragMove","moved","startScrollingIfNecessary","clearDraggingStyles","closeDragBackdrop","barDragRef","createBarHandleDrags","handles","handle","isBefore","isStartGreaterThanEndWhenBarHandleDragMove","barBeforeHandleDragMove","barAfterHandleDragMove","barHandleDragMoveRecordDays","createLinkHandleDrags","isBegin","beforeStarted","pointerEvents","disabled","createLinkDraggingLine","positions","calcLinkLinePositions","linkDraggingLine","setAttribute","y2","placePointX","getRootElement","destroyLinkDraggingLine","openDragBackdrop","dragBackdropElement","querySelector","dragMaskElement","rootRect","dragRect","currentX","currentDate","currentStartX","diffDays","isStartOrEndInsideView","oneDayWidth","startOfBarHandle","endOfBarHandle","layerRect","parentElement","svgElement","linElement","appendChild","isStartGreaterThanEnd","isBarAppearsInView","xPointerByEndDate","xPointerByStartDate","itemStart","itemEnd","viewStart","viewEnd","createDrags","dragHandlesRefs","linkDragRefs","updateItem","dispose","GanttBarDrag_Factory","DragDrop","GanttItemUpper","refsUnsubscribe$","setPositions","itemChange","itemElement","GanttItemUpper_Factory","linearGradient","sideOrCorner","stop","NgxGanttBarComponent","ganttItemClass","setContentBackground","toArray","onBarClick","contentElement","contentElementRef","background","borderRadius","contentProgressElement","NgxGanttBarComponent_Factory","NgxGanttBarComponent_Query","NgxGanttBarComponent_HostBindings","ɵɵProvidersFeature","ɵɵInheritDefinitionFeature","NgxGanttBarComponent_Template","NgxGanttBarComponent_Template_div_click_5_listener","providers","NgxGanttRangeComponent","ganttRangeClass","NgxGanttRangeComponent_Factory","NgxGanttRangeComponent_HostBindings","NgxGanttRangeComponent_Template","NgxGanttBaselineComponent","ganttBaselineClass","NgxGanttBaselineComponent_Factory","NgxGanttBaselineComponent_HostBindings","NgxGanttBaselineComponent_Template","GanttMainComponent","ganttMainClass","GanttMainComponent_Factory","GanttMainComponent_HostBindings","GanttMainComponent_Template","GanttMainComponent_Template_gantt_links_overlay_lineClick_0_listener","GanttCalendarHeaderComponent","setTodayPoint","today","todayEle","GanttCalendarHeaderComponent_Factory","GanttCalendarHeaderComponent_HostBindings","GanttCalendarHeaderComponent_Template","NgStyle","GanttCalendarGridComponent","line","GanttCalendarGridComponent_Factory","GanttCalendarGridComponent_HostBindings","GanttCalendarGridComponent_Template","GanttLoaderComponent","GanttLoaderComponent_Factory","GanttLoaderComponent_Template","GanttDragBackdropComponent","GanttDragBackdropComponent_Factory","GanttDragBackdropComponent_Template","GanttPrintService","setInlineStyles","targetElem","svgElements","getElementsByTagName","recursElementChildren","transformProperties","getComputedStyle","transformProperty","child","childNodes","register","print","ignoreElementClass","_this","_asyncToGenerator","printWidth","printHeight","offsetHeight","scrollHeight","html2canvas","logging","allowTaint","useCORS","ignoreElements","onclone","cloneDocument","cloneGanttDom","cloneGanttContainerDom","cloneCalendarOverlay","cloneLinksOverlay","overflow","backgroundColor","then","canvas","createElement","dataUrl","toDataURL","download","href","click","GanttPrintService_Factory","NgxGanttToolbarComponent","NgxGanttToolbarComponent_Factory","NgxGanttToolbarComponent_HostBindings","NgxGanttToolbarComponent_Template","NgxGanttRootComponent","onWindowResize","computeScrollBarOffset","printService","setupScrollClass","setupResize","setupViewScroll","scrollToToday","ganttMainContainer","ganttVerticalScrollContainer","clientHeight","dates","observers","run","scrollToDate","NgxGanttRootComponent_Factory","NgxGanttRootComponent_ContentQueries","NgxGanttRootComponent_Query","backdrop","NgxGanttRootComponent_HostBindings","NgxGanttRootComponent_resize_HostBindingHandler","ɵɵresolveWindow","ngContentSelectors","NgxGanttRootComponent_Template","ɵɵprojectionDef","ɵɵprojection","CdkScrollable","read","NgxGanttComponent","loadingDelay","loadingTimer","setTimeout","_loading","markForCheck","clearTimeout","viewportRuler","virtualScrollEnabled","selectedChange","virtualScrolledIndexChange","rangeStart","rangeEnd","buildFlatItems","computeTempDataRefs","virtualScroll","renderedRangeStream","linksElement","ngAfterViewChecked","getRenderedRange","ganttRoot","virtualData","flatItemsMap","afterExpand","tempItemData","childrenResolve","selectItem","selectEvent","toggle","selectedIds","selected","_selectedValue","scrolledIndexChange","renderedRange","count","NgxGanttComponent_Factory","ViewportRuler","NgxGanttComponent_ContentQueries","NgxGanttComponent_Query","provide","useExisting","NgxGanttComponent_Template","NgxGanttComponent_Template_cdk_virtual_scroll_viewport_scrolledIndexChange_8_listener","NgxGanttComponent_Template_gantt_table_body_dragDropped_13_listener","NgxGanttComponent_Template_gantt_table_body_dragStarted_13_listener","NgxGanttComponent_Template_gantt_table_body_dragEnded_13_listener","NgxGanttComponent_Template_gantt_table_body_itemClick_13_listener","NgxGanttComponent_Template_gantt_main_barClick_17_listener","NgxGanttComponent_Template_gantt_main_lineClick_17_listener","_r0","ɵɵpureFunction3","CdkFixedSizeVirtualScroll","CdkVirtualForOf","changeDetection","OnPush","descendants","NgxGanttModule","NgxGanttModule_Factory","ɵmod","ɵɵdefineNgModule","_3","ɵinj","ɵɵdefineInjector","useValue","imports","exports","declarations"],"sources":["C:/Claro/chronos-angular/node_modules/@worktile/gantt/fesm2022/worktile-gantt.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { InjectionToken, EventEmitter, Directive, Inject, Input, Output, ContentChild, HostBinding, Component, ViewChild, Pipe, ViewChildren, Injectable, PLATFORM_ID, ElementRef, Optional, HostListener, forwardRef, ChangeDetectionStrategy, ContentChildren, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { DOCUMENT, isPlatformServer, CommonModule } from '@angular/common';\nimport { take, takeUntil, skip, switchMap, debounceTime, map, pairwise, auditTime as auditTime$1, startWith as startWith$1, finalize } from 'rxjs/operators';\nimport { BehaviorSubject, Subject, from, takeUntil as takeUntil$1, startWith, auditTime, filter, merge, EMPTY, fromEvent, Observable, interval, animationFrameScheduler } from 'rxjs';\nimport { fromUnixTime, getWeek, getDaysInMonth, differenceInCalendarDays, setDate, addSeconds, addMinutes, addHours, addDays, addWeeks, addMonths, addQuarters, addYears, startOfDay, startOfWeek, startOfMonth, startOfQuarter, startOfYear, endOfDay, endOfWeek, endOfMonth, endOfQuarter, endOfYear, getUnixTime, format, isWeekend, isToday, differenceInDays, differenceInCalendarQuarters, eachMonthOfInterval, eachYearOfInterval, eachWeekOfInterval, eachDayOfInterval, differenceInCalendarYears } from 'date-fns';\nexport { addDays, addHours, addMinutes, addMonths, addQuarters, addSeconds, addWeeks, addYears, differenceInCalendarDays, differenceInCalendarQuarters, differenceInDays, eachDayOfInterval, eachMonthOfInterval, eachWeekOfInterval, endOfDay, endOfMonth, endOfQuarter, endOfWeek, endOfYear, format, fromUnixTime, getDaysInMonth, getUnixTime, getWeek, isToday, isWeekend, setDate, startOfDay, startOfMonth, startOfQuarter, startOfWeek, startOfYear } from 'date-fns';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { coerceBooleanProperty, coerceCssPixelValue } from '@angular/cdk/coercion';\nimport * as i1$1 from '@angular/cdk/scrolling';\nimport { CdkVirtualScrollViewport, ScrollingModule } from '@angular/cdk/scrolling';\nimport * as i2 from '@angular/cdk/drag-drop';\nimport { CdkDrag, DragDropModule } from '@angular/cdk/drag-drop';\nimport { __decorate, __param } from 'tslib';\n\nclass GanttDatePoint {\n    constructor(start, text, x, y, additions, style) {\n        this.start = start;\n        this.text = text;\n        this.x = x;\n        this.y = y;\n        this.additions = additions;\n        this.style = style;\n    }\n}\n\nclass GanttDragEvent {\n}\nclass GanttTableEvent {\n}\nclass GanttLinkDragEvent {\n}\nclass GanttLoadOnScrollEvent {\n}\nclass GanttLineClickEvent {\n}\nclass GanttBarClickEvent {\n}\nclass GanttSelectedEvent {\n}\nclass GanttTableDragDroppedEvent {\n}\nclass GanttTableDragStartedEvent {\n}\nclass GanttTableDragEndedEvent {\n}\nclass GanttTableDragEnterPredicateContext {\n}\nclass GanttVirtualScrolledIndexChangeEvent {\n}\n\nclass GanttDate {\n    constructor(date) {\n        if (date) {\n            if (date instanceof Date) {\n                this.value = date;\n            }\n            else if (typeof date === 'string' || typeof date === 'number') {\n                if (date.toString().length < 13) {\n                    this.value = fromUnixTime(+date);\n                }\n                else {\n                    this.value = new Date(date);\n                }\n            }\n            else {\n                throw new Error(`The input date type is not supported expect Date | string\n                     | number | { date: number; with_time: 0 | 1}, actual ${JSON.stringify(date)}`);\n            }\n        }\n        else {\n            this.value = new Date();\n        }\n    }\n    getYear() {\n        return this.value.getFullYear();\n    }\n    getMonth() {\n        return this.value.getMonth();\n    }\n    getDay() {\n        return this.value.getDay();\n    }\n    getTime() {\n        return this.value.getTime();\n    }\n    getDate() {\n        return this.value.getDate();\n    }\n    getHours() {\n        return this.value.getHours();\n    }\n    getMinutes() {\n        return this.value.getMinutes();\n    }\n    getSeconds() {\n        return this.value.getSeconds();\n    }\n    getMilliseconds() {\n        return this.value.getMilliseconds();\n    }\n    getWeek(options = { weekStartsOn: 1 }) {\n        return getWeek(this.value, options);\n    }\n    getDaysInMonth() {\n        return getDaysInMonth(this.value);\n    }\n    getDaysInQuarter() {\n        return differenceInCalendarDays(this.endOfQuarter().addSeconds(1).value, this.startOfQuarter().value);\n    }\n    getDaysInYear() {\n        return differenceInCalendarDays(this.endOfYear().addSeconds(1).value, this.startOfYear().value);\n    }\n    setDate(dayOfMonth) {\n        return new GanttDate(setDate(this.value, dayOfMonth));\n    }\n    clone() {\n        return new GanttDate(new Date(this.value));\n    }\n    add(amount, unit) {\n        switch (unit) {\n            case 'second':\n                return new GanttDate(this.value).addSeconds(amount);\n            case 'minute':\n                return new GanttDate(this.value).addMinutes(amount);\n            case 'hour':\n                return new GanttDate(this.value).addHours(amount);\n            case 'day':\n                return new GanttDate(this.value).addDays(amount);\n            case 'week':\n                return new GanttDate(this.value).addWeeks(amount);\n            case 'month':\n                return new GanttDate(this.value).addMonths(amount);\n            case 'quarter':\n                return new GanttDate(this.value).addQuarters(amount);\n            case 'year':\n                return new GanttDate(this.value).addYears(amount);\n            default:\n                return new GanttDate(this.value).addSeconds(amount);\n        }\n    }\n    addSeconds(amount) {\n        return new GanttDate(addSeconds(this.value, amount));\n    }\n    addMinutes(amount) {\n        return new GanttDate(addMinutes(this.value, amount));\n    }\n    addHours(amount) {\n        return new GanttDate(addHours(this.value, amount));\n    }\n    addDays(amount) {\n        return new GanttDate(addDays(this.value, amount));\n    }\n    addWeeks(amount) {\n        return new GanttDate(addWeeks(this.value, amount));\n    }\n    addMonths(amount) {\n        return new GanttDate(addMonths(this.value, amount));\n    }\n    addQuarters(amount) {\n        return new GanttDate(addQuarters(this.value, amount));\n    }\n    addYears(amount) {\n        return new GanttDate(addYears(this.value, amount));\n    }\n    startOfDay() {\n        return new GanttDate(startOfDay(this.value));\n    }\n    startOfWeek(options) {\n        return new GanttDate(startOfWeek(this.value, options));\n    }\n    startOfMonth() {\n        return new GanttDate(startOfMonth(this.value));\n    }\n    startOfQuarter() {\n        return new GanttDate(startOfQuarter(this.value));\n    }\n    startOfYear() {\n        return new GanttDate(startOfYear(this.value));\n    }\n    endOfDay() {\n        return new GanttDate(endOfDay(this.value));\n    }\n    endOfWeek(options) {\n        return new GanttDate(endOfWeek(this.value, options));\n    }\n    endOfMonth() {\n        return new GanttDate(endOfMonth(this.value));\n    }\n    endOfQuarter() {\n        return new GanttDate(endOfQuarter(this.value));\n    }\n    endOfYear() {\n        return new GanttDate(endOfYear(this.value));\n    }\n    getUnixTime() {\n        return getUnixTime(this.value);\n    }\n    format(mat, options) {\n        return format(this.value, mat, options);\n    }\n    isWeekend() {\n        return isWeekend(this.value);\n    }\n    isToday() {\n        return isToday(this.value);\n    }\n}\n\nvar GanttLinkType;\n(function (GanttLinkType) {\n    GanttLinkType[GanttLinkType[\"fs\"] = 1] = \"fs\";\n    GanttLinkType[GanttLinkType[\"ff\"] = 2] = \"ff\";\n    GanttLinkType[GanttLinkType[\"ss\"] = 3] = \"ss\";\n    GanttLinkType[GanttLinkType[\"sf\"] = 4] = \"sf\";\n})(GanttLinkType || (GanttLinkType = {}));\nvar GanttLinkLineType;\n(function (GanttLinkLineType) {\n    GanttLinkLineType[\"curve\"] = \"curve\";\n    GanttLinkLineType[\"straight\"] = \"straight\";\n})(GanttLinkLineType || (GanttLinkLineType = {}));\nvar LinkColors;\n(function (LinkColors) {\n    LinkColors[\"default\"] = \"#cacaca\";\n    LinkColors[\"blocked\"] = \"#FF7575\";\n    LinkColors[\"active\"] = \"#6698ff\";\n})(LinkColors || (LinkColors = {}));\n\nvar GanttItemType;\n(function (GanttItemType) {\n    GanttItemType[\"bar\"] = \"bar\";\n    GanttItemType[\"range\"] = \"range\";\n    GanttItemType[\"custom\"] = \"custom\";\n})(GanttItemType || (GanttItemType = {}));\nclass GanttItemInternal {\n    get refs() {\n        return this.refs$.getValue();\n    }\n    constructor(item, level, options) {\n        this.refs$ = new BehaviorSubject(null);\n        this.origin = item;\n        this.id = this.origin.id;\n        this.links = (this.origin.links || []).map((link) => {\n            if (typeof link === 'string') {\n                return {\n                    type: GanttLinkType.fs,\n                    link\n                };\n            }\n            else {\n                return link;\n            }\n        });\n        this.color = this.origin.color;\n        this.barStyle = this.origin.barStyle;\n        this.linkable = this.origin.linkable === undefined ? true : this.origin.linkable;\n        this.draggable = this.origin.draggable === undefined ? true : this.origin.draggable;\n        this.itemDraggable = this.origin.itemDraggable;\n        this.expandable = this.origin.expandable || (this.origin.children || []).length > 0;\n        this.expanded = this.origin.expanded === undefined ? false : this.origin.expanded;\n        this.start = item.start ? new GanttDate(item.start) : null;\n        this.end = item.end ? new GanttDate(item.end) : null;\n        this.level = level;\n        //  默认填充 30 天\n        this.fillDays = options?.fillDays || 30;\n        this.children = (item.children || []).map((subItem) => {\n            return new GanttItemInternal(subItem, level + 1, { fillDays: this.fillDays });\n        });\n        this.type = this.origin.type || GanttItemType.bar;\n        this.progress = this.origin.progress;\n        // fill days when start or end is null\n        this.fillItemStartOrEnd(item);\n    }\n    fillItemStartOrEnd(item) {\n        if (this.fillDays > 0) {\n            const fillDays = this.fillDays - 1;\n            if (item.start && !item.end) {\n                this.end = new GanttDate(item.start).addDays(fillDays).endOfDay();\n            }\n            if (!item.start && item.end) {\n                this.start = new GanttDate(item.end).addDays(-fillDays).startOfDay();\n            }\n        }\n    }\n    updateRefs(refs) {\n        this.refs$.next(refs);\n    }\n    updateDate(start, end) {\n        this.start = start.startOfDay();\n        this.end = end.endOfDay();\n        this.origin.start = this.start.getUnixTime();\n        this.origin.end = this.end.getUnixTime();\n    }\n    updateLevel(level) {\n        this.level = level;\n    }\n    addChildren(items) {\n        this.origin.children = items;\n        this.children = (items || []).map((subItem) => {\n            return new GanttItemInternal(subItem, this.level + 1, { fillDays: this.fillDays });\n        });\n    }\n    setExpand(expanded) {\n        this.expanded = expanded;\n        this.origin.expanded = expanded;\n    }\n    addLink(link) {\n        this.links = [...this.links, link];\n        this.origin.links = this.links;\n    }\n}\n\nclass GanttGroupInternal {\n    constructor(group) {\n        this.refs = {};\n        this.id = group.id;\n        this.origin = group;\n        this.title = group.title;\n        this.expanded = group.expanded === undefined ? true : group.expanded;\n        this.items = [];\n        this.mergedItems = [[]];\n        this.class = group.class || '';\n    }\n    setExpand(expanded) {\n        this.expanded = expanded;\n        this.origin.expanded = expanded;\n    }\n}\n\nvar GanttViewType;\n(function (GanttViewType) {\n    GanttViewType[\"day\"] = \"day\";\n    GanttViewType[\"quarter\"] = \"quarter\";\n    GanttViewType[\"month\"] = \"month\";\n    GanttViewType[\"year\"] = \"year\";\n    GanttViewType[\"week\"] = \"week\";\n})(GanttViewType || (GanttViewType = {}));\nconst ganttViews = [\n    {\n        name: '日',\n        value: GanttViewType.day\n    },\n    {\n        name: '周',\n        value: GanttViewType.week\n    },\n    {\n        name: '月',\n        value: GanttViewType.month\n    },\n    {\n        name: '季',\n        value: GanttViewType.quarter\n    },\n    {\n        name: '年',\n        value: GanttViewType.year\n    }\n];\n\nclass GanttBaselineItemInternal {\n    get refs() {\n        return this.refs$.getValue();\n    }\n    constructor(item) {\n        this.refs$ = new BehaviorSubject(null);\n        this.origin = item;\n        this.id = this.origin.id;\n        this.start = item.start ? new GanttDate(item.start) : null;\n        this.end = item.end ? new GanttDate(item.end) : null;\n    }\n    updateRefs(refs) {\n        this.refs$.next(refs);\n    }\n}\n\nconst defaultConfig = {\n    dateFormat: {\n        week: '第w周',\n        month: 'M月',\n        quarter: 'QQQ',\n        year: 'yyyy年',\n        yearMonth: 'yyyy年MM月',\n        yearQuarter: 'yyyy年QQQ'\n    },\n    linkOptions: {\n        dependencyTypes: [GanttLinkType.fs],\n        showArrow: false,\n        lineType: GanttLinkLineType.curve\n    }\n};\nconst GANTT_GLOBAL_CONFIG = new InjectionToken('GANTT_GLOBAL_CONFIG');\n\nconst primaryDatePointTop = 18;\nconst secondaryDatePointTop = 36;\nconst viewOptions$5 = {\n    min: new GanttDate().addYears(-1).startOfYear(),\n    max: new GanttDate().addYears(1).endOfYear(),\n    dateFormat: defaultConfig.dateFormat\n};\nclass GanttView {\n    get start() {\n        return this.start$.getValue();\n    }\n    get end() {\n        return this.end$.getValue();\n    }\n    constructor(start, end, options) {\n        this.showTimeline = true;\n        this.options = Object.assign({}, viewOptions$5, options);\n        const startDate = start.isCustom\n            ? this.startOf(start.date)\n            : this.startOf(start.date.value < this.options.start.value ? start.date : this.options.start);\n        const endDate = end.isCustom\n            ? this.endOf(end.date)\n            : this.endOf(end.date.value > this.options.end.value ? end.date : this.options.end);\n        this.start$ = new BehaviorSubject(startDate);\n        this.end$ = new BehaviorSubject(endDate);\n        this.initialize();\n    }\n    getDateIntervalWidth(start, end) {\n        let result = 0;\n        const days = differenceInDays(end.value, start.value);\n        for (let i = 0; i < Math.abs(days); i++) {\n            result += this.getDayOccupancyWidth(start.addDays(i));\n        }\n        result = days >= 0 ? result : -result;\n        return Number(result.toFixed(3));\n    }\n    initialize() {\n        this.primaryDatePoints = this.getPrimaryDatePoints();\n        this.secondaryDatePoints = this.getSecondaryDatePoints();\n        this.width = this.getWidth();\n        this.cellWidth = this.getCellWidth();\n        this.primaryWidth = this.getPrimaryWidth();\n    }\n    addStartDate() {\n        const start = this.startOf(this.start.add(this.options.addAmount * -1, this.options.addUnit));\n        if (start.value >= this.options.min.value) {\n            const origin = this.start;\n            this.start$.next(start);\n            this.initialize();\n            return { start: this.start, end: origin };\n        }\n        return null;\n    }\n    addEndDate() {\n        const end = this.endOf(this.end.add(this.options.addAmount, this.options.addUnit));\n        if (end.value <= this.options.max.value) {\n            const origin = this.end;\n            this.end$.next(end);\n            this.initialize();\n            return { start: origin, end: this.end };\n        }\n        return null;\n    }\n    updateDate(start, end) {\n        start = this.startOf(start);\n        end = this.endOf(end);\n        if (start.value < this.start.value) {\n            this.start$.next(start);\n        }\n        if (end.value > this.end.value) {\n            this.end$.next(end);\n        }\n        this.initialize();\n    }\n    // 获取View的宽度\n    getWidth() {\n        return this.getCellWidth() * this.secondaryDatePoints.length;\n    }\n    // 获取单个网格的宽度\n    getCellWidth() {\n        return this.options.cellWidth;\n    }\n    // 获取当前时间的X坐标\n    getTodayXPoint() {\n        const toady = new GanttDate().startOfDay();\n        if (toady.value > this.start.value && toady.value < this.end.value) {\n            const x = this.getXPointByDate(toady) + this.getDayOccupancyWidth(toady) / 2;\n            return x;\n        }\n        else {\n            return null;\n        }\n    }\n    // 获取指定时间的X坐标\n    getXPointByDate(date) {\n        return this.getDateIntervalWidth(this.start, date);\n    }\n    // 根据X坐标获取对应时间\n    getDateByXPoint(x) {\n        const indexOfSecondaryDate = Math.max(Math.floor(x / this.getCellWidth()), 0);\n        const matchDate = this.secondaryDatePoints[Math.min(this.secondaryDatePoints.length - 1, indexOfSecondaryDate)];\n        const dayWidth = this.getDayOccupancyWidth(matchDate?.start);\n        if (dayWidth === this.getCellWidth()) {\n            return matchDate?.start;\n        }\n        else {\n            const day = Math.floor((x % this.getCellWidth()) / dayWidth) + 1;\n            if (this.getCellWidth() / dayWidth === 7) {\n                return matchDate?.start.addDays(day);\n            }\n            return matchDate?.start.setDate(day);\n        }\n    }\n    // 获取指定时间范围的宽度\n    getDateRangeWidth(start, end) {\n        // addSeconds(1) 是因为计算相差天会以一个整天来计算 end时间一般是59分59秒不是一个整天，所以需要加1\n        return this.getDateIntervalWidth(start, end.addSeconds(1));\n    }\n}\n\nconst viewOptions$4 = {\n    start: new GanttDate().startOfQuarter().addQuarters(-1),\n    end: new GanttDate().endOfQuarter().addQuarters(2),\n    cellWidth: 280,\n    addAmount: 1,\n    addUnit: 'quarter',\n    fillDays: 30\n};\nclass GanttViewMonth extends GanttView {\n    constructor(start, end, options) {\n        super(start, end, Object.assign({}, viewOptions$4, options));\n        this.viewType = GanttViewType.month;\n    }\n    startOf(date) {\n        return date.startOfQuarter();\n    }\n    endOf(date) {\n        return date.endOfQuarter();\n    }\n    getPrimaryWidth() {\n        return this.getCellWidth() * 3;\n    }\n    getDayOccupancyWidth(date) {\n        return this.cellWidth / date.getDaysInMonth();\n    }\n    getPrimaryDatePoints() {\n        const quarters = differenceInCalendarQuarters(this.end.addSeconds(1).value, this.start.value);\n        const points = [];\n        for (let i = 0; i < quarters; i++) {\n            const start = this.start.addQuarters(i);\n            const point = new GanttDatePoint(start, start.format(this.options.dateFormat.yearQuarter), (this.getCellWidth() * 3) / 2 + i * (this.getCellWidth() * 3), primaryDatePointTop);\n            points.push(point);\n        }\n        return points;\n    }\n    getSecondaryDatePoints() {\n        const months = eachMonthOfInterval({ start: this.start.value, end: this.end.value });\n        const points = [];\n        for (let i = 0; i < months.length; i++) {\n            const start = new GanttDate(months[i]);\n            const point = new GanttDatePoint(start, start.format(this.options.dateFormat.month), i * this.getCellWidth() + this.getCellWidth() / 2, secondaryDatePointTop);\n            points.push(point);\n        }\n        return points;\n    }\n}\n\nconst viewOptions$3 = {\n    start: new GanttDate().addYears(-1).startOfYear(),\n    end: new GanttDate().addYears(1).endOfYear(),\n    min: new GanttDate().addYears(-2).startOfYear(),\n    max: new GanttDate().addYears(2).endOfYear(),\n    cellWidth: 500,\n    addAmount: 1,\n    addUnit: 'year',\n    fillDays: 30\n};\nclass GanttViewQuarter extends GanttView {\n    constructor(start, end, options) {\n        super(start, end, Object.assign({}, viewOptions$3, options));\n        this.viewType = GanttViewType.quarter;\n    }\n    startOf(date) {\n        return date.startOfYear();\n    }\n    endOf(date) {\n        return date.endOfYear();\n    }\n    getPrimaryWidth() {\n        return this.getCellWidth() * 4;\n    }\n    getDayOccupancyWidth(date) {\n        return this.cellWidth / date.getDaysInQuarter();\n    }\n    getPrimaryDatePoints() {\n        const years = eachYearOfInterval({ start: this.start.value, end: this.end.value });\n        const points = [];\n        for (let i = 0; i < years.length; i++) {\n            const start = new GanttDate(years[i]);\n            const point = new GanttDatePoint(start, `${start.format(this.options.dateFormat.year)}`, (this.getCellWidth() * 4) / 2 + i * (this.getCellWidth() * 4), primaryDatePointTop);\n            points.push(point);\n        }\n        return points;\n    }\n    getSecondaryDatePoints() {\n        const quarters = differenceInCalendarQuarters(this.end.value, this.start.value);\n        const points = [];\n        for (let i = 0; i <= quarters; i++) {\n            const start = this.start.addQuarters(i);\n            const point = new GanttDatePoint(start, start.format(this.options.dateFormat.quarter), i * this.getCellWidth() + this.getCellWidth() / 2, secondaryDatePointTop);\n            points.push(point);\n        }\n        return points;\n    }\n}\n\nconst viewOptions$2 = {\n    cellWidth: 35,\n    start: new GanttDate().startOfYear().startOfWeek({ weekStartsOn: 1 }),\n    end: new GanttDate().endOfYear().endOfWeek({ weekStartsOn: 1 }),\n    addAmount: 1,\n    addUnit: 'month',\n    fillDays: 1\n};\nclass GanttViewDay extends GanttView {\n    constructor(start, end, options) {\n        super(start, end, Object.assign({}, viewOptions$2, options));\n        this.showWeekBackdrop = true;\n        this.showTimeline = false;\n        this.viewType = GanttViewType.day;\n    }\n    startOf(date) {\n        return date.startOfWeek({ weekStartsOn: 1 });\n    }\n    endOf(date) {\n        return date.endOfWeek({ weekStartsOn: 1 });\n    }\n    getPrimaryWidth() {\n        return this.getCellWidth() * 7;\n    }\n    getDayOccupancyWidth() {\n        return this.cellWidth;\n    }\n    getPrimaryDatePoints() {\n        const weeks = eachWeekOfInterval({ start: this.start.value, end: this.end.addSeconds(1).value }, { weekStartsOn: 1 });\n        const points = [];\n        for (let i = 0; i < weeks.length; i++) {\n            const weekStart = new GanttDate(weeks[i]);\n            const increaseWeek = weekStart.getDaysInMonth() - weekStart.getDate() >= 3 ? 0 : 1;\n            const point = new GanttDatePoint(weekStart, weekStart.addWeeks(increaseWeek).format(this.options.dateFormat.yearMonth), (this.getCellWidth() * 7) / 2 + i * (this.getCellWidth() * 7), primaryDatePointTop);\n            points.push(point);\n        }\n        return points;\n    }\n    getSecondaryDatePoints() {\n        const days = eachDayOfInterval({ start: this.start.value, end: this.end.value });\n        const points = [];\n        for (let i = 0; i < days.length; i++) {\n            const start = new GanttDate(days[i]);\n            const point = new GanttDatePoint(start, start.getDate().toString(), i * this.getCellWidth() + this.getCellWidth() / 2, secondaryDatePointTop, {\n                isWeekend: start.isWeekend(),\n                isToday: start.isToday()\n            });\n            points.push(point);\n        }\n        return points;\n    }\n}\n\nconst viewOptions$1 = {\n    cellWidth: 280,\n    start: new GanttDate().startOfYear().startOfWeek({ weekStartsOn: 1 }),\n    end: new GanttDate().endOfYear().endOfWeek({ weekStartsOn: 1 }),\n    addAmount: 1,\n    addUnit: 'month',\n    fillDays: 1\n};\nclass GanttViewWeek extends GanttView {\n    constructor(start, end, options) {\n        super(start, end, Object.assign({}, viewOptions$1, options));\n        this.viewType = GanttViewType.week;\n    }\n    startOf(date) {\n        return date.startOfWeek({ weekStartsOn: 1 });\n    }\n    endOf(date) {\n        return date.endOfWeek({ weekStartsOn: 1 });\n    }\n    getPrimaryWidth() {\n        return this.getCellWidth();\n    }\n    getDayOccupancyWidth() {\n        return this.cellWidth / 7;\n    }\n    getPrimaryDatePoints() {\n        const weeks = eachWeekOfInterval({ start: this.start.value, end: this.end.addSeconds(1).value }, { weekStartsOn: 1 });\n        const points = [];\n        for (let i = 0; i < weeks.length; i++) {\n            const weekStart = new GanttDate(weeks[i]);\n            const increaseWeek = weekStart.getDaysInMonth() - weekStart.getDate() >= 3 ? 0 : 1;\n            const point = new GanttDatePoint(weekStart, weekStart.addWeeks(increaseWeek).format(this.options.dateFormat.year), this.getCellWidth() / 2 + i * this.getCellWidth(), primaryDatePointTop);\n            points.push(point);\n        }\n        return points;\n    }\n    getSecondaryDatePoints() {\n        const weeks = eachWeekOfInterval({ start: this.start.value, end: this.end.value });\n        const points = [];\n        for (let i = 0; i < weeks.length; i++) {\n            const start = new GanttDate(weeks[i]);\n            const point = new GanttDatePoint(start, `${start.format(this.options.dateFormat.week)}`, i * this.getCellWidth() + this.getCellWidth() / 2, secondaryDatePointTop);\n            points.push(point);\n        }\n        return points;\n    }\n}\n\nconst viewOptions = {\n    cellWidth: 480,\n    start: new GanttDate().addYears(-2).startOfYear(),\n    end: new GanttDate().addYears(2).endOfYear(),\n    addAmount: 1,\n    addUnit: 'year',\n    fillDays: 30\n};\nclass GanttViewYear extends GanttView {\n    constructor(start, end, options) {\n        super(start, end, Object.assign({}, viewOptions, options));\n        this.viewType = GanttViewType.year;\n    }\n    startOf(date) {\n        return date.startOfYear();\n    }\n    endOf(date) {\n        return date.endOfYear();\n    }\n    getPrimaryWidth() {\n        return this.getCellWidth();\n    }\n    getDayOccupancyWidth(date) {\n        return this.cellWidth / date.getDaysInYear();\n    }\n    getPrimaryDatePoints() {\n        const years = eachYearOfInterval({ start: this.start.value, end: this.end.value });\n        const points = [];\n        for (let i = 0; i < years.length; i++) {\n            const start = new GanttDate(years[i]);\n            const point = new GanttDatePoint(start, ``, this.getCellWidth() / 2 + i * this.getCellWidth(), primaryDatePointTop);\n            points.push(point);\n        }\n        return points;\n    }\n    getSecondaryDatePoints() {\n        const years = differenceInCalendarYears(this.end.value, this.start.value);\n        const points = [];\n        const pointTop = 27;\n        for (let i = 0; i <= years; i++) {\n            const start = this.start.addYears(i);\n            const point = new GanttDatePoint(start, `${start.format(this.options.dateFormat.year)}`, i * this.getCellWidth() + this.getCellWidth() / 2, pointTop);\n            points.push(point);\n        }\n        return points;\n    }\n}\n\nconst ganttViewsMap = {\n    [GanttViewType.day]: GanttViewDay,\n    [GanttViewType.week]: GanttViewWeek,\n    [GanttViewType.month]: GanttViewMonth,\n    [GanttViewType.quarter]: GanttViewQuarter,\n    [GanttViewType.year]: GanttViewYear\n};\nfunction registerView(type, view) {\n    ganttViewsMap[type] = view;\n}\nfunction createViewFactory(type, start, end, options) {\n    return new ganttViewsMap[type](start, end, options);\n}\n\nconst defaultStyles = {\n    lineHeight: 44,\n    barHeight: 22\n};\nconst headerHeight = 44;\nconst sideWidth = 400;\nconst sideMiddleWidth = 500;\nconst sideMaxWidth = 600;\nconst sideMinWidth = 400;\nconst barBackground = '#6698ff';\nconst rangeHeight = 17;\nconst todayHeight = 24;\nconst todayWidth = 35;\nconst todayBorderRadius = 4;\n\nfunction isNumber(value) {\n    return typeof value === 'number';\n}\nfunction isString(value) {\n    return typeof value === 'string';\n}\nfunction isUndefined(value) {\n    return value === undefined;\n}\nfunction hexToRgb(color, opacity = 1) {\n    if (/^#/g.test(color)) {\n        return `rgba(${parseInt(color.slice(1, 3), 16)},${parseInt(color.slice(3, 5), 16)},${parseInt(color.slice(5, 7), 16)},${opacity})`;\n    }\n    else {\n        return color;\n    }\n}\nfunction uniqBy(array, key) {\n    const valuesMap = {};\n    const result = [];\n    (array || []).forEach((value) => {\n        const _key = value[key];\n        if (!valuesMap[_key]) {\n            valuesMap[_key] = value;\n            result.push(value);\n        }\n    });\n    return result;\n}\nfunction flatten(array) {\n    return array.reduce((pre, cur) => {\n        return pre.concat(Array.isArray(cur) ? flatten(cur) : cur);\n    }, []);\n}\n// export function recursiveItems(items: GanttItemInternal[]) {\n//     const result = [];\n//     (items || []).forEach((item) => {\n//         result.push(item);\n//         if (item.expanded && item.children) {\n//             result.push(...recursiveItems(item.children));\n//         }\n//     });\n//     return result;\n// }\nfunction recursiveItems(items) {\n    const result = [];\n    (items || []).forEach((item) => {\n        result.push(item);\n        if (item.expanded && item.children) {\n            result.push(...recursiveItems(item.children));\n        }\n    });\n    return result;\n}\nfunction getFlatItems(items) {\n    const result = [];\n    (items || []).forEach((item) => {\n        result.push(item);\n        if (item.children) {\n            result.push(...getFlatItems(item.children));\n        }\n    });\n    return result;\n}\nfunction keyBy(array, key) {\n    const result = {};\n    array.forEach((item) => {\n        const keyValue = item[key];\n        result[keyValue] = item;\n    });\n    return result;\n}\n\nclass GanttUpper {\n    set linkOptions(options) {\n        this._linkOptions = options;\n    }\n    get linkOptions() {\n        return Object.assign({}, defaultConfig.linkOptions, this.config.linkOptions, this._linkOptions);\n    }\n    set selectable(value) {\n        this._selectable = coerceBooleanProperty(value);\n        if (this._selectable) {\n            this.selectionModel = this.initSelectionModel();\n        }\n        else {\n            this.selectionModel?.clear();\n        }\n    }\n    get selectable() {\n        return this._selectable;\n    }\n    set multiple(value) {\n        this._multiple = coerceBooleanProperty(value);\n        if (this.selectable) {\n            this.selectionModel = this.initSelectionModel();\n        }\n    }\n    get multiple() {\n        return this._multiple;\n    }\n    // public viewChange = new EventEmitter<GanttView>();\n    get element() {\n        return this.elementRef.nativeElement;\n    }\n    constructor(elementRef, cdr, ngZone, config) {\n        this.elementRef = elementRef;\n        this.cdr = cdr;\n        this.ngZone = ngZone;\n        this.config = config;\n        // eslint-disable-next-line @angular-eslint/no-input-rename\n        this.originItems = [];\n        // eslint-disable-next-line @angular-eslint/no-input-rename\n        this.originGroups = [];\n        // eslint-disable-next-line @angular-eslint/no-input-rename\n        this.originBaselineItems = [];\n        this.viewType = GanttViewType.month;\n        this.showTodayLine = true;\n        this.showToolbar = false;\n        this.toolbarOptions = {\n            viewTypes: [GanttViewType.day, GanttViewType.month, GanttViewType.year]\n        };\n        this.viewOptions = {};\n        this.loadOnScroll = new EventEmitter();\n        this.dragStarted = new EventEmitter();\n        this.dragMoved = new EventEmitter();\n        this.dragEnded = new EventEmitter();\n        this.barClick = new EventEmitter();\n        this.viewChange = new EventEmitter();\n        this.expandChange = new EventEmitter();\n        this.computeAllRefs = true;\n        this.linkDragEnded = new EventEmitter();\n        this.items = [];\n        this.groups = [];\n        this.baselineItems = [];\n        this.baselineItemsMap = {};\n        this.firstChange = true;\n        this.unsubscribe$ = new Subject();\n        this._selectable = false;\n        this._multiple = false;\n        this.ganttClass = true;\n    }\n    createView() {\n        const viewDate = this.getViewDate();\n        this.view = createViewFactory(this.viewType, viewDate.start, viewDate.end, this.viewOptions);\n    }\n    setupGroups() {\n        const collapsedIds = this.groups.filter((group) => group.expanded === false).map((group) => group.id);\n        this.groupsMap = {};\n        this.groups = [];\n        this.originGroups.forEach((origin) => {\n            const group = new GanttGroupInternal(origin);\n            group.expanded = !collapsedIds.includes(group.id);\n            this.groupsMap[group.id] = group;\n            this.groups.push(group);\n        });\n    }\n    setupItems() {\n        this.originItems = uniqBy(this.originItems, 'id');\n        this.items = [];\n        if (this.groups.length > 0) {\n            this.originItems.forEach((origin) => {\n                const group = this.groupsMap[origin.group_id];\n                if (group) {\n                    const item = new GanttItemInternal(origin, 0, { fillDays: this.view.options?.fillDays });\n                    group.items.push(item);\n                }\n            });\n        }\n        else {\n            this.originItems.forEach((origin) => {\n                const item = new GanttItemInternal(origin, 0, { fillDays: this.view.options?.fillDays });\n                this.items.push(item);\n            });\n        }\n    }\n    setupBaselineItems() {\n        this.originBaselineItems = uniqBy(this.originBaselineItems, 'id');\n        this.baselineItems = [];\n        this.originBaselineItems.forEach((origin) => {\n            const item = new GanttBaselineItemInternal(origin);\n            this.baselineItems.push(item);\n        });\n        this.baselineItemsMap = keyBy(this.baselineItems, 'id');\n    }\n    setupExpandedState() {\n        this.originItems = uniqBy(this.originItems, 'id');\n        let items = [];\n        const flatOriginItems = getFlatItems(this.originItems);\n        if (this.items.length > 0) {\n            items = recursiveItems(this.items);\n        }\n        else {\n            items = flatten(this.groups.map((group) => recursiveItems(group.items)));\n        }\n        items.forEach((item) => {\n            if (item.origin.expanded) {\n                const newItem = flatOriginItems.find((originItem) => originItem.id === item.id);\n                if (newItem) {\n                    if (newItem.expanded === undefined) {\n                        newItem.expanded = true;\n                    }\n                }\n            }\n        });\n    }\n    getViewDate() {\n        let start = this.start;\n        let end = this.end;\n        if (!this.start || !this.end) {\n            this.originItems.forEach((item) => {\n                if (item.start && !this.start) {\n                    start = start ? Math.min(start, item.start) : item.start;\n                }\n                if (item.end && !this.end) {\n                    end = end ? Math.max(end, item.end) : item.end;\n                }\n            });\n        }\n        return {\n            start: {\n                date: new GanttDate(start),\n                isCustom: this.start ? true : false\n            },\n            end: {\n                date: new GanttDate(end),\n                isCustom: this.end ? true : false\n            }\n        };\n    }\n    computeRefs() {\n        if (this.computeAllRefs) {\n            this.groups.forEach((group) => {\n                const groupItems = recursiveItems(group.items);\n                this.computeItemsRefs(...groupItems);\n            });\n            const items = recursiveItems(this.items);\n            this.computeItemsRefs(...items);\n        }\n    }\n    initSelectionModel() {\n        return new SelectionModel(this.multiple, []);\n    }\n    expandGroups(expanded) {\n        this.groups.forEach((group) => {\n            group.setExpand(expanded);\n        });\n        this.expandChange.next(null);\n        this.cdr.detectChanges();\n    }\n    ngOnInit() {\n        this.styles = Object.assign({}, defaultStyles, this.styles);\n        this.viewOptions.dateFormat = Object.assign({}, defaultConfig.dateFormat, this.config.dateFormat, this.viewOptions.dateFormat);\n        this.createView();\n        this.setupGroups();\n        this.setupItems();\n        this.computeRefs();\n        this.setupBaselineItems();\n        this.computeItemsRefs(...this.baselineItems);\n        this.initSelectionModel();\n        this.firstChange = false;\n        // Note: the zone may be nooped through `BootstrapOptions` when bootstrapping the root module. This means\n        // the `onStable` will never emit any value.\n        const onStable$ = this.ngZone.isStable ? from(Promise.resolve()) : this.ngZone.onStable.pipe(take(1));\n        // Normally this isn't in the zone, but it can cause performance regressions for apps\n        // using `zone-patch-rxjs` because it'll trigger a change detection when it unsubscribes.\n        this.ngZone.runOutsideAngular(() => {\n            onStable$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n                this.element.style.opacity = '1';\n                const disabledLoadOnScroll = this.disabledLoadOnScroll;\n                this.dragContainer.dragStarted.pipe(takeUntil(this.unsubscribe$)).subscribe((event) => {\n                    this.disabledLoadOnScroll = true;\n                    this.dragStarted.emit(event);\n                });\n                this.dragContainer.dragMoved.pipe(takeUntil(this.unsubscribe$)).subscribe((event) => {\n                    this.dragMoved.emit(event);\n                });\n                this.dragContainer.dragEnded.pipe(takeUntil(this.unsubscribe$)).subscribe((event) => {\n                    this.disabledLoadOnScroll = disabledLoadOnScroll;\n                    this.dragEnded.emit(event);\n                });\n            });\n        });\n        this.view.start$.pipe(skip(1), takeUntil(this.unsubscribe$)).subscribe(() => {\n            this.computeRefs();\n        });\n    }\n    ngOnChanges(changes) {\n        if (!this.firstChange) {\n            if (changes.viewType && changes.viewType.currentValue && changes.viewType.currentValue !== changes.viewType.previousValue) {\n                this.changeView(changes.viewType.currentValue);\n            }\n            if (changes.viewOptions) {\n                this.changeView(this.viewType);\n            }\n            if (changes.originItems || changes.originGroups) {\n                this.setupExpandedState();\n                this.setupGroups();\n                this.setupItems();\n                this.computeRefs();\n            }\n            if (changes.originBaselineItems) {\n                this.setupBaselineItems();\n                this.computeItemsRefs(...this.baselineItems);\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.unsubscribe$.next();\n        this.unsubscribe$.complete();\n    }\n    computeItemsRefs(...items) {\n        items.forEach((item) => {\n            item.updateRefs({\n                width: item.start && item.end ? this.view.getDateRangeWidth(item.start.startOfDay(), item.end.endOfDay()) : 0,\n                x: item.start ? this.view.getXPointByDate(item.start) : 0,\n                y: (this.styles.lineHeight - this.styles.barHeight) / 2 - 1\n            });\n        });\n    }\n    trackBy(index, item) {\n        return item.id || index;\n    }\n    detectChanges() {\n        this.cdr.detectChanges();\n    }\n    // public functions\n    expandGroup(group) {\n        group.setExpand(!group.expanded);\n        this.expandChange.emit(group);\n        this.cdr.detectChanges();\n    }\n    expandAll() {\n        this.expandGroups(true);\n    }\n    collapseAll() {\n        this.expandGroups(false);\n    }\n    getGanttItem(id) {\n        return this.getGanttItems([id])[0] || null;\n    }\n    getGanttItems(ids) {\n        let items = [];\n        if (this.items.length > 0) {\n            items = recursiveItems(this.items);\n        }\n        else {\n            items = flatten(this.groups.map((group) => recursiveItems(group.items)));\n        }\n        return items.filter((item) => ids.includes(item.id));\n    }\n    isSelected(id) {\n        if (!this.selectable) {\n            return false;\n        }\n        if (!this.selectionModel.hasValue()) {\n            return false;\n        }\n        return this.selectionModel.isSelected(id);\n    }\n    changeView(type) {\n        this.viewType = type;\n        this.createView();\n        this.setupGroups();\n        this.setupItems();\n        this.computeRefs();\n        this.setupBaselineItems();\n        this.computeItemsRefs(...this.baselineItems);\n        this.viewChange.emit(this.view);\n    }\n    rerenderView() {\n        this.changeView(this.viewType);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttUpper, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: i0.NgZone }, { token: GANTT_GLOBAL_CONFIG }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttUpper, inputs: { originItems: [\"items\", \"originItems\"], originGroups: [\"groups\", \"originGroups\"], originBaselineItems: [\"baselineItems\", \"originBaselineItems\"], viewType: \"viewType\", start: \"start\", end: \"end\", showTodayLine: \"showTodayLine\", draggable: \"draggable\", styles: \"styles\", showToolbar: \"showToolbar\", toolbarOptions: \"toolbarOptions\", viewOptions: \"viewOptions\", linkOptions: \"linkOptions\", disabledLoadOnScroll: \"disabledLoadOnScroll\", selectable: \"selectable\", multiple: \"multiple\" }, outputs: { loadOnScroll: \"loadOnScroll\", dragStarted: \"dragStarted\", dragMoved: \"dragMoved\", dragEnded: \"dragEnded\", barClick: \"barClick\", viewChange: \"viewChange\", expandChange: \"expandChange\" }, host: { properties: { \"class.gantt\": \"this.ganttClass\" } }, queries: [{ propertyName: \"barTemplate\", first: true, predicate: [\"bar\"], descendants: true, static: true }, { propertyName: \"rangeTemplate\", first: true, predicate: [\"range\"], descendants: true, static: true }, { propertyName: \"itemTemplate\", first: true, predicate: [\"item\"], descendants: true, static: true }, { propertyName: \"baselineTemplate\", first: true, predicate: [\"baseline\"], descendants: true, static: true }, { propertyName: \"groupTemplate\", first: true, predicate: [\"group\"], descendants: true, static: true }, { propertyName: \"groupHeaderTemplate\", first: true, predicate: [\"groupHeader\"], descendants: true, static: true }, { propertyName: \"toolbarTemplate\", first: true, predicate: [\"toolbar\"], descendants: true, static: true }], usesOnChanges: true, ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttUpper, decorators: [{\n            type: Directive\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i0.NgZone }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [GANTT_GLOBAL_CONFIG]\n                }] }]; }, propDecorators: { originItems: [{\n                type: Input,\n                args: ['items']\n            }], originGroups: [{\n                type: Input,\n                args: ['groups']\n            }], originBaselineItems: [{\n                type: Input,\n                args: ['baselineItems']\n            }], viewType: [{\n                type: Input\n            }], start: [{\n                type: Input\n            }], end: [{\n                type: Input\n            }], showTodayLine: [{\n                type: Input\n            }], draggable: [{\n                type: Input\n            }], styles: [{\n                type: Input\n            }], showToolbar: [{\n                type: Input\n            }], toolbarOptions: [{\n                type: Input\n            }], viewOptions: [{\n                type: Input\n            }], linkOptions: [{\n                type: Input\n            }], disabledLoadOnScroll: [{\n                type: Input\n            }], selectable: [{\n                type: Input\n            }], multiple: [{\n                type: Input\n            }], loadOnScroll: [{\n                type: Output\n            }], dragStarted: [{\n                type: Output\n            }], dragMoved: [{\n                type: Output\n            }], dragEnded: [{\n                type: Output\n            }], barClick: [{\n                type: Output\n            }], viewChange: [{\n                type: Output\n            }], expandChange: [{\n                type: Output\n            }], barTemplate: [{\n                type: ContentChild,\n                args: ['bar', { static: true }]\n            }], rangeTemplate: [{\n                type: ContentChild,\n                args: ['range', { static: true }]\n            }], itemTemplate: [{\n                type: ContentChild,\n                args: ['item', { static: true }]\n            }], baselineTemplate: [{\n                type: ContentChild,\n                args: ['baseline', { static: true }]\n            }], groupTemplate: [{\n                type: ContentChild,\n                args: ['group', { static: true }]\n            }], groupHeaderTemplate: [{\n                type: ContentChild,\n                args: ['groupHeader', { static: true }]\n            }], toolbarTemplate: [{\n                type: ContentChild,\n                args: ['toolbar', { static: true }]\n            }], ganttClass: [{\n                type: HostBinding,\n                args: ['class.gantt']\n            }] } });\nconst GANTT_UPPER_TOKEN = new InjectionToken('GANTT_UPPER_TOKEN');\n\nclass NgxGanttTableColumnComponent {\n    set width(width) {\n        this.columnWidth = coerceCssPixelValue(width);\n    }\n    constructor(ganttUpper, elementRef) {\n        this.ganttUpper = ganttUpper;\n        this.elementRef = elementRef;\n    }\n    get classList() {\n        return this.elementRef.nativeElement.classList;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttTableColumnComponent, deps: [{ token: GANTT_UPPER_TOKEN }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: NgxGanttTableColumnComponent, selector: \"ngx-gantt-column\", inputs: { width: \"width\", name: \"name\", showExpandIcon: \"showExpandIcon\" }, host: { classAttribute: \"gantt-table-column\" }, queries: [{ propertyName: \"templateRef\", first: true, predicate: [\"cell\"], descendants: true, static: true }, { propertyName: \"headerTemplateRef\", first: true, predicate: [\"header\"], descendants: true, static: true }], ngImport: i0, template: '', isInline: true }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttTableColumnComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'ngx-gantt-column',\n                    template: '',\n                    host: {\n                        class: 'gantt-table-column'\n                    }\n                }]\n        }], ctorParameters: function () { return [{ type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }, { type: i0.ElementRef }]; }, propDecorators: { width: [{\n                type: Input\n            }], name: [{\n                type: Input\n            }], showExpandIcon: [{\n                type: Input\n            }], templateRef: [{\n                type: ContentChild,\n                args: ['cell', { static: true }]\n            }], headerTemplateRef: [{\n                type: ContentChild,\n                args: ['header', { static: true }]\n            }] } });\n\nclass NgxGanttTableComponent {\n    constructor() {\n        this.draggable = false;\n        this.dragDropped = new EventEmitter();\n        this.dragStarted = new EventEmitter();\n        this.dragEnded = new EventEmitter();\n        this.columnChanges = new EventEmitter();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttTableComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: NgxGanttTableComponent, selector: \"ngx-gantt-table\", inputs: { draggable: \"draggable\", dropEnterPredicate: \"dropEnterPredicate\" }, outputs: { dragDropped: \"dragDropped\", dragStarted: \"dragStarted\", dragEnded: \"dragEnded\", columnChanges: \"columnChanges\" }, queries: [{ propertyName: \"rowBeforeTemplate\", first: true, predicate: [\"rowBeforeSlot\"], descendants: true, static: true }, { propertyName: \"rowAfterTemplate\", first: true, predicate: [\"rowAfterSlot\"], descendants: true, static: true }, { propertyName: \"tableEmptyTemplate\", first: true, predicate: [\"tableEmpty\"], descendants: true, static: true }, { propertyName: \"tableFooterTemplate\", first: true, predicate: [\"tableFooter\"], descendants: true, static: true }], ngImport: i0, template: '', isInline: true }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttTableComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'ngx-gantt-table',\n                    template: ''\n                }]\n        }], propDecorators: { draggable: [{\n                type: Input\n            }], dropEnterPredicate: [{\n                type: Input\n            }], dragDropped: [{\n                type: Output\n            }], dragStarted: [{\n                type: Output\n            }], dragEnded: [{\n                type: Output\n            }], columnChanges: [{\n                type: Output\n            }], rowBeforeTemplate: [{\n                type: ContentChild,\n                args: ['rowBeforeSlot', { static: true }]\n            }], rowAfterTemplate: [{\n                type: ContentChild,\n                args: ['rowAfterSlot', { static: true }]\n            }], tableEmptyTemplate: [{\n                type: ContentChild,\n                args: ['tableEmpty', { static: true }]\n            }], tableFooterTemplate: [{\n                type: ContentChild,\n                args: ['tableFooter', { static: true }]\n            }] } });\n\nconst GANTT_ABSTRACT_TOKEN = new InjectionToken('gantt-abstract-token');\n\nconst supports = (typeof window !== 'undefined' && !!window.CSS && CSS.supports) || (() => false);\n/**\n * Note: we don't need to add vendor prefixes within `.scss` files since they're added automatically.\n * This function is necessary when the `element.style` is updated directly through the JavaScript.\n * This is not required to be used with CSS properties that don't require vendor prefixes (e.g. `opacity`).\n */\nfunction setStyleWithVendorPrefix({ element, style, value }) {\n    element.style[style] = value;\n    if (supports(`-webkit-${style}: ${value}`)) {\n        // Note: some browsers still require setting `-webkit` vendor prefix. E.g. Mozilla 49 has implemented\n        // the 3D support for `transform`, but it requires setting `-webkit-` prefix.\n        element.style[`-webkit-${style}`] = value;\n    }\n}\n\nconst defaultColumnWidth = 100;\nconst minColumnWidth = 80;\nclass GanttTableHeaderComponent {\n    constructor(elementRef, gantt, cdr) {\n        this.elementRef = elementRef;\n        this.gantt = gantt;\n        this.cdr = cdr;\n        this.tableWidth = 0;\n        this.unsubscribe$ = new Subject();\n        this.className = `gantt-table-header `;\n    }\n    ngOnInit() {\n        this.columnsChange();\n        this.columns.changes.pipe(takeUntil$1(this.unsubscribe$)).subscribe(() => {\n            this.columnsChange();\n            this.gantt.cdr.detectChanges();\n        });\n    }\n    columnsChange() {\n        let tableWidth = 0;\n        this.columns.forEach((column) => {\n            if (!column.columnWidth) {\n                column.columnWidth = coerceCssPixelValue(defaultColumnWidth);\n            }\n            tableWidth += Number(column.columnWidth.replace('px', ''));\n        });\n        this.tableWidth = tableWidth;\n    }\n    dragFixed(config) {\n        if (config.movedWidth < config.minWidth) {\n            setStyleWithVendorPrefix({\n                element: config.target,\n                style: 'transform',\n                value: `translate3d(${config.minWidth - config.originWidth}px, 0, 0)`\n            });\n        }\n    }\n    onResizeStarted(event) {\n        const target = event.source.element.nativeElement;\n        this.dragStartLeft = target.getBoundingClientRect().left;\n    }\n    onResizeMoved(event, column) {\n        const target = event.source.element.nativeElement;\n        const left = target.getBoundingClientRect().left;\n        let originWidth;\n        let movedWidth;\n        let minWidth;\n        if (column) {\n            originWidth = parseInt(column.columnWidth, 10);\n            movedWidth = originWidth + (left - this.dragStartLeft);\n            minWidth = minColumnWidth;\n        }\n        else {\n            originWidth = this.elementRef.nativeElement.getBoundingClientRect().width;\n            movedWidth = originWidth + (left - this.dragStartLeft);\n            minWidth = minColumnWidth * this.columns.length;\n        }\n        this.dragFixed({\n            target,\n            originWidth,\n            movedWidth,\n            minWidth\n        });\n        this.showAuxiliaryLine(event);\n    }\n    onResizeEnded(event, column) {\n        const beforeWidth = parseInt(column.columnWidth, 10);\n        const target = event.source.element.nativeElement;\n        const left = target.getBoundingClientRect().left;\n        const width = parseInt(column.columnWidth, 10) + (left - this.dragStartLeft);\n        const columnWidth = Math.max(width || 0, minColumnWidth);\n        column.columnWidth = coerceCssPixelValue(columnWidth);\n        if (this.gantt.table) {\n            this.gantt.table.columnChanges.emit({ columns: this.columns });\n        }\n        this.tableWidth = this.tableWidth - beforeWidth + columnWidth;\n        this.hideAuxiliaryLine();\n        event.source.reset();\n    }\n    onOverallResizeEnded(event) {\n        const target = event.source.element.nativeElement;\n        const left = target.getBoundingClientRect().left;\n        const tableWidth = this.elementRef.nativeElement.getBoundingClientRect().width;\n        const dragWidth = left - this.dragStartLeft;\n        let tempWidth = 0;\n        this.columns.forEach((column) => {\n            const lastColumnWidth = parseInt(column.columnWidth, 10);\n            const distributeWidth = parseInt(String(dragWidth * (lastColumnWidth / tableWidth)), 10);\n            const columnWidth = Math.max(lastColumnWidth + distributeWidth || 0, minColumnWidth);\n            column.columnWidth = coerceCssPixelValue(columnWidth);\n            tempWidth += columnWidth;\n        });\n        this.tableWidth = tempWidth;\n        if (this.gantt.table) {\n            this.gantt.table.columnChanges.emit({ columns: this.columns });\n        }\n        this.hideAuxiliaryLine();\n        event.source.reset();\n    }\n    showAuxiliaryLine(event) {\n        const tableRect = this.elementRef.nativeElement.getBoundingClientRect();\n        const targetRect = event.source.element.nativeElement.getBoundingClientRect();\n        const distance = { x: targetRect.left - tableRect.left, y: targetRect.top - tableRect.top };\n        this.resizeLineElementRef.nativeElement.style.left = `${distance.x}px`;\n        this.resizeLineElementRef.nativeElement.style.display = 'block';\n    }\n    hideAuxiliaryLine() {\n        this.resizeLineElementRef.nativeElement.style.display = 'none';\n    }\n    ngOnDestroy() {\n        this.unsubscribe$.next();\n        this.unsubscribe$.complete();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttTableHeaderComponent, deps: [{ token: i0.ElementRef }, { token: GANTT_ABSTRACT_TOKEN }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttTableHeaderComponent, selector: \"gantt-table-header\", inputs: { columns: \"columns\" }, host: { properties: { \"class\": \"this.className\" } }, viewQueries: [{ propertyName: \"resizeLineElementRef\", first: true, predicate: [\"resizeLine\"], descendants: true, static: true }], ngImport: i0, template: \"<div class=\\\"d-flex\\\">\\n  <div class=\\\"gantt-table-column\\\" *ngFor=\\\"let column of columns; let i = index\\\" [style.width]=\\\"column.columnWidth\\\">\\n    <ng-container *ngIf=\\\"column.headerTemplateRef; else default\\\" [ngTemplateOutlet]=\\\"column.headerTemplateRef\\\"> </ng-container>\\n    <ng-template #default>\\n      {{ column.name }}\\n    </ng-template>\\n    <div\\n      class=\\\"column-resize-handle\\\"\\n      cdkDrag\\n      cdkDragLockAxis=\\\"x\\\"\\n      cdkDragBoundary=\\\".gantt\\\"\\n      (cdkDragMoved)=\\\"onResizeMoved($event, column)\\\"\\n      (cdkDragStarted)=\\\"onResizeStarted($event)\\\"\\n      (cdkDragEnded)=\\\"onResizeEnded($event, column)\\\"\\n    ></div>\\n  </div>\\n</div>\\n\\n<div\\n  class=\\\"table-resize-handle\\\"\\n  cdkDrag\\n  cdkDragLockAxis=\\\"x\\\"\\n  cdkDragBoundary=\\\".gantt\\\"\\n  (cdkDragMoved)=\\\"onResizeMoved($event)\\\"\\n  (cdkDragStarted)=\\\"onResizeStarted($event)\\\"\\n  (cdkDragEnded)=\\\"onOverallResizeEnded($event)\\\"\\n></div>\\n\\n<div #resizeLine class=\\\"table-resize-auxiliary-line\\\"></div>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i2.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragData\", \"cdkDragLockAxis\", \"cdkDragRootElement\", \"cdkDragBoundary\", \"cdkDragStartDelay\", \"cdkDragFreeDragPosition\", \"cdkDragDisabled\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragPreviewContainer\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttTableHeaderComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'gantt-table-header', template: \"<div class=\\\"d-flex\\\">\\n  <div class=\\\"gantt-table-column\\\" *ngFor=\\\"let column of columns; let i = index\\\" [style.width]=\\\"column.columnWidth\\\">\\n    <ng-container *ngIf=\\\"column.headerTemplateRef; else default\\\" [ngTemplateOutlet]=\\\"column.headerTemplateRef\\\"> </ng-container>\\n    <ng-template #default>\\n      {{ column.name }}\\n    </ng-template>\\n    <div\\n      class=\\\"column-resize-handle\\\"\\n      cdkDrag\\n      cdkDragLockAxis=\\\"x\\\"\\n      cdkDragBoundary=\\\".gantt\\\"\\n      (cdkDragMoved)=\\\"onResizeMoved($event, column)\\\"\\n      (cdkDragStarted)=\\\"onResizeStarted($event)\\\"\\n      (cdkDragEnded)=\\\"onResizeEnded($event, column)\\\"\\n    ></div>\\n  </div>\\n</div>\\n\\n<div\\n  class=\\\"table-resize-handle\\\"\\n  cdkDrag\\n  cdkDragLockAxis=\\\"x\\\"\\n  cdkDragBoundary=\\\".gantt\\\"\\n  (cdkDragMoved)=\\\"onResizeMoved($event)\\\"\\n  (cdkDragStarted)=\\\"onResizeStarted($event)\\\"\\n  (cdkDragEnded)=\\\"onOverallResizeEnded($event)\\\"\\n></div>\\n\\n<div #resizeLine class=\\\"table-resize-auxiliary-line\\\"></div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [GANTT_ABSTRACT_TOKEN]\n                }] }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { columns: [{\n                type: Input\n            }], resizeLineElementRef: [{\n                type: ViewChild,\n                args: ['resizeLine', { static: true }]\n            }], className: [{\n                type: HostBinding,\n                args: ['class']\n            }] } });\n\nconst angleRight = `<svg xmlns=\"http://www.w3.org/2000/svg\" fit=\"\"  preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><g id=\"amnavigation/angle-right\" stroke-width=\"1\" fill-rule=\"evenodd\"><path d=\"M7.978 11.498l-.005.005L2.3 5.831 3.13 5l4.848 4.848L12.826 5l.83.831-5.673 5.672-.005-.005z\"   transform=\"rotate(-90 7.978 8.252)\"></path></g></svg>`;\nconst angleDown = `<svg xmlns=\"http://www.w3.org/2000/svg\" fit=\"\"  preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><g id=\"aknavigation/angle-down\" stroke-width=\"1\" fill-rule=\"evenodd\"><path d=\"M7.978 11.997l-.005.006L2.3 6.33l.83-.831 4.848 4.848L12.826 5.5l.83.83-5.673 5.673-.005-.006z\" ></path></g></svg>`;\nconst plusSquare = `<svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\"   preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><g id=\"kxaction/plus-square\" stroke-width=\"1\" fill-rule=\"evenodd\"><path d=\"M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1.2a.8.8 0 0 0-.8.8v12a.8.8 0 0 0 .8.8h12a.8.8 0 0 0 .8-.8V2a.8.8 0 0 0-.8-.8H2zm5.45 6.2V4.75h1.2V7.4h2.65v1.2H8.65v2.65h-1.2V8.6H4.8V7.4h2.65z\"></path></g></svg>`;\nconst minusSquare = `<svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><g id=\"jnaction/minus-square\" stroke-width=\"1\" fill-rule=\"evenodd\"><path d=\"M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1.2a.8.8 0 0 0-.8.8v12a.8.8 0 0 0 .8.8h12a.8.8 0 0 0 .8-.8V2a.8.8 0 0 0-.8-.8H2zm2.8 6.2h6.5v1.2H4.8V7.4z\"></path></g></svg>`;\nconst loadingIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  viewBox=\"0 0 50 50\" style=\"enable-background:new 0 0 50 50\" xml:space=\"preserve\">\n<path fill=\"#aaa\" d=\"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z\" transform=\"rotate(275.098 25 25)\">\n    <animateTransform attributeType=\"xml\" attributeName=\"transform\" type=\"rotate\" from=\"0 25 25\" to=\"360 25 25\" dur=\"0.6s\" repeatCount=\"indefinite\"></animateTransform>\n</path>\n</svg>`;\nconst emptyIcon = `<svg\nwidth=\"148px\"\nheight=\"134px\"\nviewBox=\"0 0 148 134\"\nversion=\"1.1\"\nxmlns=\"http://www.w3.org/2000/svg\"\nxmlns:xlink=\"http://www.w3.org/1999/xlink\"\n>\n<defs>\n  <filter x=\"0.0%\" y=\"0.0%\" width=\"100.0%\" height=\"100.0%\" filterUnits=\"objectBoundingBox\" id=\"filter-1\">\n    <feGaussianBlur stdDeviation=\"0\" in=\"SourceGraphic\"></feGaussianBlur>\n  </filter>\n</defs>\n<g id=\"148x134\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n  <g id=\"编组-6\" transform=\"translate(1.000000, 1.000000)\">\n    <ellipse\n      id=\"椭圆形\"\n      fill=\"#EDEEF2\"\n      opacity=\"0.3\"\n      filter=\"url(#filter-1)\"\n      cx=\"73.0800017\"\n      cy=\"115.920003\"\n      rx=\"73.0800017\"\n      ry=\"16.8000004\"\n    ></ellipse>\n    <g id=\"编组-5\" transform=\"translate(15.120000, 0.000000)\">\n      <polygon\n        id=\"矩形\"\n        fill=\"#E2E4E9\"\n        points=\"19.2789848 49.5600011 99.1200023 48.7200011 117.600003 75.9297673 117.600003 92.313049 0 92.313049 0 75.0356267\"\n      ></polygon>\n      <path\n        d=\"M23.5200005,0 L94.0800002,0 C97.7913538,2.06413823e-16 100.8,3.00864655 100.8,6.72000015 L100.8,99.1200023 L100.8,99.1200023 L16.8000004,99.1200023 L16.8000004,6.72000015 C16.8000004,3.00864655 19.8086469,1.56994302e-15 23.5200005,0 Z\"\n        id=\"矩形\"\n        fill=\"#F9FAFB\"\n      ></path>\n      <path\n        d=\"M30.9200007,12.4400003 L86.6800019,12.4400003 C88.5356787,12.4400003 90.040002,13.9443236 90.040002,15.8000004 L90.040002,42.000001 C90.040002,43.8556778 88.5356787,45.360001 86.6800019,45.360001 L30.9200007,45.360001 C29.0643239,45.360001 27.5600006,43.8556778 27.5600006,42.000001 L27.5600006,15.8000004 C27.5600006,13.9443236 29.0643239,12.4400003 30.9200007,12.4400003 Z\"\n        id=\"矩形\"\n        fill=\"#E8EAEE\"\n      ></path>\n      <text\n        id=\"&lt;/null&gt;\"\n        font-family=\"PingFangSC-Medium, PingFang SC\"\n        font-size=\"15.1200003\"\n        font-weight=\"400\"\n        fill=\"#BCBECD\"\n      >\n        <tspan x=\"33.6000008\" y=\"32.8000004\">&lt;/null&gt;</tspan>\n      </text>\n      <rect id=\"矩形\" fill=\"#E8EAEE\" x=\"27.5600006\" y=\"52.0800012\" width=\"61.4800014\" height=\"5.04000011\" rx=\"2.52000006\"></rect>\n      <rect\n        id=\"矩形备份\"\n        fill=\"#E8EAEE\"\n        x=\"27.5600006\"\n        y=\"63.8400014\"\n        width=\"61.4800014\"\n        height=\"5.04000011\"\n        rx=\"2.52000006\"\n      ></rect>\n      <path\n        d=\"M0,75.6000017 L29.280235,75.6000017 C32.0637502,75.6000017 34.3202352,77.8564866 34.3202352,80.6400018 L34.3202352,86.2591426 C34.3202352,89.0426578 36.5767201,91.2991427 39.3602353,91.2991427 L78.4136737,91.2991427 C81.1971889,91.2991427 83.4536738,89.0426578 83.4536738,86.2591426 L83.4536738,80.6400018 C83.4536738,77.8564866 85.7101587,75.6000017 88.4936739,75.6000017 L117.600003,75.6000017 L117.600003,75.6000017 L117.600003,110.880003 C117.600003,115.519195 113.839194,119.280003 109.200002,119.280003 L8.40000019,119.280003 C3.76080819,119.280003 -6.53729019e-15,115.519195 0,110.880003 L0,75.6000017 L0,75.6000017 Z\"\n        id=\"矩形\"\n        fill=\"#EDEFF2\"\n      ></path>\n    </g>\n  </g>\n</g>\n</svg>`;\nconst dragIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" fit=\"\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\"><g id=\"aijaction/drag--\" stroke-width=\"1\" fill-rule=\"evenodd\"><g id=\"aij拖动\" transform=\"translate(5 1)\" fill-rule=\"nonzero\"><path d=\"M1 2a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM1 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\" id=\"aij形状结合\"></path></g></g></svg>`;\nconst icons = {\n    'angle-right': angleRight,\n    'angle-down': angleDown,\n    'plus-square': plusSquare,\n    'minus-square': minusSquare,\n    loading: loadingIcon,\n    empty: emptyIcon,\n    drag: dragIcon\n};\n\nclass GanttIconComponent {\n    set iconName(name) {\n        this.setSvg(name);\n    }\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        this.isIcon = true;\n    }\n    setSvg(name) {\n        const iconSvg = icons[name];\n        if (iconSvg) {\n            this.elementRef.nativeElement.innerHTML = iconSvg;\n        }\n        else {\n            this.elementRef.nativeElement.innerHTML = '';\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttIconComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttIconComponent, selector: \"gantt-icon\", inputs: { iconName: \"iconName\" }, host: { properties: { \"class.gantt-icon\": \"this.isIcon\" } }, ngImport: i0, template: '', isInline: true }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttIconComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'gantt-icon',\n                    template: ''\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { isIcon: [{\n                type: HostBinding,\n                args: ['class.gantt-icon']\n            }], iconName: [{\n                type: Input\n            }] } });\n\nclass IsGanttRangeItemPipe {\n    transform(value) {\n        return value === GanttItemType.range;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: IsGanttRangeItemPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe }); }\n    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"16.2.0\", ngImport: i0, type: IsGanttRangeItemPipe, name: \"isGanttRangeItem\" }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: IsGanttRangeItemPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'isGanttRangeItem'\n                }]\n        }] });\nclass IsGanttBarItemPipe {\n    transform(value) {\n        return value === GanttItemType.bar;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: IsGanttBarItemPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe }); }\n    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"16.2.0\", ngImport: i0, type: IsGanttBarItemPipe, name: \"isGanttBarItem\" }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: IsGanttBarItemPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'isGanttBarItem'\n                }]\n        }] });\nclass IsGanttCustomItemPipe {\n    transform(value) {\n        return value === GanttItemType.custom;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: IsGanttCustomItemPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe }); }\n    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"16.2.0\", ngImport: i0, type: IsGanttCustomItemPipe, name: \"isGanttCustomItem\" }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: IsGanttCustomItemPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'isGanttCustomItem'\n                }]\n        }] });\n\nclass GanttTableBodyComponent {\n    set viewportItems(data) {\n        const firstData = data[0];\n        if (firstData && firstData.hasOwnProperty('items')) {\n            this.hasGroup = true;\n        }\n        this.ganttTableEmptyClass = data?.length ? false : true;\n        this._viewportItems = data;\n    }\n    get viewportItems() {\n        return this._viewportItems;\n    }\n    constructor(gantt, ganttUpper, cdr, document) {\n        this.gantt = gantt;\n        this.ganttUpper = ganttUpper;\n        this.cdr = cdr;\n        this.document = document;\n        this.draggable = false;\n        this.dragDropped = new EventEmitter();\n        this.dragStarted = new EventEmitter();\n        this.dragEnded = new EventEmitter();\n        this.itemClick = new EventEmitter();\n        this.ganttTableClass = true;\n        this.ganttTableEmptyClass = false;\n        this.ganttTableDragging = false;\n        this.hasExpandIcon = false;\n        // 缓存 Element 和 DragRef 的关系，方便在 Item 拖动时查找\n        this.itemDragsMap = new Map();\n        this.itemDragMoved = new Subject();\n        this.destroy$ = new Subject();\n    }\n    ngOnInit() {\n        this.columns.changes.pipe(startWith(this.columns), takeUntil$1(this.destroy$)).subscribe(() => {\n            this.hasExpandIcon = false;\n            this.columns.forEach((column) => {\n                if (!column.columnWidth) {\n                    column.columnWidth = coerceCssPixelValue(defaultColumnWidth);\n                }\n                if (column.showExpandIcon) {\n                    this.hasExpandIcon = true;\n                }\n            });\n            this.cdr.detectChanges();\n        });\n    }\n    ngAfterViewInit() {\n        this.cdkDrags.changes\n            .pipe(startWith(this.cdkDrags), takeUntil$1(this.destroy$))\n            .subscribe((drags) => {\n            this.itemDragsMap.clear();\n            drags.forEach((drag) => {\n                if (drag.data) {\n                    // cdkDrag 变化时，缓存 Element 与 DragRef 的关系，方便 Drag Move 时查找\n                    this.itemDragsMap.set(drag.element.nativeElement, drag);\n                }\n            });\n        });\n        this.itemDragMoved\n            .pipe(auditTime(30), \n        //  auditTime 可能会导致拖动结束后仍然执行 moved ，所以通过判断 dragging 状态来过滤无效 moved\n        filter((event) => event.source._dragRef.isDragging()), takeUntil$1(this.destroy$))\n            .subscribe((event) => {\n            this.onItemDragMoved(event);\n        });\n    }\n    expandGroup(group) {\n        this.gantt.expandGroup(group);\n    }\n    expandChildren(event, item) {\n        event.stopPropagation();\n        this.gantt.expandChildren(item);\n    }\n    onItemDragStarted(event) {\n        this.ganttTableDragging = true;\n        // 拖动开始时隐藏所有的子项\n        const children = this.getChildrenElementsByElement(event.source.element.nativeElement);\n        children.forEach((element) => {\n            element.classList.add('drag-item-hide');\n        });\n        this.dragStarted.emit({\n            source: event.source.data?.origin,\n            sourceParent: this.getParentByItem(event.source.data)?.origin\n        });\n    }\n    emitItemDragMoved(event) {\n        this.itemDragMoved.next(event);\n    }\n    onItemDragMoved(event) {\n        // 通过鼠标位置查找对应的目标 Item 元素\n        let currentPointElement = this.document.elementFromPoint(event.pointerPosition.x, event.pointerPosition.y);\n        if (!currentPointElement) {\n            this.cleanupDragArtifacts();\n            return;\n        }\n        let targetElement = currentPointElement.classList.contains('gantt-table-item')\n            ? currentPointElement\n            : currentPointElement.closest('.gantt-table-item');\n        if (!targetElement) {\n            this.cleanupDragArtifacts();\n            return;\n        }\n        // 缓存放置目标Id 并计算鼠标相对应的位置\n        this.itemDropTarget = {\n            id: this.itemDragsMap.get(targetElement)?.data.id,\n            position: this.getTargetPosition(targetElement, event)\n        };\n        // 执行外部传入的 dropEnterPredicate 判断是否允许拖入目标项\n        if (this.dropEnterPredicate) {\n            const targetDragRef = this.itemDragsMap.get(targetElement);\n            if (this.dropEnterPredicate({\n                source: event.source.data.origin,\n                target: targetDragRef.data.origin,\n                dropPosition: this.itemDropTarget.position\n            })) {\n                this.showDropPositionPlaceholder(targetElement);\n            }\n            else {\n                this.itemDropTarget = null;\n                this.cleanupDragArtifacts(false);\n            }\n        }\n        else {\n            this.showDropPositionPlaceholder(targetElement);\n        }\n    }\n    onItemDragEnded(event) {\n        this.ganttTableDragging = false;\n        this.dragEnded.emit({\n            source: event.source.data?.origin,\n            sourceParent: this.getParentByItem(event.source.data)?.origin\n        });\n        // dropEnterPredicate 方法返回值为 false 时，始终未执行 onListDropped，所以只能在 dragEnded 中移除 drag-item-hide\n        const children = this.getChildrenElementsByElement(event.source.element.nativeElement);\n        children.forEach((element) => {\n            element.classList.remove('drag-item-hide');\n        });\n    }\n    onListDropped(event) {\n        if (!this.itemDropTarget) {\n            return;\n        }\n        const sourceItem = event.item.data;\n        const sourceParent = this.getParentByItem(sourceItem);\n        const sourceChildren = this.getExpandChildrenByDrag(event.item);\n        const targetDragRef = this.cdkDrags.find((item) => item.data?.id === this.itemDropTarget.id);\n        const targetItem = targetDragRef?.data;\n        const targetParent = this.getParentByItem(targetItem);\n        this.removeItem(sourceItem, sourceChildren);\n        switch (this.itemDropTarget.position) {\n            case 'before':\n            case 'after':\n                this.insertItem(targetItem, sourceItem, sourceChildren, this.itemDropTarget.position);\n                sourceItem.updateLevel(targetItem.level);\n                break;\n            case 'inside':\n                this.insertChildrenItem(targetItem, sourceItem, sourceChildren);\n                sourceItem.updateLevel(targetItem.level + 1);\n                break;\n        }\n        this.dragDropped.emit({\n            source: sourceItem.origin,\n            sourceParent: sourceParent?.origin,\n            target: targetItem.origin,\n            targetParent: targetParent?.origin,\n            dropPosition: this.itemDropTarget.position\n        });\n        this.cleanupDragArtifacts(true);\n    }\n    trackBy(index, item) {\n        return item.id || index;\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n    removeItem(item, children) {\n        this.viewportItems.splice(this.viewportItems.indexOf(item), 1 + children.length);\n        this.flatItems.splice(this.flatItems.indexOf(item), 1 + children.length);\n    }\n    insertItem(target, inserted, children, position) {\n        if (position === 'before') {\n            this.viewportItems.splice(this.viewportItems.indexOf(target), 0, inserted, ...children);\n            this.flatItems.splice(this.flatItems.indexOf(target), 0, inserted, ...children);\n        }\n        else {\n            const dragRef = this.cdkDrags.find((drag) => drag.data === target);\n            // 如果目标项是展开的，插入的 index 位置需要考虑子项的数量\n            let childrenCount = 0;\n            if (target.expanded) {\n                childrenCount = this.getChildrenElementsByElement(dragRef.element.nativeElement)?.length || 0;\n            }\n            this.viewportItems.splice(this.viewportItems.indexOf(target) + 1 + childrenCount, 0, inserted, ...children);\n            this.flatItems.splice(this.flatItems.indexOf(target) + 1 + childrenCount, 0, inserted, ...children);\n        }\n    }\n    insertChildrenItem(target, inserted, children) {\n        if (target.expanded) {\n            this.viewportItems.splice(this.viewportItems.indexOf(target) + target.children.length + 1, 0, inserted, ...children);\n            this.flatItems.splice(this.flatItems.indexOf(target) + target.children.length + 1, 0, inserted, ...children);\n        }\n        target.children.push(inserted);\n    }\n    getParentByItem(item) {\n        return (this.flatItems || []).find((n) => {\n            return n.children?.includes(item);\n        });\n    }\n    getExpandChildrenByDrag(dragRef) {\n        if (!dragRef.data.expanded) {\n            return [];\n        }\n        else {\n            const childrenElements = this.getChildrenElementsByElement(dragRef.element.nativeElement);\n            return childrenElements.map((element) => this.itemDragsMap.get(element).data);\n        }\n    }\n    getChildrenElementsByElement(dragElement) {\n        // 通过循环持续查找 next element，如果 element 的 level 小于当前 item 的 level，则为它的 children\n        const children = [];\n        const dragRef = this.itemDragsMap.get(dragElement);\n        // 如果当前的 Drag 正在拖拽，会创建 PlaceholderElement 占位，所以以 PlaceholderElement 向下查找\n        let nextElement = (dragRef.getPlaceholderElement() || dragElement).nextElementSibling;\n        let nextDragRef = this.itemDragsMap.get(nextElement);\n        while (nextDragRef && nextDragRef.data.level > dragRef.data.level) {\n            children.push(nextElement);\n            nextElement = nextElement.nextElementSibling;\n            nextDragRef = this.itemDragsMap.get(nextElement);\n        }\n        return children;\n    }\n    getTargetPosition(target, event) {\n        const targetRect = target.getBoundingClientRect();\n        const beforeOrAfterGap = targetRect.height * 0.3;\n        // 将 Item 高度分为上中下三段，其中上下的 Gap 为 height 的 30%，通过判断鼠标位置在哪一段 gap 来计算对应的位置\n        if (event.pointerPosition.y - targetRect.top < beforeOrAfterGap) {\n            return 'before';\n        }\n        else if (event.pointerPosition.y >= targetRect.bottom - beforeOrAfterGap) {\n            return 'after';\n        }\n        else {\n            return 'inside';\n        }\n    }\n    showDropPositionPlaceholder(targetElement) {\n        this.cleanupDragArtifacts();\n        if (this.itemDropTarget && targetElement) {\n            targetElement.classList.add(`drop-position-${this.itemDropTarget.position}`);\n        }\n    }\n    cleanupDragArtifacts(dropped = false) {\n        if (dropped) {\n            this.itemDropTarget = null;\n            this.document.querySelectorAll('.drag-item-hide').forEach((element) => element.classList.remove('drag-item-hide'));\n        }\n        this.document.querySelectorAll('.drop-position-before').forEach((element) => element.classList.remove('drop-position-before'));\n        this.document.querySelectorAll('.drop-position-after').forEach((element) => element.classList.remove('drop-position-after'));\n        this.document.querySelectorAll('.drop-position-inside').forEach((element) => element.classList.remove('drop-position-inside'));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttTableBodyComponent, deps: [{ token: GANTT_ABSTRACT_TOKEN }, { token: GANTT_UPPER_TOKEN }, { token: i0.ChangeDetectorRef }, { token: DOCUMENT }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttTableBodyComponent, selector: \"gantt-table-body\", inputs: { viewportItems: \"viewportItems\", flatItems: \"flatItems\", columns: \"columns\", groupTemplate: \"groupTemplate\", emptyTemplate: \"emptyTemplate\", rowBeforeTemplate: \"rowBeforeTemplate\", rowAfterTemplate: \"rowAfterTemplate\", draggable: \"draggable\", dropEnterPredicate: \"dropEnterPredicate\" }, outputs: { dragDropped: \"dragDropped\", dragStarted: \"dragStarted\", dragEnded: \"dragEnded\", itemClick: \"itemClick\" }, host: { properties: { \"class.gantt-table-draggable\": \"this.draggable\", \"class.gantt-table-body\": \"this.ganttTableClass\", \"class.gantt-table-empty\": \"this.ganttTableEmptyClass\", \"class.gantt-table-dragging\": \"this.ganttTableDragging\" } }, viewQueries: [{ propertyName: \"cdkDrags\", predicate: (CdkDrag), descendants: true }], ngImport: i0, template: \"<div\\n  class=\\\"gantt-table-body-container\\\"\\n  cdkDropList\\n  [cdkDropListAutoScrollStep]=\\\"6\\\"\\n  [cdkDropListData]=\\\"viewportItems\\\"\\n  [cdkDropListSortingDisabled]=\\\"true\\\"\\n  (cdkDropListDropped)=\\\"onListDropped($event)\\\"\\n>\\n  <ng-container *ngIf=\\\"!viewportItems?.length\\\">\\n    <ng-container *ngIf=\\\"!emptyTemplate\\\">\\n      <gantt-icon class=\\\"empty-icon\\\" iconName=\\\"empty\\\"></gantt-icon>\\n      <div class=\\\"empty-text\\\">\\u6CA1\\u6709\\u6570\\u636E</div>\\n    </ng-container>\\n    <ng-template [ngTemplateOutlet]=\\\"emptyTemplate\\\"></ng-template>\\n  </ng-container>\\n\\n  <ng-container *ngIf=\\\"viewportItems && viewportItems.length > 0\\\">\\n    <ng-container *ngFor=\\\"let item of viewportItems; trackBy: trackBy\\\">\\n      <div class=\\\"gantt-table-group\\\" [ngClass]=\\\"item.class\\\" *ngIf=\\\"item.items\\\">\\n        <div class=\\\"gantt-table-group-title\\\" [class.expanded]=\\\"item.expanded\\\" (click)=\\\"expandGroup(item)\\\">\\n          <gantt-icon class=\\\"expand-icon\\\" [iconName]=\\\"item.expanded ? 'angle-down' : 'angle-right'\\\"></gantt-icon>\\n          <ng-container *ngIf=\\\"groupTemplate; else default\\\">\\n            <ng-template\\n              [ngTemplateOutlet]=\\\"groupTemplate\\\"\\n              [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, group: item.origin }\\\"\\n            ></ng-template>\\n          </ng-container>\\n          <ng-template #default>\\n            <span class=\\\"group-title\\\">{{ item.title }}</span>\\n          </ng-template>\\n        </div>\\n      </div>\\n\\n      <div\\n        *ngIf=\\\"!item.items\\\"\\n        (click)=\\\"itemClick.emit({ event: $event, selectedValue: item.origin })\\\"\\n        cdkDrag\\n        [cdkDragData]=\\\"item\\\"\\n        [cdkDragDisabled]=\\\"(draggable && item.itemDraggable === false) || !draggable\\\"\\n        (cdkDragStarted)=\\\"onItemDragStarted($event)\\\"\\n        (cdkDragEnded)=\\\"onItemDragEnded($event)\\\"\\n        (cdkDragMoved)=\\\"emitItemDragMoved($event)\\\"\\n        class=\\\"gantt-table-item\\\"\\n        [class.gantt-table-item-with-group]=\\\"hasGroup\\\"\\n        [class.gantt-table-item-first-level-group]=\\\"item.level === 0 && (item.type | isGanttRangeItem)\\\"\\n        [style.height.px]=\\\"gantt.styles.lineHeight\\\"\\n        [style.lineHeight.px]=\\\"gantt.styles.lineHeight\\\"\\n        [class.gantt-table-item-active]=\\\"ganttUpper.isSelected(item.id)\\\"\\n      >\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"rowBeforeTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, item: item.origin }\\\"\\n        ></ng-template>\\n\\n        <div [classList]=\\\"column.classList\\\" *ngFor=\\\"let column of columns; let first = first\\\" [style.width]=\\\"column.columnWidth\\\">\\n          <!-- drag icon -->\\n          <gantt-icon\\n            *ngIf=\\\"first && draggable\\\"\\n            class=\\\"gantt-drag-handle\\\"\\n            iconName=\\\"drag\\\"\\n            cdkDragHandle\\n            [cdkDragHandleDisabled]=\\\"(draggable && item.itemDraggable === false) || !draggable\\\"\\n          ></gantt-icon>\\n          <!-- expand icon -->\\n          <div\\n            *ngIf=\\\"column?.showExpandIcon || (!hasExpandIcon && first)\\\"\\n            class=\\\"gantt-expand-icon\\\"\\n            [style.marginLeft.px]=\\\"item.level * 20\\\"\\n          >\\n            <ng-container *ngIf=\\\"item.level < gantt.maxLevel - 1 && ((gantt.async && item.expandable) || item.children?.length > 0)\\\">\\n              <gantt-icon\\n                *ngIf=\\\"!item.loading\\\"\\n                class=\\\"expand-icon\\\"\\n                [iconName]=\\\"item.expanded ? 'angle-down' : 'angle-right'\\\"\\n                (click)=\\\"expandChildren($event, item)\\\"\\n              >\\n              </gantt-icon>\\n              <gantt-icon *ngIf=\\\"item.loading\\\" [iconName]=\\\"'loading'\\\"></gantt-icon>\\n            </ng-container>\\n          </div>\\n          <!-- column content -->\\n          <div class=\\\"gantt-table-column-content\\\">\\n            <ng-template\\n              [ngTemplateOutlet]=\\\"column.templateRef\\\"\\n              [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, item: item.origin }\\\"\\n            ></ng-template>\\n          </div>\\n        </div>\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"rowAfterTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, item: item.origin }\\\"\\n        ></ng-template>\\n      </div>\\n    </ng-container>\\n  </ng-container>\\n</div>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i2.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"cdkDropListData\", \"cdkDropListOrientation\", \"id\", \"cdkDropListLockAxis\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { kind: \"directive\", type: i2.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragData\", \"cdkDragLockAxis\", \"cdkDragRootElement\", \"cdkDragBoundary\", \"cdkDragStartDelay\", \"cdkDragFreeDragPosition\", \"cdkDragDisabled\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragPreviewContainer\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { kind: \"directive\", type: i2.CdkDragHandle, selector: \"[cdkDragHandle]\", inputs: [\"cdkDragHandleDisabled\"] }, { kind: \"component\", type: GanttIconComponent, selector: \"gantt-icon\", inputs: [\"iconName\"] }, { kind: \"pipe\", type: IsGanttRangeItemPipe, name: \"isGanttRangeItem\" }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttTableBodyComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'gantt-table-body', template: \"<div\\n  class=\\\"gantt-table-body-container\\\"\\n  cdkDropList\\n  [cdkDropListAutoScrollStep]=\\\"6\\\"\\n  [cdkDropListData]=\\\"viewportItems\\\"\\n  [cdkDropListSortingDisabled]=\\\"true\\\"\\n  (cdkDropListDropped)=\\\"onListDropped($event)\\\"\\n>\\n  <ng-container *ngIf=\\\"!viewportItems?.length\\\">\\n    <ng-container *ngIf=\\\"!emptyTemplate\\\">\\n      <gantt-icon class=\\\"empty-icon\\\" iconName=\\\"empty\\\"></gantt-icon>\\n      <div class=\\\"empty-text\\\">\\u6CA1\\u6709\\u6570\\u636E</div>\\n    </ng-container>\\n    <ng-template [ngTemplateOutlet]=\\\"emptyTemplate\\\"></ng-template>\\n  </ng-container>\\n\\n  <ng-container *ngIf=\\\"viewportItems && viewportItems.length > 0\\\">\\n    <ng-container *ngFor=\\\"let item of viewportItems; trackBy: trackBy\\\">\\n      <div class=\\\"gantt-table-group\\\" [ngClass]=\\\"item.class\\\" *ngIf=\\\"item.items\\\">\\n        <div class=\\\"gantt-table-group-title\\\" [class.expanded]=\\\"item.expanded\\\" (click)=\\\"expandGroup(item)\\\">\\n          <gantt-icon class=\\\"expand-icon\\\" [iconName]=\\\"item.expanded ? 'angle-down' : 'angle-right'\\\"></gantt-icon>\\n          <ng-container *ngIf=\\\"groupTemplate; else default\\\">\\n            <ng-template\\n              [ngTemplateOutlet]=\\\"groupTemplate\\\"\\n              [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, group: item.origin }\\\"\\n            ></ng-template>\\n          </ng-container>\\n          <ng-template #default>\\n            <span class=\\\"group-title\\\">{{ item.title }}</span>\\n          </ng-template>\\n        </div>\\n      </div>\\n\\n      <div\\n        *ngIf=\\\"!item.items\\\"\\n        (click)=\\\"itemClick.emit({ event: $event, selectedValue: item.origin })\\\"\\n        cdkDrag\\n        [cdkDragData]=\\\"item\\\"\\n        [cdkDragDisabled]=\\\"(draggable && item.itemDraggable === false) || !draggable\\\"\\n        (cdkDragStarted)=\\\"onItemDragStarted($event)\\\"\\n        (cdkDragEnded)=\\\"onItemDragEnded($event)\\\"\\n        (cdkDragMoved)=\\\"emitItemDragMoved($event)\\\"\\n        class=\\\"gantt-table-item\\\"\\n        [class.gantt-table-item-with-group]=\\\"hasGroup\\\"\\n        [class.gantt-table-item-first-level-group]=\\\"item.level === 0 && (item.type | isGanttRangeItem)\\\"\\n        [style.height.px]=\\\"gantt.styles.lineHeight\\\"\\n        [style.lineHeight.px]=\\\"gantt.styles.lineHeight\\\"\\n        [class.gantt-table-item-active]=\\\"ganttUpper.isSelected(item.id)\\\"\\n      >\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"rowBeforeTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, item: item.origin }\\\"\\n        ></ng-template>\\n\\n        <div [classList]=\\\"column.classList\\\" *ngFor=\\\"let column of columns; let first = first\\\" [style.width]=\\\"column.columnWidth\\\">\\n          <!-- drag icon -->\\n          <gantt-icon\\n            *ngIf=\\\"first && draggable\\\"\\n            class=\\\"gantt-drag-handle\\\"\\n            iconName=\\\"drag\\\"\\n            cdkDragHandle\\n            [cdkDragHandleDisabled]=\\\"(draggable && item.itemDraggable === false) || !draggable\\\"\\n          ></gantt-icon>\\n          <!-- expand icon -->\\n          <div\\n            *ngIf=\\\"column?.showExpandIcon || (!hasExpandIcon && first)\\\"\\n            class=\\\"gantt-expand-icon\\\"\\n            [style.marginLeft.px]=\\\"item.level * 20\\\"\\n          >\\n            <ng-container *ngIf=\\\"item.level < gantt.maxLevel - 1 && ((gantt.async && item.expandable) || item.children?.length > 0)\\\">\\n              <gantt-icon\\n                *ngIf=\\\"!item.loading\\\"\\n                class=\\\"expand-icon\\\"\\n                [iconName]=\\\"item.expanded ? 'angle-down' : 'angle-right'\\\"\\n                (click)=\\\"expandChildren($event, item)\\\"\\n              >\\n              </gantt-icon>\\n              <gantt-icon *ngIf=\\\"item.loading\\\" [iconName]=\\\"'loading'\\\"></gantt-icon>\\n            </ng-container>\\n          </div>\\n          <!-- column content -->\\n          <div class=\\\"gantt-table-column-content\\\">\\n            <ng-template\\n              [ngTemplateOutlet]=\\\"column.templateRef\\\"\\n              [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, item: item.origin }\\\"\\n            ></ng-template>\\n          </div>\\n        </div>\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"rowAfterTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{ $implicit: item.origin, item: item.origin }\\\"\\n        ></ng-template>\\n      </div>\\n    </ng-container>\\n  </ng-container>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [GANTT_ABSTRACT_TOKEN]\n                }] }, { type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }, { type: i0.ChangeDetectorRef }, { type: Document, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }]; }, propDecorators: { viewportItems: [{\n                type: Input\n            }], flatItems: [{\n                type: Input\n            }], columns: [{\n                type: Input\n            }], groupTemplate: [{\n                type: Input\n            }], emptyTemplate: [{\n                type: Input\n            }], rowBeforeTemplate: [{\n                type: Input\n            }], rowAfterTemplate: [{\n                type: Input\n            }], draggable: [{\n                type: HostBinding,\n                args: ['class.gantt-table-draggable']\n            }, {\n                type: Input\n            }], dropEnterPredicate: [{\n                type: Input\n            }], dragDropped: [{\n                type: Output\n            }], dragStarted: [{\n                type: Output\n            }], dragEnded: [{\n                type: Output\n            }], itemClick: [{\n                type: Output\n            }], ganttTableClass: [{\n                type: HostBinding,\n                args: ['class.gantt-table-body']\n            }], ganttTableEmptyClass: [{\n                type: HostBinding,\n                args: ['class.gantt-table-empty']\n            }], ganttTableDragging: [{\n                type: HostBinding,\n                args: ['class.gantt-table-dragging']\n            }], cdkDrags: [{\n                type: ViewChildren,\n                args: [(CdkDrag)]\n            }] } });\n\nclass GanttLinkLine {\n    constructor() { }\n    generatePath(source, target, type) {\n        if (source.before && source.after && target.before && target.after) {\n            let path = '';\n            switch (type) {\n                case GanttLinkType.ss:\n                    path = this.generateSSPath(source, target);\n                    break;\n                case GanttLinkType.ff:\n                    path = this.generateFFPath(source, target);\n                    break;\n                case GanttLinkType.sf:\n                    path = this.generateFSAndSFPath(source, target, type);\n                    break;\n                default:\n                    path = this.generateFSAndSFPath(source, target);\n            }\n            return path;\n        }\n    }\n}\n\nlet GanttLinkLineCurve = class GanttLinkLineCurve extends GanttLinkLine {\n    constructor(ganttUpper) {\n        super();\n        this.ganttUpper = ganttUpper;\n    }\n    generateSSPath(source, target) {\n        const x1 = source.before.x;\n        const y1 = source.before.y;\n        const x4 = target.before.x;\n        const y4 = target.before.y;\n        const isMirror = y4 > y1 ? 0 : 1;\n        const radius = Math.abs(y4 - y1) / 2;\n        if (x4 > x1) {\n            return `M ${x1} ${y1}\n                    A ${radius} ${radius} 0 1 ${isMirror} ${x1} ${y4}\n                    L ${x4} ${y4}`;\n        }\n        else {\n            return `M ${x1} ${y1}\n                    L ${x4} ${y1}\n                    A ${radius} ${radius} 0 1 ${isMirror} ${x4} ${y4}`;\n        }\n    }\n    generateFFPath(source, target) {\n        const x1 = source.after.x;\n        const y1 = source.after.y;\n        const x4 = target.after.x;\n        const y4 = target.after.y;\n        const isMirror = y4 > y1 ? 1 : 0;\n        const radius = Math.abs(y4 - y1) / 2;\n        if (x4 > x1) {\n            return `M ${x1} ${y1}\n                    L ${x4} ${y1}\n                    A ${radius} ${radius} 0 1 ${isMirror} ${x4} ${y4}`;\n        }\n        else {\n            return `M ${x1} ${y1}\n                    A ${radius} ${radius} 0 1 ${isMirror} ${x1} ${y4}\n                    L ${x4} ${y4}`;\n        }\n    }\n    generateFSAndSFPath(source, target, type) {\n        let x1 = source.after.x;\n        let y1 = source.after.y;\n        let x4 = target.before.x;\n        let y4 = target.before.y;\n        const bezierWeight = 0.5;\n        if (type === GanttLinkType.sf) {\n            x1 = target.after.x;\n            y1 = target.after.y;\n            x4 = source.before.x;\n            y4 = source.before.y;\n        }\n        let dx = Math.abs(x4 - x1) * bezierWeight;\n        let x2 = x1 + dx;\n        let x3 = x4 - dx;\n        const centerX = (x1 + x4) / 2;\n        const centerY = (y1 + y4) / 2;\n        let controlX = this.ganttUpper.styles.lineHeight / 2;\n        const controlY = this.ganttUpper.styles.lineHeight / 2;\n        if (x1 >= x4) {\n            if (Math.abs(y4 - y1) <= this.ganttUpper.styles.lineHeight) {\n                return `M ${x1} ${y1}\n                    C ${x1 + controlX} ${y1} ${x1 + controlX} ${y4 > y1 ? y1 + controlX : y1 - controlX} ${x1} ${y4 > y1 ? y1 + controlY : y1 - controlY}\n                    L ${x4} ${y4 > y1 ? y4 - controlY : y4 + controlY}\n                    C ${x4 - controlY} ${y4 > y1 ? y4 - controlY : y4 + controlY}  ${x4 - controlX} ${y4} ${x4} ${y4}\n                    `;\n            }\n            else {\n                controlX = this.ganttUpper.styles.lineHeight;\n                return `M ${x1} ${y1}\n                    C ${x1 + controlX} ${y1} ${x1 + controlX} ${y4 > y1 ? y1 + controlX : y1 - controlX} ${centerX} ${centerY}\n                    C ${x4 - controlX} ${y4 > y1 ? y4 - controlX : y4 + controlX} ${x4 - controlX} ${y4} ${x4} ${y4}\n                    `;\n            }\n        }\n        else if (this.ganttUpper.linkOptions?.showArrow && x4 - x1 < 200) {\n            dx = Math.max(Math.abs(y4 - y1) * bezierWeight, 60);\n            x2 = x1 + dx;\n            x3 = x4 - dx;\n            return `M ${x1} ${y1} C ${x2} ${y1} ${x3} ${y4} ${x4} ${y4}`;\n        }\n        return `M ${x1} ${y1} C ${x2} ${y1} ${x3} ${y4} ${x4} ${y4}`;\n    }\n};\nGanttLinkLineCurve = __decorate([\n    __param(0, Inject(GANTT_UPPER_TOKEN))\n], GanttLinkLineCurve);\n\nclass GanttLinkLineStraight extends GanttLinkLine {\n    constructor() {\n        super();\n        this.pathControl = 20;\n    }\n    generateSSPath(source, target) {\n        const x1 = source.before.x;\n        const y1 = source.before.y;\n        const x4 = target.before.x;\n        const y4 = target.before.y;\n        const control = this.pathControl;\n        return `M ${x1} ${y1}\n                        L ${x4 > x1 ? x1 - control : x4 - control} ${y1}\n                        L ${x4 > x1 ? x1 - control : x4 - control} ${y4}\n                        L ${x4} ${y4}`;\n    }\n    generateFFPath(source, target) {\n        const x1 = source.after.x;\n        const y1 = source.after.y;\n        const x4 = target.after.x;\n        const y4 = target.after.y;\n        const control = this.pathControl;\n        return `M ${x1} ${y1}\n                        L ${x4 > x1 ? x4 + control : x1 + control} ${y1}\n                        L ${x4 > x1 ? x4 + control : x1 + control} ${y4}\n                        L ${x4} ${y4}`;\n    }\n    generateFSAndSFPath(source, target, type) {\n        let x1 = source.after.x;\n        let y1 = source.after.y;\n        let x4 = target.before.x;\n        let y4 = target.before.y;\n        const control = this.pathControl;\n        if (type === GanttLinkType.sf) {\n            x1 = target.after.x;\n            y1 = target.after.y;\n            x4 = source.before.x;\n            y4 = source.before.y;\n        }\n        if (x4 - x1 >= 40) {\n            return `M ${x1} ${y1}\n                        L ${x1 + control} ${y1}\n                        L ${x1 + control} ${y4}\n                        L ${x4} ${y4}`;\n        }\n        else {\n            return `M ${x1} ${y1}\n                        L ${x1 + control} ${y1}\n                        L ${x1 + control} ${y4 > y1 ? y1 + control : y1 - control}\n                        L ${x4 - control} ${y4 > y1 ? y1 + control : y1 - control}\n                        L ${x4 - control} ${y4}\n                        L ${x4} ${y4}`;\n        }\n    }\n}\n\nfunction createLineGenerator(type, ganttUpper) {\n    switch (type) {\n        case GanttLinkLineType.curve:\n            return new GanttLinkLineCurve(ganttUpper);\n        case GanttLinkLineType.straight:\n            return new GanttLinkLineStraight();\n        default:\n            throw new Error('gantt link path type invalid');\n    }\n}\n\nfunction getDependencyType(path, dependencyTypes) {\n    if (dependencyTypes.includes(GanttLinkType.ss) && path.from.pos === InBarPosition.start && path.to.pos === InBarPosition.start) {\n        return GanttLinkType.ss;\n    }\n    if (dependencyTypes.includes(GanttLinkType.ff) && path.from.pos === InBarPosition.finish && path.to.pos === InBarPosition.finish) {\n        return GanttLinkType.ff;\n    }\n    if (dependencyTypes.includes(GanttLinkType.sf) && path.from.pos === InBarPosition.start && path.to.pos === InBarPosition.finish) {\n        return GanttLinkType.sf;\n    }\n    return GanttLinkType.fs;\n}\nvar InBarPosition;\n(function (InBarPosition) {\n    InBarPosition[\"start\"] = \"start\";\n    InBarPosition[\"finish\"] = \"finish\";\n})(InBarPosition || (InBarPosition = {}));\nclass GanttDragContainer {\n    constructor(ganttUpper) {\n        this.ganttUpper = ganttUpper;\n        this.dragStarted = new EventEmitter();\n        this.dragMoved = new EventEmitter();\n        this.dragEnded = new EventEmitter();\n        this.linkDragStarted = new EventEmitter();\n        this.linkDragEntered = new EventEmitter();\n        this.linkDragEnded = new EventEmitter();\n        this.linkDragPath = { from: null, to: null };\n    }\n    emitLinkDragStarted(from) {\n        this.linkDraggingId = from.item.id;\n        this.linkDragPath.from = from;\n        this.linkDragStarted.emit({\n            source: from.item.origin,\n            target: null\n        });\n    }\n    emitLinkDragEntered(to) {\n        this.linkDragPath.to = to;\n        this.linkDragEntered.emit({\n            source: this.linkDragPath.from.item.origin,\n            target: to.item.origin\n        });\n    }\n    emitLinkDragLeaved() {\n        this.linkDragPath.to = null;\n    }\n    emitLinkDragEnded(to) {\n        if (to) {\n            this.linkDragPath.to = to;\n            const dependencyType = getDependencyType(this.linkDragPath, this.ganttUpper.linkOptions?.dependencyTypes);\n            this.linkDragPath.from.item.addLink({\n                link: this.linkDragPath.to.item.id,\n                type: dependencyType\n            });\n            this.linkDragEnded.emit({\n                source: this.linkDragPath.from.item.origin,\n                target: this.linkDragPath.to.item.origin,\n                type: dependencyType\n            });\n        }\n        this.linkDraggingId = null;\n        this.linkDragPath = { from: null, to: null };\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttDragContainer, deps: [{ token: GANTT_UPPER_TOKEN }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttDragContainer }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttDragContainer, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }]; } });\n\nclass GanttLinksComponent {\n    constructor(ganttUpper, cdr, elementRef, ganttDragContainer, ngZone) {\n        this.ganttUpper = ganttUpper;\n        this.cdr = cdr;\n        this.elementRef = elementRef;\n        this.ganttDragContainer = ganttDragContainer;\n        this.ngZone = ngZone;\n        // @Input() groups: GanttGroupInternal[] = [];\n        // @Input() items: GanttItemInternal[] = [];\n        this.flatItems = [];\n        this.lineClick = new EventEmitter();\n        this.links = [];\n        this.ganttLinkTypes = GanttLinkType;\n        this.showArrow = false;\n        this.linkItems = [];\n        this.firstChange = true;\n        this.unsubscribe$ = new Subject();\n        this.ganttLinksOverlay = true;\n    }\n    ngOnInit() {\n        this.linkLine = createLineGenerator(this.ganttUpper.linkOptions.lineType, this.ganttUpper);\n        this.showArrow = this.ganttUpper.linkOptions.showArrow;\n        // this.buildLinks();\n        this.firstChange = false;\n        this.buildLinks();\n        this.ganttDragContainer.dragStarted.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n            this.elementRef.nativeElement.style.visibility = 'hidden';\n        });\n        merge(this.ganttUpper.viewChange, this.ganttUpper.expandChange, this.ganttUpper.view.start$, this.ganttUpper.dragEnded, this.ganttUpper.linkDragEnded, this.ngZone.onStable.pipe(take(1)).pipe(switchMap(() => this.ganttUpper.table?.dragDropped || EMPTY)))\n            .pipe(skip(1), debounceTime(0), takeUntil(this.unsubscribe$))\n            .subscribe(() => {\n            this.elementRef.nativeElement.style.visibility = 'visible';\n            this.buildLinks();\n            this.cdr.detectChanges();\n        });\n    }\n    ngOnChanges() {\n        if (!this.firstChange) {\n            this.buildLinks();\n        }\n    }\n    computeItemPosition() {\n        const lineHeight = this.ganttUpper.styles.lineHeight;\n        const barHeight = this.ganttUpper.styles.barHeight;\n        this.linkItems = [];\n        // if (this.groups.length > 0) {\n        //     let itemNum = 0;\n        //     let groupNum = 0;\n        //     this.groups.forEach((group) => {\n        //         groupNum++;\n        //         if (group.expanded) {\n        //             const items = recursiveItems(group.items);\n        //             items.forEach((item, itemIndex) => {\n        //                 const y = (groupNum + itemNum + itemIndex) * lineHeight + item.refs.y + barHeight / 2;\n        //                 this.linkItems.push({\n        //                     ...item,\n        //                     before: {\n        //                         x: item.refs.x,\n        //                         y\n        //                     },\n        //                     after: {\n        //                         x: item.refs.x + item.refs.width,\n        //                         y\n        //                     }\n        //                 });\n        //             });\n        //             itemNum += items.length;\n        //         }\n        //     });\n        // } else {\n        //     const items = recursiveItems(this.items);\n        //     items.forEach((item, itemIndex) => {\n        //         const y = itemIndex * lineHeight + item.refs.y + barHeight / 2;\n        //         this.linkItems.push({\n        //             ...item,\n        //             before: {\n        //                 x: item.refs.x,\n        //                 y\n        //             },\n        //             after: {\n        //                 x: item.refs.x + item.refs.width,\n        //                 y\n        //             }\n        //         });\n        //     });\n        // }\n        this.flatItems.forEach((item, itemIndex) => {\n            if (!item.hasOwnProperty('items')) {\n                const ganttItem = item;\n                if (ganttItem.refs) {\n                    const y = itemIndex * lineHeight + ganttItem.refs.y + barHeight / 2;\n                    this.linkItems.push({\n                        ...ganttItem,\n                        before: {\n                            x: ganttItem.refs.x,\n                            y\n                        },\n                        after: {\n                            x: ganttItem.refs.x + ganttItem.refs.width,\n                            y\n                        }\n                    });\n                }\n            }\n        });\n    }\n    buildLinks() {\n        this.computeItemPosition();\n        this.links = [];\n        this.linkItems.forEach((source) => {\n            if (source.origin.start || source.origin.end) {\n                source.links.forEach((link) => {\n                    const target = this.linkItems.find((item) => item.id === link.link);\n                    if (target && (target.origin.start || target.origin.end)) {\n                        let defaultColor = LinkColors.default;\n                        let activeColor = LinkColors.active;\n                        if (link.type === GanttLinkType.fs && source.end.getTime() > target.start.getTime()) {\n                            defaultColor = LinkColors.blocked;\n                            activeColor = LinkColors.blocked;\n                        }\n                        if (link.color) {\n                            if (typeof link.color === 'string') {\n                                defaultColor = link.color;\n                                activeColor = link.color;\n                            }\n                            else {\n                                defaultColor = link.color.default;\n                                activeColor = link.color.active;\n                            }\n                        }\n                        this.links.push({\n                            path: this.linkLine.generatePath(source, target, link.type),\n                            source: source.origin,\n                            target: target.origin,\n                            type: link.type,\n                            color: defaultColor,\n                            defaultColor,\n                            activeColor\n                        });\n                    }\n                });\n            }\n        });\n    }\n    trackBy(index) {\n        return index;\n    }\n    onLineClick(event, link) {\n        this.lineClick.emit({\n            event,\n            source: link.source,\n            target: link.target\n        });\n    }\n    mouseEnterPath(link, index) {\n        link.color = link.activeColor || link.defaultColor;\n        if (index < this.links.length - 1) {\n            this.links.splice(index, 1);\n            this.links.push(link);\n        }\n    }\n    mouseLeavePath(link) {\n        link.color = link.defaultColor;\n    }\n    ngOnDestroy() {\n        this.unsubscribe$.next();\n        this.unsubscribe$.complete();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttLinksComponent, deps: [{ token: GANTT_UPPER_TOKEN }, { token: i0.ChangeDetectorRef }, { token: i0.ElementRef }, { token: GanttDragContainer }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttLinksComponent, selector: \"gantt-links-overlay\", inputs: { flatItems: \"flatItems\" }, outputs: { lineClick: \"lineClick\" }, host: { properties: { \"class.gantt-links-overlay\": \"this.ganttLinksOverlay\" } }, usesOnChanges: true, ngImport: i0, template: \"<svg [attr.width]=\\\"ganttUpper.view.width\\\" class=\\\"gantt-links-overlay-main\\\">\\n  <ng-container *ngFor=\\\"let link of links; let i = index; trackBy: trackBy\\\">\\n    <path\\n      [attr.d]=\\\"link.path\\\"\\n      fill=\\\"transparent\\\"\\n      stroke-width=\\\"2\\\"\\n      [attr.stroke]=\\\"link.color\\\"\\n      pointer-events=\\\"none\\\"\\n      [attr.style]=\\\"link.type === ganttLinkTypes.sf ? 'marker-start: url(#triangle' + i + ')' : 'marker-end: url(#triangle' + i + ')'\\\"\\n    ></path>\\n\\n    <g>\\n      <path\\n        class=\\\"link-line\\\"\\n        (click)=\\\"onLineClick($event, link)\\\"\\n        [attr.d]=\\\"link.path\\\"\\n        (mouseenter)=\\\"mouseEnterPath(link, i)\\\"\\n        (mouseleave)=\\\"mouseLeavePath(link)\\\"\\n        stroke=\\\"transparent\\\"\\n        stroke-width=\\\"9\\\"\\n        fill=\\\"none\\\"\\n        cursor=\\\"pointer\\\"\\n      ></path>\\n    </g>\\n    <defs *ngIf=\\\"showArrow\\\">\\n      <marker\\n        *ngIf=\\\"link.type === ganttLinkTypes.sf; else markerEnd\\\"\\n        [id]=\\\"'triangle' + i\\\"\\n        markerUnits=\\\"strokeWidth\\\"\\n        markerWidth=\\\"5\\\"\\n        markerHeight=\\\"4\\\"\\n        refX=\\\"5\\\"\\n        refY=\\\"2\\\"\\n        orient=\\\"180\\\"\\n      >\\n        <path [attr.fill]=\\\"link.color\\\" [attr.stroke]=\\\"link.color\\\" d=\\\"M 0 0 L 5 2 L 0 4 z\\\" />\\n      </marker>\\n\\n      <ng-template #markerEnd>\\n        <marker [id]=\\\"'triangle' + i\\\" markerUnits=\\\"strokeWidth\\\" markerWidth=\\\"5\\\" markerHeight=\\\"4\\\" refX=\\\"5\\\" refY=\\\"2\\\" orient=\\\"auto\\\">\\n          <path [attr.fill]=\\\"link.color\\\" [attr.stroke]=\\\"link.color\\\" d=\\\"M 0 0 L 5 2 L 0 4 z\\\" />\\n        </marker>\\n      </ng-template>\\n    </defs>\\n  </ng-container>\\n  <line class=\\\"link-dragging-line\\\"></line>\\n</svg>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttLinksComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'gantt-links-overlay', template: \"<svg [attr.width]=\\\"ganttUpper.view.width\\\" class=\\\"gantt-links-overlay-main\\\">\\n  <ng-container *ngFor=\\\"let link of links; let i = index; trackBy: trackBy\\\">\\n    <path\\n      [attr.d]=\\\"link.path\\\"\\n      fill=\\\"transparent\\\"\\n      stroke-width=\\\"2\\\"\\n      [attr.stroke]=\\\"link.color\\\"\\n      pointer-events=\\\"none\\\"\\n      [attr.style]=\\\"link.type === ganttLinkTypes.sf ? 'marker-start: url(#triangle' + i + ')' : 'marker-end: url(#triangle' + i + ')'\\\"\\n    ></path>\\n\\n    <g>\\n      <path\\n        class=\\\"link-line\\\"\\n        (click)=\\\"onLineClick($event, link)\\\"\\n        [attr.d]=\\\"link.path\\\"\\n        (mouseenter)=\\\"mouseEnterPath(link, i)\\\"\\n        (mouseleave)=\\\"mouseLeavePath(link)\\\"\\n        stroke=\\\"transparent\\\"\\n        stroke-width=\\\"9\\\"\\n        fill=\\\"none\\\"\\n        cursor=\\\"pointer\\\"\\n      ></path>\\n    </g>\\n    <defs *ngIf=\\\"showArrow\\\">\\n      <marker\\n        *ngIf=\\\"link.type === ganttLinkTypes.sf; else markerEnd\\\"\\n        [id]=\\\"'triangle' + i\\\"\\n        markerUnits=\\\"strokeWidth\\\"\\n        markerWidth=\\\"5\\\"\\n        markerHeight=\\\"4\\\"\\n        refX=\\\"5\\\"\\n        refY=\\\"2\\\"\\n        orient=\\\"180\\\"\\n      >\\n        <path [attr.fill]=\\\"link.color\\\" [attr.stroke]=\\\"link.color\\\" d=\\\"M 0 0 L 5 2 L 0 4 z\\\" />\\n      </marker>\\n\\n      <ng-template #markerEnd>\\n        <marker [id]=\\\"'triangle' + i\\\" markerUnits=\\\"strokeWidth\\\" markerWidth=\\\"5\\\" markerHeight=\\\"4\\\" refX=\\\"5\\\" refY=\\\"2\\\" orient=\\\"auto\\\">\\n          <path [attr.fill]=\\\"link.color\\\" [attr.stroke]=\\\"link.color\\\" d=\\\"M 0 0 L 5 2 L 0 4 z\\\" />\\n        </marker>\\n      </ng-template>\\n    </defs>\\n  </ng-container>\\n  <line class=\\\"link-dragging-line\\\"></line>\\n</svg>\\n\" }]\n        }], ctorParameters: function () { return [{ type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }, { type: i0.ChangeDetectorRef }, { type: i0.ElementRef }, { type: GanttDragContainer }, { type: i0.NgZone }]; }, propDecorators: { flatItems: [{\n                type: Input\n            }], lineClick: [{\n                type: Output\n            }], ganttLinksOverlay: [{\n                type: HostBinding,\n                args: ['class.gantt-links-overlay']\n            }] } });\n\n/** Cached result of whether the user's browser supports passive event listeners. */\nlet supportsPassiveEvents;\n/**\n * Checks whether the user's browser supports passive event listeners.\n * See: https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n */\nfunction supportsPassiveEventListeners() {\n    if (supportsPassiveEvents == null && typeof window !== 'undefined') {\n        try {\n            window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n                get: () => (supportsPassiveEvents = true)\n            }));\n        }\n        finally {\n            supportsPassiveEvents = supportsPassiveEvents || false;\n        }\n    }\n    return supportsPassiveEvents;\n}\n/**\n * Normalizes an `AddEventListener` object to something that can be passed\n * to `addEventListener` on any browser, no matter whether it supports the\n * `options` parameter.\n */\nfunction normalizePassiveListenerOptions(options) {\n    return supportsPassiveEventListeners() ? options : !!options.capture;\n}\n/** Options used to bind passive event listeners. */\nconst passiveListenerOptions = normalizePassiveListenerOptions({ passive: true });\n\n/**\n * Proximity, as a ratio to width/height at which to start auto-scrolling the drop list or the\n * viewport. The value comes from trying it out manually until it feels right.\n */\nconst SCROLL_PROXIMITY_THRESHOLD = 0.05;\n/**\n * Gets whether the horizontal auto-scroll direction of a node.\n * @param clientRect Dimensions of the node.\n * @param pointerX Position of the user's pointer along the x axis.\n */\nfunction getHorizontalScrollDirection(clientRect, pointerX) {\n    const { left, right, width } = clientRect;\n    const xThreshold = width * SCROLL_PROXIMITY_THRESHOLD;\n    if (pointerX >= left - xThreshold && pointerX <= left + xThreshold) {\n        return 1 /* AutoScrollHorizontalDirection.LEFT */;\n    }\n    else if (pointerX >= right - xThreshold && pointerX <= right + xThreshold) {\n        return 2 /* AutoScrollHorizontalDirection.RIGHT */;\n    }\n    return 0 /* AutoScrollHorizontalDirection.NONE */;\n}\n/**\n * Checks whether the pointer coordinates are close to a ClientRect.\n * @param rect ClientRect to check against.\n * @param threshold Threshold around the ClientRect.\n * @param pointerX Coordinates along the X axis.\n * @param pointerY Coordinates along the Y axis.\n */\nfunction isPointerNearClientRect(rect, threshold, pointerX, pointerY) {\n    const { top, right, bottom, left, width, height } = rect;\n    const xThreshold = width * threshold;\n    const yThreshold = height * threshold;\n    return pointerY > top - yThreshold && pointerY < bottom + yThreshold && pointerX > left - xThreshold && pointerX < right + xThreshold;\n}\n/**\n * Gets the speed rate of auto scrolling\n * @param clientRect Dimensions of the node.\n * @param pointerX Position of the user's pointer along the x axis.\n * @param horizontalScrollDirection The direction in which the mouse is dragged horizontally\n */\nfunction getAutoScrollSpeedRates(clientRect, pointerX, horizontalScrollDirection) {\n    let autoScrollSpeedRates = 4;\n    const speedLevels = 4;\n    const { left, right, width } = clientRect;\n    const xThreshold = width * SCROLL_PROXIMITY_THRESHOLD;\n    if (horizontalScrollDirection === 1 /* AutoScrollHorizontalDirection.LEFT */) {\n        autoScrollSpeedRates = Math.ceil((xThreshold - (pointerX > left ? pointerX - left : 0)) / (xThreshold / speedLevels));\n    }\n    if (horizontalScrollDirection === 2 /* AutoScrollHorizontalDirection.RIGHT */) {\n        autoScrollSpeedRates = Math.ceil((xThreshold - (right > pointerX ? right - pointerX : 0)) / (xThreshold / speedLevels));\n    }\n    return autoScrollSpeedRates;\n}\n\nconst scrollThreshold = 50;\nvar ScrollDirection;\n(function (ScrollDirection) {\n    ScrollDirection[ScrollDirection[\"NONE\"] = 0] = \"NONE\";\n    ScrollDirection[ScrollDirection[\"LEFT\"] = 1] = \"LEFT\";\n    ScrollDirection[ScrollDirection[\"RIGHT\"] = 2] = \"RIGHT\";\n})(ScrollDirection || (ScrollDirection = {}));\nclass GanttDomService {\n    constructor(ngZone, platformId) {\n        this.ngZone = ngZone;\n        this.platformId = platformId;\n        this.unsubscribe$ = new Subject();\n    }\n    monitorScrollChange() {\n        const scrollObservers = [\n            fromEvent(this.mainContainer, 'scroll', passiveListenerOptions),\n            fromEvent(this.sideContainer, 'scroll', passiveListenerOptions)\n        ];\n        this.mainFooter && scrollObservers.push(fromEvent(this.mainFooter, 'scroll', passiveListenerOptions));\n        this.mainScrollbar && scrollObservers.push(fromEvent(this.mainScrollbar, 'scroll', passiveListenerOptions));\n        this.ngZone.runOutsideAngular(() => merge(...scrollObservers)\n            .pipe(takeUntil(this.unsubscribe$))\n            .subscribe((event) => {\n            this.syncScroll(event);\n        }));\n    }\n    syncScroll(event) {\n        const target = event.currentTarget;\n        const classList = target.classList;\n        if (!classList.contains('gantt-side-container')) {\n            this.mainContainer.scrollLeft = target.scrollLeft;\n            this.calendarHeader.scrollLeft = target.scrollLeft;\n            this.calendarOverlay.scrollLeft = target.scrollLeft;\n            this.mainScrollbar && (this.mainScrollbar.scrollLeft = target.scrollLeft);\n            this.mainFooter && (this.mainFooter.scrollLeft = target.scrollLeft);\n            if (classList.contains('gantt-main-container')) {\n                this.sideContainer.scrollTop = target.scrollTop;\n                this.mainContainer.scrollTop = target.scrollTop;\n            }\n        }\n        else {\n            this.sideContainer.scrollTop = target.scrollTop;\n            this.mainContainer.scrollTop = target.scrollTop;\n        }\n    }\n    disableBrowserWheelEvent() {\n        const container = this.mainContainer;\n        this.ngZone.runOutsideAngular(() => fromEvent(container, 'wheel')\n            .pipe(takeUntil(this.unsubscribe$))\n            .subscribe((event) => {\n            const delta = event.deltaX;\n            if (!delta) {\n                return;\n            }\n            if ((container.scrollLeft + container.offsetWidth === container.scrollWidth && delta > 0) ||\n                (container.scrollLeft === 0 && delta < 0)) {\n                event.preventDefault();\n            }\n        }));\n    }\n    initialize(root) {\n        this.root = root.nativeElement;\n        this.side = this.root.getElementsByClassName('gantt-side')[0];\n        this.container = this.root.getElementsByClassName('gantt-container')[0];\n        this.sideContainer = this.root.getElementsByClassName('gantt-side-container')[0];\n        this.mainContainer = this.root.getElementsByClassName('gantt-main-container')[0];\n        this.mainScrollbar = this.root.getElementsByClassName('gantt-main-scrollbar')[0];\n        this.mainFooter = this.root.getElementsByClassName('gantt-container-footer')[0];\n        this.verticalScrollContainer = this.root.getElementsByClassName('gantt-scroll-container')[0];\n        const mainItems = this.mainContainer.getElementsByClassName('gantt-main-items')[0];\n        const mainGroups = this.mainContainer.getElementsByClassName('gantt-main-groups')[0];\n        this.mainItems = mainItems || mainGroups;\n        this.calendarHeader = this.root.getElementsByClassName('gantt-calendar-header')[0];\n        this.calendarOverlay = this.root.getElementsByClassName('gantt-calendar-grid')[0];\n        this.monitorScrollChange();\n        this.disableBrowserWheelEvent();\n    }\n    /**\n     * @returns An observable that will emit outside the Angular zone. Note, consumers should re-enter the Angular zone\n     * to run the change detection if needed.\n     */\n    getViewerScroll(options) {\n        const scrollObservers = [fromEvent(this.mainContainer, 'scroll', options)];\n        this.mainFooter && scrollObservers.push(fromEvent(this.mainFooter, 'scroll', options));\n        this.mainScrollbar && scrollObservers.push(fromEvent(this.mainScrollbar, 'scroll', options));\n        return new Observable((subscriber) => this.ngZone.runOutsideAngular(() => merge(...scrollObservers)\n            .pipe(map(() => this.mainContainer.scrollLeft), pairwise(), map(([previous, current]) => {\n            const event = {\n                target: this.mainContainer,\n                direction: ScrollDirection.NONE\n            };\n            if (current - previous < 0) {\n                if (this.mainContainer.scrollLeft < scrollThreshold && this.mainContainer.scrollLeft > 0) {\n                    event.direction = ScrollDirection.LEFT;\n                }\n            }\n            if (current - previous > 0) {\n                if (this.mainContainer.scrollWidth - this.mainContainer.clientWidth - this.mainContainer.scrollLeft <\n                    scrollThreshold) {\n                    event.direction = ScrollDirection.RIGHT;\n                }\n            }\n            return event;\n        }))\n            .subscribe(subscriber)));\n    }\n    getResize() {\n        return isPlatformServer(this.platformId) ? EMPTY : fromEvent(window, 'resize').pipe(auditTime$1(150));\n    }\n    scrollMainContainer(left) {\n        if (isNumber(left)) {\n            const scrollLeft = left - this.mainContainer.clientWidth / 2;\n            this.mainContainer.scrollLeft = scrollLeft > scrollThreshold ? scrollLeft : 0;\n            this.calendarHeader.scrollLeft = this.mainContainer.scrollLeft;\n            this.calendarOverlay.scrollLeft = this.mainContainer.scrollLeft;\n            this.mainScrollbar && (this.mainScrollbar.scrollLeft = this.mainContainer.scrollLeft);\n            this.mainFooter && (this.mainFooter.scrollLeft = this.mainContainer.scrollLeft);\n        }\n    }\n    ngOnDestroy() {\n        this.unsubscribe$.next();\n        this.unsubscribe$.complete();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttDomService, deps: [{ token: i0.NgZone }, { token: PLATFORM_ID }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttDomService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttDomService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i0.NgZone }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }]; } });\n\n/**\n * Proximity, as a ratio to width/height, at which a\n * dragged item will affect the drop container.\n */\nconst DROP_PROXIMITY_THRESHOLD = 0.05;\nconst dragMinWidth = 10;\nconst autoScrollBaseStep = 2;\nconst activeClass = 'gantt-bar-active';\nconst dropActiveClass = 'gantt-bar-drop-active';\nconst singleDropActiveClass = 'gantt-bar-single-drop-active';\nfunction createSvgElement(qualifiedName, className) {\n    const element = document.createElementNS('http://www.w3.org/2000/svg', qualifiedName);\n    element.classList.add(className);\n    return element;\n}\nclass GanttBarDrag {\n    get dragDisabled() {\n        return !this.item.draggable || !this.ganttUpper.draggable;\n    }\n    get linkDragDisabled() {\n        return !this.item.linkable || !this.ganttUpper.linkable;\n    }\n    get barHandleDragMoveAndScrollDistance() {\n        return this.barHandleDragMoveDistance + this.dragScrollDistance;\n    }\n    get autoScrollStep() {\n        return Math.pow(autoScrollBaseStep, this.autoScrollSpeedRates);\n    }\n    constructor(dragDrop, dom, dragContainer, _ngZone) {\n        this.dragDrop = dragDrop;\n        this.dom = dom;\n        this.dragContainer = dragContainer;\n        this._ngZone = _ngZone;\n        this.dragRefs = [];\n        this.destroy$ = new Subject();\n        /** Used to signal to the current auto-scroll sequence when to stop. */\n        this.stopScrollTimers$ = new Subject();\n        /** move distance when drag bar */\n        this.barDragMoveDistance = 0;\n        /** move distance when drag bar handle */\n        this.barHandleDragMoveDistance = 0;\n        /** scrolling state when drag */\n        this.dragScrolling = false;\n        /** dragScrollDistance */\n        this.dragScrollDistance = 0;\n        /** Horizontal direction in which the list is currently scrolling. */\n        this._horizontalScrollDirection = 0 /* AutoScrollHorizontalDirection.NONE */;\n        /** Speed ratio for auto scroll */\n        this.autoScrollSpeedRates = 1;\n        this.startScrollInterval = () => {\n            this.stopScrolling();\n            interval(0, animationFrameScheduler)\n                .pipe(takeUntil(this.stopScrollTimers$))\n                .subscribe(() => {\n                const node = this.dom.mainContainer;\n                const scrollStep = this.autoScrollStep;\n                if (this._horizontalScrollDirection === 1 /* AutoScrollHorizontalDirection.LEFT */) {\n                    node.scrollBy(-scrollStep, 0);\n                }\n                else if (this._horizontalScrollDirection === 2 /* AutoScrollHorizontalDirection.RIGHT */) {\n                    node.scrollBy(scrollStep, 0);\n                }\n            });\n        };\n    }\n    createDragRef(element) {\n        const dragRef = this.dragDrop.createDrag(element);\n        return dragRef;\n    }\n    createDragScrollEvent(dragRef) {\n        return fromEvent(this.dom.mainContainer, 'scroll', passiveListenerOptions).pipe(takeUntil(dragRef.ended));\n    }\n    createMouseEvents() {\n        const dropClass = this.ganttUpper.config.linkOptions?.dependencyTypes?.length === 1 &&\n            this.ganttUpper.config.linkOptions?.dependencyTypes[0] === GanttLinkType.fs\n            ? singleDropActiveClass\n            : dropActiveClass;\n        fromEvent(this.barElement, 'mouseenter', passiveListenerOptions)\n            .pipe(takeUntil(this.destroy$))\n            .subscribe(() => {\n            if (this.dragContainer.linkDraggingId && this.dragContainer.linkDraggingId !== this.item.id) {\n                if (this.item.linkable) {\n                    this.barElement.classList.add(dropClass);\n                    this.dragContainer.emitLinkDragEntered({\n                        item: this.item,\n                        element: this.barElement\n                    });\n                }\n            }\n            else {\n                this.barElement.classList.add(activeClass);\n            }\n        });\n        fromEvent(this.barElement, 'mouseleave', passiveListenerOptions)\n            .pipe(takeUntil(this.destroy$))\n            .subscribe(() => {\n            if (!this.dragContainer.linkDraggingId) {\n                this.barElement.classList.remove(activeClass);\n            }\n            else {\n                this.dragContainer.emitLinkDragLeaved();\n            }\n            this.barElement.classList.remove(dropClass);\n        });\n    }\n    createBarDrag() {\n        const dragRef = this.createDragRef(this.barElement);\n        dragRef.lockAxis = 'x';\n        dragRef.withBoundaryElement(this.dom.mainItems);\n        dragRef.started.subscribe(() => {\n            this.setDraggingStyles();\n            this.containerScrollLeft = this.dom.mainContainer.scrollLeft;\n            this.createDragScrollEvent(dragRef).subscribe(() => {\n                if (dragRef.isDragging()) {\n                    const dragScrollDistance = this.dom.mainContainer.scrollLeft - this.containerScrollLeft;\n                    this.dragScrollDistance = dragScrollDistance;\n                    dragRef['_boundaryRect'] = this.dom.mainItems.getBoundingClientRect();\n                    this.barDragMove();\n                }\n            });\n            this.dragContainer.dragStarted.emit({ item: this.item.origin });\n        });\n        dragRef.moved.subscribe((event) => {\n            this.startScrollingIfNecessary(event.pointerPosition.x, event.pointerPosition.y);\n            this.barDragMoveDistance = event.distance.x;\n            if (!this.dragScrolling) {\n                this.barDragMove();\n            }\n        });\n        dragRef.ended.subscribe((event) => {\n            this.clearDraggingStyles();\n            this.closeDragBackdrop();\n            event.source.reset();\n            this.stopScrolling();\n            this.dragScrolling = false;\n            this.dragScrollDistance = 0;\n            this.barDragMoveDistance = 0;\n            this.item.updateRefs({\n                width: this.ganttUpper.view.getDateRangeWidth(this.item.start.startOfDay(), this.item.end.endOfDay()),\n                x: this.ganttUpper.view.getXPointByDate(this.item.start),\n                y: (this.ganttUpper.styles.lineHeight - this.ganttUpper.styles.barHeight) / 2 - 1\n            });\n            this.dragContainer.dragEnded.emit({ item: this.item.origin });\n        });\n        this.barDragRef = dragRef;\n        return dragRef;\n    }\n    createBarHandleDrags() {\n        const dragRefs = [];\n        const handles = this.barElement.querySelectorAll('.drag-handles .handle');\n        handles.forEach((handle, index) => {\n            const isBefore = index === 0;\n            const dragRef = this.createDragRef(handle);\n            dragRef.lockAxis = 'x';\n            dragRef.withBoundaryElement(this.dom.mainItems);\n            dragRef.started.subscribe(() => {\n                this.setDraggingStyles();\n                this.containerScrollLeft = this.dom.mainContainer.scrollLeft;\n                this.createDragScrollEvent(dragRef).subscribe(() => {\n                    if (dragRef.isDragging()) {\n                        const dragScrollDistance = this.dom.mainContainer.scrollLeft - this.containerScrollLeft;\n                        this.dragScrollDistance = dragScrollDistance;\n                        dragRef['_boundaryRect'] = this.dom.mainItems.getBoundingClientRect();\n                        if (this.dragScrolling && this.isStartGreaterThanEndWhenBarHandleDragMove(isBefore)) {\n                            this.stopScrolling();\n                            this.dragScrolling = false;\n                        }\n                        if (isBefore) {\n                            this.barBeforeHandleDragMove();\n                        }\n                        else {\n                            this.barAfterHandleDragMove();\n                        }\n                    }\n                });\n                this.dragContainer.dragStarted.emit({ item: this.item.origin });\n            });\n            dragRef.moved.subscribe((event) => {\n                if (this.barHandleDragMoveRecordDays && this.barHandleDragMoveRecordDays > 0) {\n                    this.startScrollingIfNecessary(event.pointerPosition.x, event.pointerPosition.y);\n                }\n                this.barHandleDragMoveDistance = event.distance.x;\n                if (!this.dragScrolling) {\n                    if (isBefore) {\n                        this.barBeforeHandleDragMove();\n                    }\n                    else {\n                        this.barAfterHandleDragMove();\n                    }\n                }\n            });\n            dragRef.ended.subscribe((event) => {\n                this.clearDraggingStyles();\n                this.closeDragBackdrop();\n                event.source.reset();\n                this.stopScrolling();\n                this.dragScrolling = false;\n                this.dragScrollDistance = 0;\n                this.barHandleDragMoveDistance = 0;\n                this.item.updateRefs({\n                    width: this.ganttUpper.view.getDateRangeWidth(this.item.start.startOfDay(), this.item.end.endOfDay()),\n                    x: this.ganttUpper.view.getXPointByDate(this.item.start),\n                    y: (this.ganttUpper.styles.lineHeight - this.ganttUpper.styles.barHeight) / 2 - 1\n                });\n                this.dragContainer.dragEnded.emit({ item: this.item.origin });\n            });\n            dragRefs.push(dragRef);\n        });\n        return dragRefs;\n    }\n    createLinkHandleDrags() {\n        const dragRefs = [];\n        const handles = this.barElement.querySelectorAll('.link-handles .handle');\n        handles.forEach((handle, index) => {\n            const isBegin = index === 0;\n            const dragRef = this.dragDrop.createDrag(handle);\n            dragRef.withBoundaryElement(this.dom.root);\n            dragRef.beforeStarted.subscribe(() => {\n                handle.style.pointerEvents = 'none';\n                if (this.barDragRef) {\n                    this.barDragRef.disabled = true;\n                }\n                this.createLinkDraggingLine();\n                this.dragContainer.emitLinkDragStarted({\n                    element: this.barElement,\n                    item: this.item,\n                    pos: isBegin ? InBarPosition.start : InBarPosition.finish\n                });\n            });\n            dragRef.moved.subscribe(() => {\n                const positions = this.calcLinkLinePositions(handle, isBegin);\n                this.linkDraggingLine.setAttribute('x1', positions.x1.toString());\n                this.linkDraggingLine.setAttribute('y1', positions.y1.toString());\n                this.linkDraggingLine.setAttribute('x2', positions.x2.toString());\n                this.linkDraggingLine.setAttribute('y2', positions.y2.toString());\n            });\n            dragRef.ended.subscribe((event) => {\n                handle.style.pointerEvents = '';\n                if (this.barDragRef) {\n                    this.barDragRef.disabled = false;\n                }\n                // 计算line拖动的落点位于目标Bar的值，如果值大于Bar宽度的一半，说明是拖动到Begin位置，否则则为拖动到End位置\n                if (this.dragContainer.linkDragPath.to) {\n                    const placePointX = event.source.getRootElement().getBoundingClientRect().x -\n                        this.dragContainer.linkDragPath.to.element.getBoundingClientRect().x;\n                    this.dragContainer.emitLinkDragEnded({\n                        ...this.dragContainer.linkDragPath.to,\n                        pos: placePointX < this.dragContainer.linkDragPath.to.item.refs.width / 2\n                            ? InBarPosition.start\n                            : InBarPosition.finish\n                    });\n                }\n                else {\n                    this.dragContainer.emitLinkDragEnded();\n                }\n                event.source.reset();\n                this.barElement.classList.remove(activeClass);\n                this.destroyLinkDraggingLine();\n            });\n            dragRefs.push(dragRef);\n        });\n        return dragRefs;\n    }\n    openDragBackdrop(dragElement, start, end) {\n        const dragBackdropElement = this.dom.root.querySelector('.gantt-drag-backdrop');\n        const dragMaskElement = this.dom.root.querySelector('.gantt-drag-mask');\n        const rootRect = this.dom.root.getBoundingClientRect();\n        const dragRect = dragElement.getBoundingClientRect();\n        let left = dragRect.left - rootRect.left - (this.dom.side.clientWidth + 1);\n        if (this.dragScrolling) {\n            if (this._horizontalScrollDirection === 1 /* AutoScrollHorizontalDirection.LEFT */) {\n                left += this.autoScrollStep;\n            }\n            else if (this._horizontalScrollDirection === 2 /* AutoScrollHorizontalDirection.RIGHT */) {\n                left -= this.autoScrollStep;\n            }\n        }\n        const width = dragRect.right - dragRect.left;\n        // Note: updating styles will cause re-layout so we have to place them consistently one by one.\n        dragMaskElement.style.left = left + 'px';\n        dragMaskElement.style.width = width + 'px';\n        dragMaskElement.style.display = 'block';\n        dragBackdropElement.style.display = 'block';\n        // This will invalidate the layout, but we won't need re-layout, because we set styles previously.\n        dragMaskElement.querySelector('.start').innerHTML = start.format('MM-dd');\n        dragMaskElement.querySelector('.end').innerHTML = end.format('MM-dd');\n    }\n    closeDragBackdrop() {\n        const dragBackdropElement = this.dom.root.querySelector('.gantt-drag-backdrop');\n        const dragMaskElement = this.dom.root.querySelector('.gantt-drag-mask');\n        dragMaskElement.style.display = 'none';\n        dragBackdropElement.style.display = 'none';\n    }\n    setDraggingStyles() {\n        this.barElement.classList.add('gantt-bar-draggable-drag');\n    }\n    clearDraggingStyles() {\n        this.barElement.classList.remove('gantt-bar-draggable-drag');\n    }\n    barDragMove() {\n        const currentX = this.item.refs.x + this.barDragMoveDistance + this.dragScrollDistance;\n        const currentDate = this.ganttUpper.view.getDateByXPoint(currentX);\n        const currentStartX = this.ganttUpper.view.getXPointByDate(currentDate);\n        const dayWidth = this.ganttUpper.view.getDayOccupancyWidth(currentDate);\n        const diffDays = differenceInCalendarDays(this.item.end.value, this.item.start.value);\n        let start = currentDate;\n        let end = currentDate.addDays(diffDays);\n        if (currentX > currentStartX + dayWidth / 2) {\n            start = start.addDays(1);\n            end = end.addDays(1);\n        }\n        if (this.dragScrolling) {\n            const left = currentX - this.barDragMoveDistance;\n            this.barElement.style.left = left + 'px';\n        }\n        this.openDragBackdrop(this.barElement, this.ganttUpper.view.getDateByXPoint(currentX), this.ganttUpper.view.getDateByXPoint(currentX + this.item.refs.width));\n        if (!this.isStartOrEndInsideView(start, end)) {\n            return;\n        }\n        this.item.updateDate(start, end);\n        this.dragContainer.dragMoved.emit({ item: this.item.origin });\n    }\n    barBeforeHandleDragMove() {\n        const { x, start, oneDayWidth } = this.startOfBarHandle();\n        const width = this.item.refs.width + this.barHandleDragMoveAndScrollDistance * -1;\n        const days = differenceInDays(this.item.end.value, start.value);\n        if (width > dragMinWidth && days > 0) {\n            this.barElement.style.width = width + 'px';\n            this.barElement.style.left = x + 'px';\n            this.openDragBackdrop(this.barElement, start, this.item.end);\n            if (!this.isStartOrEndInsideView(start, this.item.end)) {\n                return;\n            }\n            this.item.updateDate(start, this.item.end);\n        }\n        else {\n            if (this.barHandleDragMoveRecordDays > 0 && days <= 0) {\n                this.barElement.style.width = oneDayWidth + 'px';\n                const x = this.ganttUpper.view.getXPointByDate(this.item.end);\n                this.barElement.style.left = x + 'px';\n            }\n            this.openDragBackdrop(this.barElement, this.item.end.startOfDay(), this.item.end);\n            this.item.updateDate(this.item.end.startOfDay(), this.item.end);\n        }\n        this.barHandleDragMoveRecordDays = days;\n        this.dragContainer.dragMoved.emit({ item: this.item.origin });\n    }\n    barAfterHandleDragMove() {\n        const { width, end } = this.endOfBarHandle();\n        const days = differenceInDays(end.value, this.item.start.value);\n        if (width > dragMinWidth && days > 0) {\n            this.barElement.style.width = width + 'px';\n            this.openDragBackdrop(this.barElement, this.item.start, end);\n            if (!this.isStartOrEndInsideView(this.item.start, end)) {\n                return;\n            }\n            this.item.updateDate(this.item.start, end);\n        }\n        else {\n            if (this.barHandleDragMoveRecordDays > 0 && days <= 0) {\n                const oneDayWidth = this.ganttUpper.view.getDateRangeWidth(this.item.start, this.item.start.endOfDay());\n                this.barElement.style.width = oneDayWidth + 'px';\n            }\n            this.openDragBackdrop(this.barElement, this.item.start, this.item.start.endOfDay());\n            this.item.updateDate(this.item.start, this.item.start.endOfDay());\n        }\n        this.barHandleDragMoveRecordDays = days;\n        this.dragContainer.dragMoved.emit({ item: this.item.origin });\n    }\n    calcLinkLinePositions(target, isBefore) {\n        const rootRect = this.dom.root.getBoundingClientRect();\n        const targetRect = target.getBoundingClientRect();\n        const layerRect = target.parentElement.parentElement.getBoundingClientRect();\n        return {\n            x1: layerRect.left + (isBefore ? 0 : layerRect.width) - rootRect.left,\n            y1: layerRect.top + layerRect.height / 2 - rootRect.top,\n            x2: targetRect.left - rootRect.left + targetRect.width / 2,\n            y2: targetRect.top - rootRect.top + targetRect.height / 2\n        };\n    }\n    createLinkDraggingLine() {\n        if (!this.linkDraggingLine) {\n            const svgElement = createSvgElement('svg', 'gantt-link-drag-container');\n            const linElement = createSvgElement('line', 'link-dragging-line');\n            linElement.style.pointerEvents = 'none';\n            svgElement.appendChild(linElement);\n            this.dom.root.appendChild(svgElement);\n            this.linkDraggingLine = linElement;\n        }\n    }\n    destroyLinkDraggingLine() {\n        if (this.linkDraggingLine) {\n            this.linkDraggingLine.parentElement.remove();\n            this.linkDraggingLine = null;\n        }\n    }\n    startScrollingIfNecessary(pointerX, pointerY) {\n        const clientRect = this.dom.mainContainer.getBoundingClientRect();\n        const scrollLeft = this.dom.mainContainer.scrollLeft;\n        if (isPointerNearClientRect(clientRect, DROP_PROXIMITY_THRESHOLD, pointerX, pointerY)) {\n            const horizontalScrollDirection = getHorizontalScrollDirection(clientRect, pointerX);\n            if ((horizontalScrollDirection === 1 /* AutoScrollHorizontalDirection.LEFT */ && scrollLeft > 0) ||\n                (horizontalScrollDirection === 2 /* AutoScrollHorizontalDirection.RIGHT */ &&\n                    scrollLeft < this.ganttUpper.view.width - clientRect.width)) {\n                this._horizontalScrollDirection = horizontalScrollDirection;\n                this.autoScrollSpeedRates = getAutoScrollSpeedRates(clientRect, pointerX, horizontalScrollDirection);\n                this.dragScrolling = true;\n                this._ngZone.runOutsideAngular(this.startScrollInterval);\n            }\n            else {\n                this.dragScrolling = false;\n                this.stopScrolling();\n            }\n        }\n    }\n    // Conditions to stop auto-scroll: when the start is greater than the end and the bar appears in the view\n    isStartGreaterThanEndWhenBarHandleDragMove(isBefore) {\n        let isStartGreaterThanEnd;\n        let isBarAppearsInView;\n        const scrollLeft = this.dom.mainContainer.scrollLeft;\n        const clientWidth = this.dom.mainContainer.clientWidth;\n        const xThreshold = clientWidth * DROP_PROXIMITY_THRESHOLD;\n        if (isBefore) {\n            const { start, oneDayWidth } = this.startOfBarHandle();\n            const xPointerByEndDate = this.ganttUpper.view.getXPointByDate(this.item.end);\n            isStartGreaterThanEnd = start.value > this.item.end.value;\n            isBarAppearsInView = xPointerByEndDate + oneDayWidth + xThreshold <= scrollLeft + clientWidth;\n        }\n        else {\n            const { end } = this.endOfBarHandle();\n            const xPointerByStartDate = this.ganttUpper.view.getXPointByDate(this.item.start);\n            isStartGreaterThanEnd = end.value < this.item.start.value;\n            isBarAppearsInView = scrollLeft + xThreshold <= xPointerByStartDate;\n        }\n        return isStartGreaterThanEnd && isBarAppearsInView ? true : false;\n    }\n    // Some data information about dragging start until it is equal to or greater than end\n    startOfBarHandle() {\n        const x = this.item.refs.x + this.barHandleDragMoveAndScrollDistance;\n        return {\n            x,\n            start: this.ganttUpper.view.getDateByXPoint(x),\n            oneDayWidth: this.ganttUpper.view.getDateRangeWidth(this.item.end.startOfDay(), this.item.end)\n        };\n    }\n    // Some data information about dragging end of bar handle\n    endOfBarHandle() {\n        const width = this.item.refs.width + this.barHandleDragMoveAndScrollDistance;\n        return {\n            width,\n            end: this.ganttUpper.view.getDateByXPoint(this.item.refs.x + width)\n        };\n    }\n    stopScrolling() {\n        this.stopScrollTimers$.next();\n    }\n    isStartOrEndInsideView(start, end) {\n        const itemStart = start.getUnixTime();\n        const itemEnd = end.getUnixTime();\n        const viewStart = this.ganttUpper.view.start.getUnixTime();\n        const viewEnd = this.ganttUpper.view.end.getUnixTime();\n        if (itemStart < viewStart || itemEnd > viewEnd) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    createDrags(elementRef, item, ganttUpper) {\n        this.item = item;\n        this.barElement = elementRef.nativeElement;\n        this.ganttUpper = ganttUpper;\n        if (this.dragDisabled && this.linkDragDisabled) {\n            return;\n        }\n        else {\n            this.createMouseEvents();\n            if (!this.dragDisabled) {\n                const dragRef = this.createBarDrag();\n                const dragHandlesRefs = this.createBarHandleDrags();\n                this.dragRefs.push(dragRef, ...dragHandlesRefs);\n            }\n            if (!this.linkDragDisabled) {\n                const linkDragRefs = this.createLinkHandleDrags();\n                this.dragRefs.push(...linkDragRefs);\n            }\n        }\n    }\n    updateItem(item) {\n        this.item = item;\n    }\n    ngOnDestroy() {\n        this.closeDragBackdrop();\n        this.dragRefs.forEach((dragRef) => dragRef.dispose());\n        this.destroy$.next();\n        this.destroy$.complete();\n        this.stopScrolling();\n        this.stopScrollTimers$.complete();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttBarDrag, deps: [{ token: i2.DragDrop }, { token: GanttDomService }, { token: GanttDragContainer }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttBarDrag }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttBarDrag, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i2.DragDrop }, { type: GanttDomService }, { type: GanttDragContainer }, { type: i0.NgZone }]; } });\n\nclass GanttItemUpper {\n    constructor(elementRef, ganttUpper) {\n        this.elementRef = elementRef;\n        this.ganttUpper = ganttUpper;\n        this.firstChange = true;\n        this.unsubscribe$ = new Subject();\n        this.refsUnsubscribe$ = new Subject();\n    }\n    ngOnInit() {\n        this.firstChange = false;\n        this.item.refs$.pipe(takeUntil(this.refsUnsubscribe$)).subscribe(() => {\n            this.setPositions();\n        });\n    }\n    ngOnChanges(changes) {\n        if (!this.firstChange) {\n            this.itemChange(changes.item.currentValue);\n        }\n    }\n    itemChange(item) {\n        this.refsUnsubscribe$.next();\n        this.refsUnsubscribe$.complete();\n        this.item = item;\n        this.item.refs$.pipe(takeUntil(this.refsUnsubscribe$)).subscribe(() => {\n            this.setPositions();\n        });\n    }\n    setPositions() {\n        const itemElement = this.elementRef.nativeElement;\n        itemElement.style.left = this.item.refs?.x + 'px';\n        itemElement.style.top = this.item.refs?.y + 'px';\n        itemElement.style.width = this.item.refs?.width + 'px';\n        if (this.item.type === GanttItemType.bar) {\n            itemElement.style.height = this.ganttUpper.styles.barHeight + 'px';\n        }\n        else if (this.item.type === GanttItemType.range) {\n            itemElement.style.height = rangeHeight + 'px';\n        }\n    }\n    ngOnDestroy() {\n        this.unsubscribe$.next();\n        this.unsubscribe$.complete();\n        this.refsUnsubscribe$.next();\n        this.refsUnsubscribe$.complete();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttItemUpper, deps: [{ token: i0.ElementRef }, { token: GANTT_UPPER_TOKEN }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttItemUpper, inputs: { template: \"template\", item: \"item\" }, usesOnChanges: true, ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttItemUpper, decorators: [{\n            type: Directive\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }]; }, propDecorators: { template: [{\n                type: Input\n            }], item: [{\n                type: Input\n            }] } });\n\nfunction linearGradient(sideOrCorner, color, stop) {\n    return `linear-gradient(${sideOrCorner},${color} 0%,${stop} 40%)`;\n}\nclass NgxGanttBarComponent extends GanttItemUpper {\n    constructor(dragContainer, drag, elementRef, ganttUpper, ngZone) {\n        super(elementRef, ganttUpper);\n        this.dragContainer = dragContainer;\n        this.drag = drag;\n        this.ganttUpper = ganttUpper;\n        this.ngZone = ngZone;\n        this.barClick = new EventEmitter();\n        this.ganttItemClass = true;\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.dragContainer.dragStarted.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n            this.elementRef.nativeElement.style.pointerEvents = 'none';\n        });\n        this.dragContainer.dragEnded.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n            this.elementRef.nativeElement.style.pointerEvents = '';\n            this.setContentBackground();\n        });\n    }\n    ngOnChanges(changes) {\n        super.ngOnChanges(changes);\n        if (!this.firstChange) {\n            this.drag.updateItem(this.item);\n            if (changes.item.currentValue.refs?.width !== changes.item.previousValue.refs?.width ||\n                changes.item.currentValue.color !== changes.item.previousValue.color ||\n                changes.item.currentValue.start?.value !== changes.item.previousValue.start?.value ||\n                changes.item.currentValue.end?.value !== changes.item.previousValue.end?.value) {\n                this.setContentBackground();\n            }\n        }\n    }\n    ngAfterViewInit() {\n        // Note: the zone may be nooped through `BootstrapOptions` when bootstrapping the root module. This means\n        // the `onStable` will never emit any value.\n        const onStable$ = this.ngZone.isStable ? from(Promise.resolve()) : this.ngZone.onStable.pipe(take(1));\n        // Normally this isn't in the zone, but it can cause performance regressions for apps\n        // using `zone-patch-rxjs` because it'll trigger a change detection when it unsubscribes.\n        this.ngZone.runOutsideAngular(() => {\n            onStable$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n                this.drag.createDrags(this.elementRef, this.item, this.ganttUpper);\n            });\n        });\n        this.setContentBackground();\n        this.handles.changes\n            .pipe(startWith$1(this.handles), switchMap(() => \n        // Note: we need to explicitly subscribe outside of the Angular zone since `addEventListener`\n        // is called when the `fromEvent` is subscribed.\n        new Observable((subscriber) => this.ngZone.runOutsideAngular(() => merge(...this.handles.toArray().map((handle) => fromEvent(handle.nativeElement, 'mousedown'))).subscribe(subscriber)))), takeUntil(this.unsubscribe$))\n            .subscribe((event) => {\n            event.stopPropagation();\n        });\n    }\n    onBarClick(event) {\n        this.barClick.emit({ event, item: this.item.origin });\n    }\n    setContentBackground() {\n        if (this.item.refs?.width) {\n            const contentElement = this.contentElementRef.nativeElement;\n            const color = this.item.color || barBackground;\n            const style = this.item.barStyle || {};\n            const barElement = this.elementRef.nativeElement;\n            if (this.item.origin.start && this.item.origin.end) {\n                style.background = color;\n                style.borderRadius = '';\n            }\n            if (this.item.origin.start && !this.item.origin.end) {\n                style.background = linearGradient('to left', hexToRgb(color, 0.55), hexToRgb(color, 1));\n                const borderRadius = '4px 12.5px 12.5px 4px';\n                style.borderRadius = borderRadius;\n                barElement.style.borderRadius = borderRadius;\n            }\n            if (!this.item.origin.start && this.item.origin.end) {\n                style.background = linearGradient('to right', hexToRgb(color, 0.55), hexToRgb(color, 1));\n                const borderRadius = '12.5px 4px 4px 12.5px';\n                style.borderRadius = borderRadius;\n                barElement.style.borderRadius = borderRadius;\n            }\n            if (this.item.progress >= 0) {\n                const contentProgressElement = contentElement.querySelector('.gantt-bar-content-progress');\n                style.background = hexToRgb(color, 0.3);\n                style.borderRadius = '';\n                contentProgressElement.style.background = color;\n            }\n            for (const key in style) {\n                if (style.hasOwnProperty(key)) {\n                    contentElement.style[key] = style[key];\n                }\n            }\n        }\n    }\n    stopPropagation(event) {\n        event.stopPropagation();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttBarComponent, deps: [{ token: GanttDragContainer }, { token: GanttBarDrag }, { token: i0.ElementRef }, { token: GANTT_UPPER_TOKEN }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: NgxGanttBarComponent, selector: \"ngx-gantt-bar,gantt-bar\", outputs: { barClick: \"barClick\" }, host: { properties: { \"class.gantt-bar\": \"this.ganttItemClass\" } }, providers: [GanttBarDrag], viewQueries: [{ propertyName: \"contentElementRef\", first: true, predicate: [\"content\"], descendants: true }, { propertyName: \"handles\", predicate: [\"handle\"], descendants: true }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<div class=\\\"gantt-bar-layer\\\">\\n  <div class=\\\"drag-handles\\\">\\n    <ng-container *ngIf=\\\"item.draggable && ganttUpper.draggable\\\">\\n      <span class=\\\"handle\\\" #handle></span>\\n      <span class=\\\"handle\\\" #handle></span>\\n    </ng-container>\\n  </div>\\n  <div *ngIf=\\\"item.linkable && ganttUpper.linkable\\\" class=\\\"link-handles\\\">\\n    <span class=\\\"handle\\\"><span class=\\\"point\\\"></span></span>\\n    <span class=\\\"handle\\\"> <span class=\\\"point\\\"></span></span>\\n  </div>\\n</div>\\n<div class=\\\"gantt-bar-border\\\"></div>\\n<div #content class=\\\"gantt-bar-content\\\" (click)=\\\"onBarClick($event)\\\">\\n  <div class=\\\"gantt-bar-content-progress\\\" *ngIf=\\\"item.progress >= 0\\\" [style.width.%]=\\\"item.progress * 100\\\"></div>\\n  <ng-template [ngTemplateOutlet]=\\\"template\\\" [ngTemplateOutletContext]=\\\"{ item: item.origin, refs: item.refs }\\\"> </ng-template>\\n</div>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttBarComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-gantt-bar,gantt-bar', providers: [GanttBarDrag], template: \"<div class=\\\"gantt-bar-layer\\\">\\n  <div class=\\\"drag-handles\\\">\\n    <ng-container *ngIf=\\\"item.draggable && ganttUpper.draggable\\\">\\n      <span class=\\\"handle\\\" #handle></span>\\n      <span class=\\\"handle\\\" #handle></span>\\n    </ng-container>\\n  </div>\\n  <div *ngIf=\\\"item.linkable && ganttUpper.linkable\\\" class=\\\"link-handles\\\">\\n    <span class=\\\"handle\\\"><span class=\\\"point\\\"></span></span>\\n    <span class=\\\"handle\\\"> <span class=\\\"point\\\"></span></span>\\n  </div>\\n</div>\\n<div class=\\\"gantt-bar-border\\\"></div>\\n<div #content class=\\\"gantt-bar-content\\\" (click)=\\\"onBarClick($event)\\\">\\n  <div class=\\\"gantt-bar-content-progress\\\" *ngIf=\\\"item.progress >= 0\\\" [style.width.%]=\\\"item.progress * 100\\\"></div>\\n  <ng-template [ngTemplateOutlet]=\\\"template\\\" [ngTemplateOutletContext]=\\\"{ item: item.origin, refs: item.refs }\\\"> </ng-template>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: GanttDragContainer }, { type: GanttBarDrag }, { type: i0.ElementRef }, { type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }, { type: i0.NgZone }]; }, propDecorators: { barClick: [{\n                type: Output\n            }], contentElementRef: [{\n                type: ViewChild,\n                args: ['content']\n            }], ganttItemClass: [{\n                type: HostBinding,\n                args: ['class.gantt-bar']\n            }], handles: [{\n                type: ViewChildren,\n                args: ['handle']\n            }] } });\n\nclass NgxGanttRangeComponent extends GanttItemUpper {\n    constructor(elementRef, ganttUpper) {\n        super(elementRef, ganttUpper);\n        this.ganttRangeClass = true;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttRangeComponent, deps: [{ token: i0.ElementRef }, { token: GANTT_UPPER_TOKEN }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: NgxGanttRangeComponent, selector: \"ngx-gantt-range,gantt-range\", host: { properties: { \"class.gantt-range\": \"this.ganttRangeClass\" } }, usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"item.start && item.end\\\">\\n  <div class=\\\"gantt-range-main\\\">\\n    <div class=\\\"gantt-range-main-progress\\\" *ngIf=\\\"item.progress >= 0\\\" [style.width.%]=\\\"item.progress * 100\\\"></div>\\n  </div>\\n  <div class=\\\"gantt-range-triangle left\\\"></div>\\n  <div class=\\\"gantt-range-triangle right\\\"></div>\\n  <ng-template [ngTemplateOutlet]=\\\"template\\\" [ngTemplateOutletContext]=\\\"{ item: item.origin, refs: item.refs }\\\"></ng-template>\\n</ng-container>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttRangeComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-gantt-range,gantt-range', template: \"<ng-container *ngIf=\\\"item.start && item.end\\\">\\n  <div class=\\\"gantt-range-main\\\">\\n    <div class=\\\"gantt-range-main-progress\\\" *ngIf=\\\"item.progress >= 0\\\" [style.width.%]=\\\"item.progress * 100\\\"></div>\\n  </div>\\n  <div class=\\\"gantt-range-triangle left\\\"></div>\\n  <div class=\\\"gantt-range-triangle right\\\"></div>\\n  <ng-template [ngTemplateOutlet]=\\\"template\\\" [ngTemplateOutletContext]=\\\"{ item: item.origin, refs: item.refs }\\\"></ng-template>\\n</ng-container>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }]; }, propDecorators: { ganttRangeClass: [{\n                type: HostBinding,\n                args: ['class.gantt-range']\n            }] } });\n\nclass NgxGanttBaselineComponent {\n    constructor(elementRef, ganttUpper) {\n        this.elementRef = elementRef;\n        this.ganttUpper = ganttUpper;\n        this.unsubscribe$ = new Subject();\n        this.ganttBaselineClass = true;\n    }\n    ngOnInit() {\n        this.baselineItem.refs$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n            this.setPositions();\n        });\n    }\n    setPositions() {\n        const itemElement = this.elementRef.nativeElement;\n        itemElement.style.left = this.baselineItem.refs.x + 'px';\n        itemElement.style.bottom = '2px';\n        itemElement.style.width = this.baselineItem.refs.width + 'px';\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttBaselineComponent, deps: [{ token: i0.ElementRef }, { token: GANTT_UPPER_TOKEN }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: NgxGanttBaselineComponent, selector: \"ngx-gantt-baseline,gantt-baseline\", inputs: { baselineItem: \"baselineItem\", template: \"template\" }, host: { properties: { \"class.gantt-baseline\": \"this.ganttBaselineClass\" } }, ngImport: i0, template: \"<div #content *ngIf=\\\"baselineItem\\\" class=\\\"baseline-content\\\">\\n  <ng-template\\n    [ngTemplateOutlet]=\\\"template\\\"\\n    [ngTemplateOutletContext]=\\\"{ item: baselineItem.origin, refs: baselineItem.refs }\\\"\\n  ></ng-template>\\n</div>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttBaselineComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-gantt-baseline,gantt-baseline', template: \"<div #content *ngIf=\\\"baselineItem\\\" class=\\\"baseline-content\\\">\\n  <ng-template\\n    [ngTemplateOutlet]=\\\"template\\\"\\n    [ngTemplateOutletContext]=\\\"{ item: baselineItem.origin, refs: baselineItem.refs }\\\"\\n  ></ng-template>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }]; }, propDecorators: { baselineItem: [{\n                type: Input\n            }], template: [{\n                type: Input\n            }], ganttBaselineClass: [{\n                type: HostBinding,\n                args: ['class.gantt-baseline']\n            }] } });\n\nclass GanttMainComponent {\n    constructor(ganttUpper) {\n        this.ganttUpper = ganttUpper;\n        this.barClick = new EventEmitter();\n        this.lineClick = new EventEmitter();\n        this.ganttMainClass = true;\n    }\n    trackBy(index, item) {\n        return item.id || index;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttMainComponent, deps: [{ token: GANTT_UPPER_TOKEN }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttMainComponent, selector: \"gantt-main\", inputs: { viewportItems: \"viewportItems\", flatItems: \"flatItems\", groupHeaderTemplate: \"groupHeaderTemplate\", itemTemplate: \"itemTemplate\", barTemplate: \"barTemplate\", rangeTemplate: \"rangeTemplate\", baselineTemplate: \"baselineTemplate\" }, outputs: { barClick: \"barClick\", lineClick: \"lineClick\" }, host: { properties: { \"class.gantt-main-container\": \"this.ganttMainClass\" } }, ngImport: i0, template: \"<gantt-links-overlay [flatItems]=\\\"flatItems\\\" (lineClick)=\\\"lineClick.emit($event)\\\"></gantt-links-overlay>\\n<div class=\\\"gantt-main-groups\\\" [style.width.px]=\\\"ganttUpper.view.width\\\">\\n  <ng-container *ngFor=\\\"let data of viewportItems; trackBy: trackBy\\\">\\n    <div class=\\\"gantt-group\\\" [ngClass]=\\\"data.class\\\" *ngIf=\\\"data.items\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"groupHeaderTemplate\\\" [ngTemplateOutletContext]=\\\"{ group: data }\\\"></ng-template>\\n    </div>\\n    <div\\n      *ngIf=\\\"!data.items\\\"\\n      class=\\\"gantt-item\\\"\\n      [style.height.px]=\\\"ganttUpper.styles.lineHeight\\\"\\n      [class.gantt-main-item-active]=\\\"ganttUpper.isSelected(data.id)\\\"\\n    >\\n      <ng-container *ngIf=\\\"data.type | isGanttCustomItem\\\">\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"itemTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{\\n            item: data.origin,\\n            refs: data.refs,\\n            baseline: ganttUpper.baselineItemsMap[data.id]?.origin,\\n            baselineRefs: ganttUpper.baselineItemsMap[data.id]?.refs\\n          }\\\"\\n        >\\n        </ng-template>\\n      </ng-container>\\n\\n      <ng-container *ngIf=\\\"(data.type | isGanttRangeItem) || (data.type | isGanttBarItem)\\\">\\n        <gantt-range *ngIf=\\\"data.type | isGanttRangeItem\\\" [template]=\\\"rangeTemplate\\\" [item]=\\\"data\\\"></gantt-range>\\n        <gantt-bar *ngIf=\\\"data.type | isGanttBarItem\\\" [item]=\\\"data\\\" [template]=\\\"barTemplate\\\" (barClick)=\\\"barClick.emit($event)\\\"></gantt-bar>\\n        <gantt-baseline\\n          *ngIf=\\\"ganttUpper.baselineItemsMap[data.id]\\\"\\n          [baselineItem]=\\\"ganttUpper.baselineItemsMap[data.id]\\\"\\n          [template]=\\\"baselineTemplate\\\"\\n        ></gantt-baseline>\\n      </ng-container>\\n    </div>\\n  </ng-container>\\n</div>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"component\", type: GanttLinksComponent, selector: \"gantt-links-overlay\", inputs: [\"flatItems\"], outputs: [\"lineClick\"] }, { kind: \"component\", type: NgxGanttBarComponent, selector: \"ngx-gantt-bar,gantt-bar\", outputs: [\"barClick\"] }, { kind: \"component\", type: NgxGanttRangeComponent, selector: \"ngx-gantt-range,gantt-range\" }, { kind: \"component\", type: NgxGanttBaselineComponent, selector: \"ngx-gantt-baseline,gantt-baseline\", inputs: [\"baselineItem\", \"template\"] }, { kind: \"pipe\", type: IsGanttRangeItemPipe, name: \"isGanttRangeItem\" }, { kind: \"pipe\", type: IsGanttBarItemPipe, name: \"isGanttBarItem\" }, { kind: \"pipe\", type: IsGanttCustomItemPipe, name: \"isGanttCustomItem\" }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttMainComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'gantt-main', template: \"<gantt-links-overlay [flatItems]=\\\"flatItems\\\" (lineClick)=\\\"lineClick.emit($event)\\\"></gantt-links-overlay>\\n<div class=\\\"gantt-main-groups\\\" [style.width.px]=\\\"ganttUpper.view.width\\\">\\n  <ng-container *ngFor=\\\"let data of viewportItems; trackBy: trackBy\\\">\\n    <div class=\\\"gantt-group\\\" [ngClass]=\\\"data.class\\\" *ngIf=\\\"data.items\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"groupHeaderTemplate\\\" [ngTemplateOutletContext]=\\\"{ group: data }\\\"></ng-template>\\n    </div>\\n    <div\\n      *ngIf=\\\"!data.items\\\"\\n      class=\\\"gantt-item\\\"\\n      [style.height.px]=\\\"ganttUpper.styles.lineHeight\\\"\\n      [class.gantt-main-item-active]=\\\"ganttUpper.isSelected(data.id)\\\"\\n    >\\n      <ng-container *ngIf=\\\"data.type | isGanttCustomItem\\\">\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"itemTemplate\\\"\\n          [ngTemplateOutletContext]=\\\"{\\n            item: data.origin,\\n            refs: data.refs,\\n            baseline: ganttUpper.baselineItemsMap[data.id]?.origin,\\n            baselineRefs: ganttUpper.baselineItemsMap[data.id]?.refs\\n          }\\\"\\n        >\\n        </ng-template>\\n      </ng-container>\\n\\n      <ng-container *ngIf=\\\"(data.type | isGanttRangeItem) || (data.type | isGanttBarItem)\\\">\\n        <gantt-range *ngIf=\\\"data.type | isGanttRangeItem\\\" [template]=\\\"rangeTemplate\\\" [item]=\\\"data\\\"></gantt-range>\\n        <gantt-bar *ngIf=\\\"data.type | isGanttBarItem\\\" [item]=\\\"data\\\" [template]=\\\"barTemplate\\\" (barClick)=\\\"barClick.emit($event)\\\"></gantt-bar>\\n        <gantt-baseline\\n          *ngIf=\\\"ganttUpper.baselineItemsMap[data.id]\\\"\\n          [baselineItem]=\\\"ganttUpper.baselineItemsMap[data.id]\\\"\\n          [template]=\\\"baselineTemplate\\\"\\n        ></gantt-baseline>\\n      </ng-container>\\n    </div>\\n  </ng-container>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }]; }, propDecorators: { viewportItems: [{\n                type: Input\n            }], flatItems: [{\n                type: Input\n            }], groupHeaderTemplate: [{\n                type: Input\n            }], itemTemplate: [{\n                type: Input\n            }], barTemplate: [{\n                type: Input\n            }], rangeTemplate: [{\n                type: Input\n            }], baselineTemplate: [{\n                type: Input\n            }], barClick: [{\n                type: Output\n            }], lineClick: [{\n                type: Output\n            }], ganttMainClass: [{\n                type: HostBinding,\n                args: ['class.gantt-main-container']\n            }] } });\n\nclass GanttCalendarHeaderComponent {\n    get view() {\n        return this.ganttUpper.view;\n    }\n    constructor(ganttUpper, ngZone, elementRef) {\n        this.ganttUpper = ganttUpper;\n        this.ngZone = ngZone;\n        this.elementRef = elementRef;\n        this.unsubscribe$ = new Subject();\n        this.headerHeight = headerHeight;\n        this.viewTypes = GanttViewType;\n        this.className = `gantt-calendar gantt-calendar-header`;\n    }\n    ngOnInit() {\n        this.ngZone.onStable.pipe(take(1)).subscribe(() => {\n            merge(this.ganttUpper.viewChange, this.ganttUpper.view.start$)\n                .pipe(takeUntil(this.unsubscribe$))\n                .subscribe(() => {\n                if (this.ganttUpper.viewType === GanttViewType.day)\n                    this.setTodayPoint();\n            });\n        });\n    }\n    setTodayPoint() {\n        const x = this.view.getTodayXPoint();\n        const today = new GanttDate().getDate();\n        const todayEle = this.elementRef.nativeElement.getElementsByClassName('gantt-calendar-today-overlay')[0];\n        const rect = this.elementRef.nativeElement.getElementsByClassName('today-rect')[0];\n        if (isNumber(x)) {\n            if (rect) {\n                rect.style.left = `${x - todayWidth / 2}px`;\n                rect.style.top = `${headerHeight - todayHeight}px`;\n                rect.innerHTML = today.toString();\n            }\n        }\n        else {\n            todayEle.style.display = 'none';\n        }\n    }\n    trackBy(point, index) {\n        return point.text || index;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttCalendarHeaderComponent, deps: [{ token: GANTT_UPPER_TOKEN }, { token: i0.NgZone }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttCalendarHeaderComponent, selector: \"gantt-calendar-header\", host: { properties: { \"class\": \"this.className\" } }, ngImport: i0, template: \"<div class=\\\"gantt-calendar-today-overlay\\\" [style.width.px]=\\\"view.width\\\">\\n  <span class=\\\"today-rect\\\" [hidden]=\\\"ganttUpper.viewType !== viewTypes.day\\\"> </span>\\n</div>\\n<svg [attr.width]=\\\"view.width\\\" [attr.height]=\\\"headerHeight\\\">\\n  <g>\\n    <text\\n      class=\\\"primary-text\\\"\\n      [ngStyle]=\\\"point.style\\\"\\n      [class.today]=\\\"point.additions?.isToday\\\"\\n      [class.weekend]=\\\"point.additions?.isWeekend\\\"\\n      *ngFor=\\\"let point of view.primaryDatePoints; trackBy: trackBy\\\"\\n      [attr.x]=\\\"point.x\\\"\\n      [attr.y]=\\\"point.y\\\"\\n    >\\n      {{ point.text }}\\n    </text>\\n    <ng-container *ngFor=\\\"let point of view.secondaryDatePoints; trackBy: trackBy\\\">\\n      <text\\n        class=\\\"secondary-text\\\"\\n        [ngStyle]=\\\"point.style\\\"\\n        [class.today]=\\\"point.additions?.isToday\\\"\\n        [class.weekend]=\\\"point.additions?.isWeekend\\\"\\n        [attr.x]=\\\"point.x\\\"\\n        [attr.y]=\\\"point.y\\\"\\n      >\\n        {{ point.text }}\\n      </text>\\n    </ng-container>\\n\\n    <g>\\n      <line\\n        *ngFor=\\\"let point of view.primaryDatePoints; let i = index; trackBy: trackBy\\\"\\n        [attr.x1]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.x2]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.y1]=\\\"0\\\"\\n        [attr.y2]=\\\"headerHeight\\\"\\n        class=\\\"primary-line\\\"\\n      ></line>\\n    </g>\\n\\n    <g>\\n      <line [attr.x1]=\\\"0\\\" [attr.x2]=\\\"view.width\\\" [attr.y1]=\\\"headerHeight\\\" [attr.y2]=\\\"headerHeight\\\" class=\\\"header-line\\\"></line>\\n    </g>\\n  </g>\\n</svg>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i1.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttCalendarHeaderComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'gantt-calendar-header', template: \"<div class=\\\"gantt-calendar-today-overlay\\\" [style.width.px]=\\\"view.width\\\">\\n  <span class=\\\"today-rect\\\" [hidden]=\\\"ganttUpper.viewType !== viewTypes.day\\\"> </span>\\n</div>\\n<svg [attr.width]=\\\"view.width\\\" [attr.height]=\\\"headerHeight\\\">\\n  <g>\\n    <text\\n      class=\\\"primary-text\\\"\\n      [ngStyle]=\\\"point.style\\\"\\n      [class.today]=\\\"point.additions?.isToday\\\"\\n      [class.weekend]=\\\"point.additions?.isWeekend\\\"\\n      *ngFor=\\\"let point of view.primaryDatePoints; trackBy: trackBy\\\"\\n      [attr.x]=\\\"point.x\\\"\\n      [attr.y]=\\\"point.y\\\"\\n    >\\n      {{ point.text }}\\n    </text>\\n    <ng-container *ngFor=\\\"let point of view.secondaryDatePoints; trackBy: trackBy\\\">\\n      <text\\n        class=\\\"secondary-text\\\"\\n        [ngStyle]=\\\"point.style\\\"\\n        [class.today]=\\\"point.additions?.isToday\\\"\\n        [class.weekend]=\\\"point.additions?.isWeekend\\\"\\n        [attr.x]=\\\"point.x\\\"\\n        [attr.y]=\\\"point.y\\\"\\n      >\\n        {{ point.text }}\\n      </text>\\n    </ng-container>\\n\\n    <g>\\n      <line\\n        *ngFor=\\\"let point of view.primaryDatePoints; let i = index; trackBy: trackBy\\\"\\n        [attr.x1]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.x2]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.y1]=\\\"0\\\"\\n        [attr.y2]=\\\"headerHeight\\\"\\n        class=\\\"primary-line\\\"\\n      ></line>\\n    </g>\\n\\n    <g>\\n      <line [attr.x1]=\\\"0\\\" [attr.x2]=\\\"view.width\\\" [attr.y1]=\\\"headerHeight\\\" [attr.y2]=\\\"headerHeight\\\" class=\\\"header-line\\\"></line>\\n    </g>\\n  </g>\\n</svg>\\n\" }]\n        }], ctorParameters: function () { return [{ type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }, { type: i0.NgZone }, { type: i0.ElementRef }]; }, propDecorators: { className: [{\n                type: HostBinding,\n                args: ['class']\n            }] } });\n\nconst mainHeight = 5000;\nclass GanttCalendarGridComponent {\n    get view() {\n        return this.ganttUpper.view;\n    }\n    constructor(ganttUpper, ngZone, elementRef) {\n        this.ganttUpper = ganttUpper;\n        this.ngZone = ngZone;\n        this.elementRef = elementRef;\n        this.unsubscribe$ = new Subject();\n        this.headerHeight = headerHeight;\n        this.mainHeight = mainHeight;\n        this.todayBorderRadius = todayBorderRadius;\n        this.viewTypes = GanttViewType;\n        this.className = `gantt-calendar gantt-calendar-grid`;\n    }\n    setTodayPoint() {\n        const x = this.view.getTodayXPoint();\n        const todayEle = this.elementRef.nativeElement.getElementsByClassName('gantt-calendar-today-overlay')[0];\n        const line = this.elementRef.nativeElement.getElementsByClassName('today-line')[0];\n        if (isNumber(x)) {\n            if (line) {\n                line.style.left = `${x}px`;\n                line.style.top = `0px`;\n                line.style.bottom = `${-mainHeight}px`;\n            }\n        }\n        else {\n            todayEle.style.display = 'none';\n        }\n    }\n    ngOnInit() {\n        this.ngZone.onStable.pipe(take(1)).subscribe(() => {\n            merge(this.ganttUpper.viewChange, this.ganttUpper.view.start$)\n                .pipe(takeUntil(this.unsubscribe$))\n                .subscribe(() => {\n                this.setTodayPoint();\n            });\n        });\n    }\n    trackBy(point, index) {\n        return point.text || index;\n    }\n    ngOnDestroy() {\n        this.unsubscribe$.next();\n        this.unsubscribe$.complete();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttCalendarGridComponent, deps: [{ token: GANTT_UPPER_TOKEN }, { token: i0.NgZone }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttCalendarGridComponent, selector: \"gantt-calendar-grid\", host: { properties: { \"class\": \"this.className\" } }, ngImport: i0, template: \"<div class=\\\"gantt-calendar-today-overlay\\\" [style.width.px]=\\\"view.width\\\">\\n  <span class=\\\"today-line\\\" *ngIf=\\\"ganttUpper.showTodayLine\\\"> </span>\\n</div>\\n\\n<svg class=\\\"gantt-calendar-grid-main\\\" [attr.width]=\\\"view.width\\\" [attr.height]=\\\"headerHeight - 1\\\">\\n  <g>\\n    <g *ngIf=\\\"view.showTimeline\\\">\\n      <line\\n        *ngFor=\\\"let point of view.secondaryDatePoints; let i = index; trackBy: trackBy\\\"\\n        [attr.x1]=\\\"(i + 1) * view.cellWidth\\\"\\n        [attr.x2]=\\\"(i + 1) * view.cellWidth\\\"\\n        [attr.y1]=\\\"0\\\"\\n        [attr.y2]=\\\"mainHeight\\\"\\n        class=\\\"secondary-line\\\"\\n      ></line>\\n    </g>\\n    <g>\\n      <line\\n        *ngFor=\\\"let point of view.primaryDatePoints; let i = index; trackBy: trackBy\\\"\\n        [attr.x1]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.x2]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.y1]=\\\"0\\\"\\n        [attr.y2]=\\\"mainHeight\\\"\\n        class=\\\"primary-line\\\"\\n      ></line>\\n    </g>\\n  </g>\\n</svg>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttCalendarGridComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'gantt-calendar-grid', template: \"<div class=\\\"gantt-calendar-today-overlay\\\" [style.width.px]=\\\"view.width\\\">\\n  <span class=\\\"today-line\\\" *ngIf=\\\"ganttUpper.showTodayLine\\\"> </span>\\n</div>\\n\\n<svg class=\\\"gantt-calendar-grid-main\\\" [attr.width]=\\\"view.width\\\" [attr.height]=\\\"headerHeight - 1\\\">\\n  <g>\\n    <g *ngIf=\\\"view.showTimeline\\\">\\n      <line\\n        *ngFor=\\\"let point of view.secondaryDatePoints; let i = index; trackBy: trackBy\\\"\\n        [attr.x1]=\\\"(i + 1) * view.cellWidth\\\"\\n        [attr.x2]=\\\"(i + 1) * view.cellWidth\\\"\\n        [attr.y1]=\\\"0\\\"\\n        [attr.y2]=\\\"mainHeight\\\"\\n        class=\\\"secondary-line\\\"\\n      ></line>\\n    </g>\\n    <g>\\n      <line\\n        *ngFor=\\\"let point of view.primaryDatePoints; let i = index; trackBy: trackBy\\\"\\n        [attr.x1]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.x2]=\\\"(i + 1) * view.primaryWidth\\\"\\n        [attr.y1]=\\\"0\\\"\\n        [attr.y2]=\\\"mainHeight\\\"\\n        class=\\\"primary-line\\\"\\n      ></line>\\n    </g>\\n  </g>\\n</svg>\\n\" }]\n        }], ctorParameters: function () { return [{ type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }, { type: i0.NgZone }, { type: i0.ElementRef }]; }, propDecorators: { className: [{\n                type: HostBinding,\n                args: ['class']\n            }] } });\n\nclass GanttLoaderComponent {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttLoaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttLoaderComponent, selector: \"gantt-loader\", host: { classAttribute: \"gantt-loader gantt-loader-overlay\" }, ngImport: i0, template: `\n        <div class=\"gantt-loader-wrapper\">\n            <div class=\"gantt-loader-loading\">\n                <span class=\"gantt-loader-loading-spot\"></span>\n            </div>\n        </div>\n    `, isInline: true }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttLoaderComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'gantt-loader',\n                    template: `\n        <div class=\"gantt-loader-wrapper\">\n            <div class=\"gantt-loader-loading\">\n                <span class=\"gantt-loader-loading-spot\"></span>\n            </div>\n        </div>\n    `,\n                    host: {\n                        class: 'gantt-loader gantt-loader-overlay'\n                    }\n                }]\n        }] });\n\nclass GanttDragBackdropComponent {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttDragBackdropComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: GanttDragBackdropComponent, selector: \"gantt-drag-backdrop\", host: { classAttribute: \"gantt-drag-backdrop\" }, ngImport: i0, template: \"<div class=\\\"gantt-drag-mask\\\">\\n  <div class=\\\"date-range\\\">\\n    <span class=\\\"start\\\"></span>\\n    <span class=\\\"end\\\"></span>\\n  </div>\\n</div>\\n\" }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttDragBackdropComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'gantt-drag-backdrop', host: {\n                        class: 'gantt-drag-backdrop'\n                    }, template: \"<div class=\\\"gantt-drag-mask\\\">\\n  <div class=\\\"date-range\\\">\\n    <span class=\\\"start\\\"></span>\\n    <span class=\\\"end\\\"></span>\\n  </div>\\n</div>\\n\" }]\n        }] });\n\nclass GanttPrintService {\n    constructor() { }\n    setInlineStyles(targetElem) {\n        const svgElements = Array.from(targetElem.getElementsByTagName('svg'));\n        for (const svgElement of svgElements) {\n            this.recursElementChildren(svgElement);\n        }\n    }\n    recursElementChildren(node) {\n        const transformProperties = [\n            'fill',\n            'color',\n            'font-size',\n            'stroke',\n            'font',\n            'text-anchor',\n            'stroke-dasharray',\n            'shape-rendering',\n            'stroke-width'\n        ];\n        if (!node.style) {\n            return;\n        }\n        const styles = getComputedStyle(node);\n        for (const transformProperty of transformProperties) {\n            node.style[transformProperty] = styles[transformProperty];\n        }\n        for (const child of Array.from(node.childNodes)) {\n            this.recursElementChildren(child);\n        }\n    }\n    register(root) {\n        this.root = root.nativeElement;\n        this.mainContainer = this.root.getElementsByClassName('gantt-main-container')[0];\n    }\n    async print(name = 'download', ignoreElementClass) {\n        const root = this.root;\n        const mainContainer = this.mainContainer;\n        // set print width\n        const printWidth = root.offsetWidth;\n        // set print height\n        const printHeight = root.offsetHeight - mainContainer.offsetHeight + mainContainer.scrollHeight;\n        const html2canvas = (await import(/* webpackChunkName: 'html2canvas' */ 'html2canvas')).default;\n        html2canvas(root, {\n            logging: false,\n            allowTaint: true,\n            useCORS: true,\n            width: printWidth,\n            height: printHeight,\n            ignoreElements: (element) => {\n                if (ignoreElementClass && element.classList.contains(ignoreElementClass)) {\n                    return true;\n                }\n                if (element.classList.contains('gantt-calendar-today-overlay')) {\n                    return true;\n                }\n            },\n            onclone: (cloneDocument) => {\n                const ganttClass = root.className;\n                const cloneGanttDom = cloneDocument.querySelector(`.${ganttClass.replace(/\\s+/g, '.')}`);\n                const cloneGanttContainerDom = cloneDocument.querySelector('.gantt-container');\n                const cloneCalendarOverlay = cloneDocument.querySelector('.gantt-calendar-grid-main');\n                const cloneLinksOverlay = cloneDocument.querySelector('.gantt-links-overlay-main');\n                // change targetDom width\n                cloneGanttDom.style.width = `${printWidth}px`;\n                cloneGanttDom.style.height = `${printHeight}px`;\n                cloneGanttDom.style.overflow = `unset`;\n                cloneGanttContainerDom.style.backgroundColor = '#fff';\n                cloneCalendarOverlay.setAttribute('height', `${printHeight}`);\n                cloneCalendarOverlay.setAttribute('style', `background: transparent`);\n                if (cloneLinksOverlay) {\n                    cloneLinksOverlay.setAttribute('height', `${printHeight}`);\n                    cloneLinksOverlay.setAttribute('style', `height: ${printHeight}px`);\n                }\n                // setInlineStyles for svg\n                this.setInlineStyles(cloneGanttDom);\n            }\n        }).then((canvas) => {\n            const link = document.createElement('a');\n            const dataUrl = canvas.toDataURL('image/png');\n            link.download = `${name}.png`;\n            link.href = dataUrl;\n            link.click();\n        });\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttPrintService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttPrintService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: GanttPrintService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return []; } });\n\nclass NgxGanttToolbarComponent {\n    constructor(ganttUpper) {\n        this.ganttUpper = ganttUpper;\n        this.ganttItemClass = true;\n        this.ganttViewsMap = keyBy(ganttViews, 'value');\n    }\n    selectView(view) {\n        this.ganttUpper.changeView(view);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttToolbarComponent, deps: [{ token: GANTT_UPPER_TOKEN }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: NgxGanttToolbarComponent, selector: \"ngx-gantt-toolbar,gantt-toolbar\", inputs: { template: \"template\" }, host: { properties: { \"class.gantt-toolbar\": \"this.ganttItemClass\" } }, ngImport: i0, template: \"<div class=\\\"toolbar-container\\\">\\n  <ng-container *ngIf=\\\"!template\\\">\\n    <div class=\\\"toolbar-views\\\" *ngIf=\\\"this.ganttUpper.toolbarOptions?.viewTypes?.length\\\">\\n      <ng-container *ngFor=\\\"let view of this.ganttUpper.toolbarOptions?.viewTypes\\\">\\n        <div class=\\\"toolbar-view\\\" *ngIf=\\\"ganttViewsMap[view]\\\" [class.active]=\\\"view === this.ganttUpper.viewType\\\" (click)=\\\"selectView(view)\\\">\\n          {{ ganttViewsMap[view].name }}\\n        </div>\\n      </ng-container>\\n    </div>\\n  </ng-container>\\n  <ng-template [ngTemplateOutlet]=\\\"template\\\"></ng-template>\\n</div>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttToolbarComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-gantt-toolbar,gantt-toolbar', template: \"<div class=\\\"toolbar-container\\\">\\n  <ng-container *ngIf=\\\"!template\\\">\\n    <div class=\\\"toolbar-views\\\" *ngIf=\\\"this.ganttUpper.toolbarOptions?.viewTypes?.length\\\">\\n      <ng-container *ngFor=\\\"let view of this.ganttUpper.toolbarOptions?.viewTypes\\\">\\n        <div class=\\\"toolbar-view\\\" *ngIf=\\\"ganttViewsMap[view]\\\" [class.active]=\\\"view === this.ganttUpper.viewType\\\" (click)=\\\"selectView(view)\\\">\\n          {{ ganttViewsMap[view].name }}\\n        </div>\\n      </ng-container>\\n    </div>\\n  </ng-container>\\n  <ng-template [ngTemplateOutlet]=\\\"template\\\"></ng-template>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }]; }, propDecorators: { template: [{\n                type: Input\n            }], ganttItemClass: [{\n                type: HostBinding,\n                args: ['class.gantt-toolbar']\n            }] } });\n\nclass NgxGanttRootComponent {\n    get view() {\n        return this.ganttUpper.view;\n    }\n    onWindowResize() {\n        this.computeScrollBarOffset();\n    }\n    constructor(elementRef, ngZone, dom, dragContainer, ganttUpper, printService) {\n        this.elementRef = elementRef;\n        this.ngZone = ngZone;\n        this.dom = dom;\n        this.dragContainer = dragContainer;\n        this.ganttUpper = ganttUpper;\n        this.printService = printService;\n        this.verticalScrollbarWidth = 0;\n        this.horizontalScrollbarHeight = 0;\n        this.unsubscribe$ = new Subject();\n        this.ganttUpper.dragContainer = dragContainer;\n    }\n    ngOnInit() {\n        // Note: the zone may be nooped through `BootstrapOptions` when bootstrapping the root module. This means\n        // the `onStable` will never emit any value.\n        const onStable$ = this.ngZone.isStable ? from(Promise.resolve()) : this.ngZone.onStable.pipe(take(1));\n        // Normally this isn't in the zone, but it can cause performance regressions for apps\n        // using `zone-patch-rxjs` because it'll trigger a change detection when it unsubscribes.\n        this.ngZone.runOutsideAngular(() => {\n            onStable$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n                this.dom.initialize(this.elementRef);\n                if (this.printService) {\n                    this.printService.register(this.elementRef);\n                }\n                this.setupScrollClass();\n                this.setupResize();\n                this.setupViewScroll();\n                // 优化初始化时Scroll滚动体验问题，通过透明度解决，默认透明度为0，滚动结束后恢复\n                this.elementRef.nativeElement.style.opacity = '1';\n                this.ganttUpper.viewChange.pipe(startWith$1(null), takeUntil(this.unsubscribe$)).subscribe(() => {\n                    this.scrollToToday();\n                });\n                this.computeScrollBarOffset();\n            });\n        });\n    }\n    computeScrollBarOffset() {\n        const ganttMainContainer = this.dom.mainContainer;\n        const ganttVerticalScrollContainer = this.dom.verticalScrollContainer;\n        let verticalScrollbarWidth = 0;\n        if (ganttVerticalScrollContainer) {\n            verticalScrollbarWidth = ganttVerticalScrollContainer.offsetWidth - ganttVerticalScrollContainer.clientWidth;\n        }\n        else {\n            verticalScrollbarWidth = ganttMainContainer?.offsetWidth - ganttMainContainer?.clientWidth;\n        }\n        const horizontalScrollbarHeight = ganttMainContainer?.offsetHeight - ganttMainContainer?.clientHeight;\n        this.verticalScrollbarWidth = verticalScrollbarWidth;\n        this.horizontalScrollbarHeight = horizontalScrollbarHeight;\n    }\n    ngOnDestroy() {\n        this.unsubscribe$.next();\n    }\n    setupViewScroll() {\n        if (this.ganttUpper.disabledLoadOnScroll) {\n            return;\n        }\n        this.dom\n            .getViewerScroll(passiveListenerOptions)\n            .pipe(takeUntil(this.unsubscribe$))\n            .subscribe((event) => {\n            if (event.direction === ScrollDirection.LEFT) {\n                const dates = this.view.addStartDate();\n                if (dates) {\n                    event.target.scrollLeft += this.view.getDateRangeWidth(dates.start, dates.end);\n                    if (this.ganttUpper.loadOnScroll.observers) {\n                        this.ngZone.run(() => this.ganttUpper.loadOnScroll.emit({ start: dates.start.getUnixTime(), end: dates.end.getUnixTime() }));\n                    }\n                }\n            }\n            if (event.direction === ScrollDirection.RIGHT) {\n                const dates = this.view.addEndDate();\n                if (dates && this.ganttUpper.loadOnScroll.observers) {\n                    this.ngZone.run(() => this.ganttUpper.loadOnScroll.emit({ start: dates.start.getUnixTime(), end: dates.end.getUnixTime() }));\n                }\n            }\n        });\n    }\n    setupResize() {\n        this.dom\n            .getResize()\n            .pipe(takeUntil(this.unsubscribe$))\n            .subscribe(() => {\n            this.setupScrollClass();\n        });\n    }\n    setupScrollClass() {\n        const mainContainer = this.dom.mainContainer;\n        const height = mainContainer.offsetHeight;\n        const scrollHeight = mainContainer.scrollHeight;\n        if (scrollHeight > height) {\n            this.elementRef.nativeElement.className = 'gantt gantt-scroll';\n        }\n        else {\n            this.elementRef.nativeElement.className = 'gantt';\n        }\n    }\n    scrollToToday() {\n        const x = this.view.getTodayXPoint();\n        this.dom.scrollMainContainer(x);\n    }\n    scrollToDate(date) {\n        let x;\n        if (typeof date === 'number') {\n            x = this.view.getXPointByDate(new GanttDate(date));\n        }\n        else {\n            x = this.view.getXPointByDate(date);\n        }\n        this.dom.scrollMainContainer(x);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttRootComponent, deps: [{ token: i0.ElementRef }, { token: i0.NgZone }, { token: GanttDomService }, { token: GanttDragContainer }, { token: GANTT_UPPER_TOKEN }, { token: GanttPrintService, optional: true }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: NgxGanttRootComponent, selector: \"ngx-gantt-root\", inputs: { sideWidth: \"sideWidth\" }, host: { listeners: { \"window:resize\": \"onWindowResize()\" }, classAttribute: \"gantt\" }, providers: [GanttDomService, GanttDragContainer], queries: [{ propertyName: \"sideTemplate\", first: true, predicate: [\"sideTemplate\"], descendants: true, static: true }, { propertyName: \"mainTemplate\", first: true, predicate: [\"mainTemplate\"], descendants: true, static: true }], viewQueries: [{ propertyName: \"backdrop\", first: true, predicate: GanttDragBackdropComponent, descendants: true, read: ElementRef, static: true }], ngImport: i0, template: \"<div class=\\\"gantt-side\\\" *ngIf=\\\"sideTemplate\\\" [style.width.px]=\\\"sideWidth\\\" [style.padding-bottom.px]=\\\"horizontalScrollbarHeight\\\">\\n  <div class=\\\"gantt-side-container\\\" cdkScrollable>\\n    <ng-template [ngTemplateOutlet]=\\\"sideTemplate\\\"></ng-template>\\n  </div>\\n</div>\\n<div class=\\\"gantt-container\\\" *ngIf=\\\"mainTemplate\\\">\\n  <gantt-calendar-header [style.padding-right.px]=\\\"verticalScrollbarWidth\\\"></gantt-calendar-header>\\n  <gantt-calendar-grid\\n    [style.padding-right.px]=\\\"verticalScrollbarWidth\\\"\\n    [style.padding-bottom.px]=\\\"horizontalScrollbarHeight\\\"\\n  ></gantt-calendar-grid>\\n  <gantt-drag-backdrop></gantt-drag-backdrop>\\n  <div class=\\\"gantt-main\\\">\\n    <ng-template [ngTemplateOutlet]=\\\"mainTemplate\\\"></ng-template>\\n  </div>\\n</div>\\n<ng-content></ng-content>\\n<gantt-toolbar *ngIf=\\\"ganttUpper.showToolbar || ganttUpper.toolbarTemplate\\\" [template]=\\\"ganttUpper.toolbarTemplate\\\"> </gantt-toolbar>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i1$1.CdkScrollable, selector: \"[cdk-scrollable], [cdkScrollable]\" }, { kind: \"component\", type: GanttCalendarHeaderComponent, selector: \"gantt-calendar-header\" }, { kind: \"component\", type: GanttCalendarGridComponent, selector: \"gantt-calendar-grid\" }, { kind: \"component\", type: GanttDragBackdropComponent, selector: \"gantt-drag-backdrop\" }, { kind: \"component\", type: NgxGanttToolbarComponent, selector: \"ngx-gantt-toolbar,gantt-toolbar\", inputs: [\"template\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttRootComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-gantt-root', providers: [GanttDomService, GanttDragContainer], host: {\n                        class: 'gantt'\n                    }, template: \"<div class=\\\"gantt-side\\\" *ngIf=\\\"sideTemplate\\\" [style.width.px]=\\\"sideWidth\\\" [style.padding-bottom.px]=\\\"horizontalScrollbarHeight\\\">\\n  <div class=\\\"gantt-side-container\\\" cdkScrollable>\\n    <ng-template [ngTemplateOutlet]=\\\"sideTemplate\\\"></ng-template>\\n  </div>\\n</div>\\n<div class=\\\"gantt-container\\\" *ngIf=\\\"mainTemplate\\\">\\n  <gantt-calendar-header [style.padding-right.px]=\\\"verticalScrollbarWidth\\\"></gantt-calendar-header>\\n  <gantt-calendar-grid\\n    [style.padding-right.px]=\\\"verticalScrollbarWidth\\\"\\n    [style.padding-bottom.px]=\\\"horizontalScrollbarHeight\\\"\\n  ></gantt-calendar-grid>\\n  <gantt-drag-backdrop></gantt-drag-backdrop>\\n  <div class=\\\"gantt-main\\\">\\n    <ng-template [ngTemplateOutlet]=\\\"mainTemplate\\\"></ng-template>\\n  </div>\\n</div>\\n<ng-content></ng-content>\\n<gantt-toolbar *ngIf=\\\"ganttUpper.showToolbar || ganttUpper.toolbarTemplate\\\" [template]=\\\"ganttUpper.toolbarTemplate\\\"> </gantt-toolbar>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.NgZone }, { type: GanttDomService }, { type: GanttDragContainer }, { type: GanttUpper, decorators: [{\n                    type: Inject,\n                    args: [GANTT_UPPER_TOKEN]\n                }] }, { type: GanttPrintService, decorators: [{\n                    type: Optional\n                }] }]; }, propDecorators: { sideWidth: [{\n                type: Input\n            }], sideTemplate: [{\n                type: ContentChild,\n                args: ['sideTemplate', { static: true }]\n            }], mainTemplate: [{\n                type: ContentChild,\n                args: ['mainTemplate', { static: true }]\n            }], backdrop: [{\n                type: ViewChild,\n                args: [GanttDragBackdropComponent, { static: true, read: ElementRef }]\n            }], onWindowResize: [{\n                type: HostListener,\n                args: ['window:resize']\n            }] } });\n\nclass NgxGanttComponent extends GanttUpper {\n    set loading(loading) {\n        if (loading) {\n            if (this.loadingDelay > 0) {\n                this.loadingTimer = setTimeout(() => {\n                    this._loading = loading;\n                    this.cdr.markForCheck();\n                }, this.loadingDelay);\n            }\n            else {\n                this._loading = loading;\n            }\n        }\n        else {\n            clearTimeout(this.loadingTimer);\n            this._loading = loading;\n        }\n    }\n    get loading() {\n        return this._loading;\n    }\n    constructor(elementRef, cdr, ngZone, viewportRuler, config) {\n        super(elementRef, cdr, ngZone, config);\n        this.viewportRuler = viewportRuler;\n        this.maxLevel = 2;\n        this.virtualScrollEnabled = true;\n        this.loadingDelay = 0;\n        this.linkDragStarted = new EventEmitter();\n        this.linkDragEnded = new EventEmitter();\n        this.lineClick = new EventEmitter();\n        this.selectedChange = new EventEmitter();\n        this.virtualScrolledIndexChange = new EventEmitter();\n        this.flatItems = [];\n        this.viewportItems = [];\n        this._loading = false;\n        this.rangeStart = 0;\n        this.rangeEnd = 0;\n        this.computeAllRefs = false;\n    }\n    ngOnInit() {\n        super.ngOnInit();\n        this.buildFlatItems();\n        // Note: the zone may be nooped through `BootstrapOptions` when bootstrapping the root module. This means\n        // the `onStable` will never emit any value.\n        const onStable$ = this.ngZone.isStable ? from(Promise.resolve()) : this.ngZone.onStable.pipe(take(1));\n        // Normally this isn't in the zone, but it can cause performance regressions for apps\n        // using `zone-patch-rxjs` because it'll trigger a change detection when it unsubscribes.\n        this.ngZone.runOutsideAngular(() => {\n            onStable$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n                this.dragContainer.linkDragStarted.pipe(takeUntil(this.unsubscribe$)).subscribe((event) => {\n                    this.linkDragStarted.emit(event);\n                });\n                this.dragContainer.linkDragEnded.pipe(takeUntil(this.unsubscribe$)).subscribe((event) => {\n                    this.linkDragEnded.emit(event);\n                });\n            });\n        });\n        this.view.start$.pipe(skip(1), takeUntil(this.unsubscribe$)).subscribe(() => {\n            this.computeTempDataRefs();\n        });\n        if (!this.virtualScrollEnabled) {\n            this.viewportItems = this.flatItems.slice(this.rangeStart, this.rangeEnd);\n            this.computeTempDataRefs();\n        }\n    }\n    ngOnChanges(changes) {\n        super.ngOnChanges(changes);\n        if (!this.firstChange) {\n            if (changes.viewType && changes.viewType.currentValue) {\n                this.viewportItems = this.flatItems.slice(this.rangeStart, this.rangeEnd);\n                this.computeTempDataRefs();\n            }\n            if (changes.originItems || changes.originGroups) {\n                this.buildFlatItems();\n                this.viewportItems = this.flatItems.slice(this.rangeStart, this.rangeEnd);\n                this.computeTempDataRefs();\n            }\n        }\n    }\n    ngAfterViewInit() {\n        if (this.virtualScrollEnabled) {\n            this.virtualScroll.renderedRangeStream.pipe(takeUntil(this.unsubscribe$)).subscribe((range) => {\n                const linksElement = this.elementRef.nativeElement.querySelector('.gantt-links-overlay');\n                linksElement.style.top = `${-(this.styles.lineHeight * range.start)}px`;\n                this.rangeStart = range.start;\n                this.rangeEnd = range.end;\n                this.viewportItems = this.flatItems.slice(range.start, range.end);\n                this.computeTempDataRefs();\n            });\n        }\n    }\n    ngAfterViewChecked() {\n        if (this.virtualScrollEnabled && this.viewportRuler && this.virtualScroll.getRenderedRange().end > 0) {\n            const onStable$ = this.ngZone.isStable ? from(Promise.resolve()) : this.ngZone.onStable.pipe(take(1));\n            this.ngZone.runOutsideAngular(() => {\n                onStable$.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\n                    if (!this.ganttRoot.verticalScrollbarWidth) {\n                        this.ganttRoot.computeScrollBarOffset();\n                        this.cdr.markForCheck();\n                    }\n                });\n            });\n        }\n    }\n    buildFlatItems() {\n        const virtualData = [];\n        if (this.groups.length) {\n            this.groups.forEach((group) => {\n                virtualData.push(group);\n                if (group.expanded) {\n                    const items = recursiveItems(group.items);\n                    virtualData.push(...items);\n                }\n            });\n        }\n        if (this.items.length) {\n            virtualData.push(...recursiveItems(this.items));\n        }\n        this.flatItems = [...virtualData];\n        this.flatItemsMap = keyBy(this.flatItems, 'id');\n        if (!this.virtualScrollEnabled) {\n            this.rangeStart = 0;\n            this.rangeEnd = this.flatItems.length;\n        }\n    }\n    afterExpand() {\n        this.buildFlatItems();\n        this.viewportItems = this.flatItems.slice(this.rangeStart, this.rangeEnd);\n    }\n    computeTempDataRefs() {\n        const tempItemData = [];\n        this.viewportItems.forEach((data) => {\n            if (!data.hasOwnProperty('items')) {\n                const item = data;\n                if (item.links) {\n                    item.links.forEach((link) => {\n                        if (this.flatItemsMap[link.link]) {\n                            tempItemData.push(this.flatItemsMap[link.link]);\n                        }\n                    });\n                }\n                tempItemData.push(data);\n            }\n        });\n        this.computeItemsRefs(...uniqBy(tempItemData, 'id'));\n        this.flatItems = [...this.flatItems];\n        this.viewportItems = [...this.viewportItems];\n    }\n    expandChildren(item) {\n        if (!item.expanded) {\n            item.setExpand(true);\n            if (this.async && this.childrenResolve && item.children.length === 0) {\n                item.loading = true;\n                this.childrenResolve(item.origin)\n                    .pipe(take(1), finalize(() => {\n                    item.loading = false;\n                    this.afterExpand();\n                    this.expandChange.emit(item);\n                    this.cdr.detectChanges();\n                }))\n                    .subscribe((items) => {\n                    item.addChildren(items);\n                    this.computeItemsRefs(...item.children);\n                });\n            }\n            else {\n                this.computeItemsRefs(...item.children);\n                this.afterExpand();\n                this.expandChange.emit(item);\n            }\n        }\n        else {\n            item.setExpand(false);\n            this.afterExpand();\n            this.expandChange.emit(item);\n        }\n    }\n    selectItem(selectEvent) {\n        if (!this.selectable) {\n            return;\n        }\n        const { event, selectedValue } = selectEvent;\n        this.selectionModel.toggle(selectedValue.id);\n        const selectedIds = this.selectionModel.selected;\n        if (this.multiple) {\n            const _selectedValue = this.getGanttItems(selectedIds).map((item) => item.origin);\n            this.selectedChange.emit({ event, selectedValue: _selectedValue });\n        }\n        else {\n            const _selectedValue = this.getGanttItem(selectedIds[0])?.origin;\n            this.selectedChange.emit({ event, selectedValue: _selectedValue });\n        }\n    }\n    scrollToToday() {\n        this.ganttRoot.scrollToToday();\n    }\n    scrollToDate(date) {\n        this.ganttRoot.scrollToDate(date);\n    }\n    scrolledIndexChange(index) {\n        this.virtualScrolledIndexChange.emit({\n            index,\n            renderedRange: {\n                start: this.rangeStart,\n                end: this.rangeEnd\n            },\n            count: this.flatItems.length\n        });\n    }\n    expandGroups(expanded) {\n        this.groups.forEach((group) => {\n            group.setExpand(expanded);\n        });\n        this.afterExpand();\n        this.expandChange.next(null);\n        this.cdr.detectChanges();\n    }\n    expandGroup(group) {\n        group.setExpand(!group.expanded);\n        this.afterExpand();\n        this.expandChange.emit();\n        this.cdr.detectChanges();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttComponent, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: i0.NgZone }, { token: i1$1.ViewportRuler }, { token: GANTT_GLOBAL_CONFIG }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.0\", type: NgxGanttComponent, selector: \"ngx-gantt\", inputs: { maxLevel: \"maxLevel\", async: \"async\", childrenResolve: \"childrenResolve\", linkable: \"linkable\", loading: \"loading\", virtualScrollEnabled: \"virtualScrollEnabled\", loadingDelay: \"loadingDelay\" }, outputs: { linkDragStarted: \"linkDragStarted\", linkDragEnded: \"linkDragEnded\", lineClick: \"lineClick\", selectedChange: \"selectedChange\", virtualScrolledIndexChange: \"virtualScrolledIndexChange\" }, providers: [\n            {\n                provide: GANTT_UPPER_TOKEN,\n                useExisting: NgxGanttComponent\n            },\n            {\n                provide: GANTT_ABSTRACT_TOKEN,\n                useExisting: forwardRef(() => NgxGanttComponent)\n            }\n        ], queries: [{ propertyName: \"table\", first: true, predicate: NgxGanttTableComponent, descendants: true }, { propertyName: \"tableEmptyTemplate\", first: true, predicate: [\"tableEmpty\"], descendants: true, static: true }, { propertyName: \"footerTemplate\", first: true, predicate: [\"footer\"], descendants: true, static: true }, { propertyName: \"columns\", predicate: NgxGanttTableColumnComponent, descendants: true }], viewQueries: [{ propertyName: \"ganttRoot\", first: true, predicate: [\"ganttRoot\"], descendants: true }, { propertyName: \"virtualScroll\", first: true, predicate: CdkVirtualScrollViewport, descendants: true }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<ngx-gantt-root #ganttRoot>\\n  <div class=\\\"gantt-header\\\">\\n    <gantt-table-header #tableHeader [columns]=\\\"columns\\\"></gantt-table-header>\\n    <div class=\\\"gantt-container-header\\\">\\n      <gantt-calendar-header [style.padding-right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\"></gantt-calendar-header>\\n    </div>\\n  </div>\\n  <gantt-loader *ngIf=\\\"loading\\\"></gantt-loader>\\n\\n  <cdk-virtual-scroll-viewport\\n    class=\\\"gantt-virtual-scroll-viewport\\\"\\n    [ngClass]=\\\"{\\n      'gantt-normal-viewport': !virtualScrollEnabled,\\n      'gantt-scroll-container': virtualScrollEnabled,\\n      'with-footer': table?.tableFooterTemplate || footerTemplate\\n    }\\\"\\n    [itemSize]=\\\"styles.lineHeight\\\"\\n    [minBufferPx]=\\\"styles.lineHeight * 10\\\"\\n    [maxBufferPx]=\\\"styles.lineHeight * 20\\\"\\n    (scrolledIndexChange)=\\\"scrolledIndexChange($event)\\\"\\n  >\\n    <ng-container *cdkVirtualFor=\\\"let item of flatItems; trackBy: trackBy\\\"></ng-container>\\n    <div class=\\\"gantt-side\\\" [style.width.px]=\\\"tableHeader.tableWidth + 1\\\" [style.padding-bottom.px]=\\\"ganttRoot.horizontalScrollbarHeight\\\">\\n      <div class=\\\"gantt-side-container\\\">\\n        <div class=\\\"gantt-table\\\">\\n          <gantt-table-body\\n            [flatItems]=\\\"flatItems\\\"\\n            [viewportItems]=\\\"viewportItems\\\"\\n            [columns]=\\\"columns\\\"\\n            [groupTemplate]=\\\"groupTemplate\\\"\\n            [emptyTemplate]=\\\"table.tableEmptyTemplate || tableEmptyTemplate\\\"\\n            [rowBeforeTemplate]=\\\"table?.rowBeforeTemplate\\\"\\n            [rowAfterTemplate]=\\\"table?.rowAfterTemplate\\\"\\n            [draggable]=\\\"table.draggable\\\"\\n            [dropEnterPredicate]=\\\"table.dropEnterPredicate\\\"\\n            (dragDropped)=\\\"table.dragDropped.emit($event)\\\"\\n            (dragStarted)=\\\"table.dragStarted.emit($event)\\\"\\n            (dragEnded)=\\\"table.dragEnded.emit($event)\\\"\\n            (itemClick)=\\\"selectItem($event)\\\"\\n          >\\n          </gantt-table-body>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"gantt-container\\\">\\n      <gantt-calendar-grid\\n        [style.padding-right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\"\\n        [style.padding-bottom.px]=\\\"ganttRoot.horizontalScrollbarHeight\\\"\\n      ></gantt-calendar-grid>\\n      <div class=\\\"gantt-main\\\">\\n        <gantt-main\\n          [flatItems]=\\\"flatItems\\\"\\n          [viewportItems]=\\\"viewportItems\\\"\\n          [groupHeaderTemplate]=\\\"groupHeaderTemplate\\\"\\n          [itemTemplate]=\\\"itemTemplate\\\"\\n          [barTemplate]=\\\"barTemplate\\\"\\n          [rangeTemplate]=\\\"rangeTemplate\\\"\\n          [baselineTemplate]=\\\"baselineTemplate\\\"\\n          (barClick)=\\\"barClick.emit($event)\\\"\\n          (lineClick)=\\\"lineClick.emit($event)\\\"\\n        >\\n        </gantt-main>\\n      </div>\\n    </div>\\n  </cdk-virtual-scroll-viewport>\\n\\n  <gantt-drag-backdrop [style.left.px]=\\\"tableHeader.tableWidth + 1\\\"></gantt-drag-backdrop>\\n\\n  <div\\n    class=\\\"gantt-scrollbar\\\"\\n    [style.height.px]=\\\"ganttRoot.horizontalScrollbarHeight + 1\\\"\\n    [style.right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\"\\n  >\\n    <div\\n      [style.width.px]=\\\"tableHeader.tableWidth\\\"\\n      class=\\\"gantt-table-scrollbar\\\"\\n      [class.with-scrollbar]=\\\"ganttRoot.horizontalScrollbarHeight\\\"\\n    ></div>\\n    <div class=\\\"gantt-main-scrollbar\\\">\\n      <div class=\\\"h-100\\\" [style.width.px]=\\\"view.width\\\"></div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gantt-footer\\\" [style.right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\" [style.bottom.px]=\\\"ganttRoot.horizontalScrollbarHeight\\\">\\n    <div class=\\\"gantt-table-footer\\\" [style.width.px]=\\\"tableHeader.tableWidth + 1\\\" *ngIf=\\\"table?.tableFooterTemplate\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"table?.tableFooterTemplate\\\" [ngTemplateOutletContext]=\\\"{ columns: columns }\\\"> </ng-template>\\n    </div>\\n    <div class=\\\"gantt-container-footer\\\" *ngIf=\\\"footerTemplate\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"footerTemplate\\\"> </ng-template>\\n    </div>\\n  </div>\\n</ngx-gantt-root>\\n\", dependencies: [{ kind: \"directive\", type: i1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"directive\", type: i1$1.CdkFixedSizeVirtualScroll, selector: \"cdk-virtual-scroll-viewport[itemSize]\", inputs: [\"itemSize\", \"minBufferPx\", \"maxBufferPx\"] }, { kind: \"directive\", type: i1$1.CdkVirtualForOf, selector: \"[cdkVirtualFor][cdkVirtualForOf]\", inputs: [\"cdkVirtualForOf\", \"cdkVirtualForTrackBy\", \"cdkVirtualForTemplate\", \"cdkVirtualForTemplateCacheSize\"] }, { kind: \"component\", type: i1$1.CdkVirtualScrollViewport, selector: \"cdk-virtual-scroll-viewport\", inputs: [\"orientation\", \"appendOnly\"], outputs: [\"scrolledIndexChange\"] }, { kind: \"component\", type: GanttTableHeaderComponent, selector: \"gantt-table-header\", inputs: [\"columns\"] }, { kind: \"component\", type: GanttTableBodyComponent, selector: \"gantt-table-body\", inputs: [\"viewportItems\", \"flatItems\", \"columns\", \"groupTemplate\", \"emptyTemplate\", \"rowBeforeTemplate\", \"rowAfterTemplate\", \"draggable\", \"dropEnterPredicate\"], outputs: [\"dragDropped\", \"dragStarted\", \"dragEnded\", \"itemClick\"] }, { kind: \"component\", type: GanttMainComponent, selector: \"gantt-main\", inputs: [\"viewportItems\", \"flatItems\", \"groupHeaderTemplate\", \"itemTemplate\", \"barTemplate\", \"rangeTemplate\", \"baselineTemplate\"], outputs: [\"barClick\", \"lineClick\"] }, { kind: \"component\", type: GanttCalendarHeaderComponent, selector: \"gantt-calendar-header\" }, { kind: \"component\", type: GanttCalendarGridComponent, selector: \"gantt-calendar-grid\" }, { kind: \"component\", type: GanttLoaderComponent, selector: \"gantt-loader\" }, { kind: \"component\", type: GanttDragBackdropComponent, selector: \"gantt-drag-backdrop\" }, { kind: \"component\", type: NgxGanttRootComponent, selector: \"ngx-gantt-root\", inputs: [\"sideWidth\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-gantt', changeDetection: ChangeDetectionStrategy.OnPush, providers: [\n                        {\n                            provide: GANTT_UPPER_TOKEN,\n                            useExisting: NgxGanttComponent\n                        },\n                        {\n                            provide: GANTT_ABSTRACT_TOKEN,\n                            useExisting: forwardRef(() => NgxGanttComponent)\n                        }\n                    ], template: \"<ngx-gantt-root #ganttRoot>\\n  <div class=\\\"gantt-header\\\">\\n    <gantt-table-header #tableHeader [columns]=\\\"columns\\\"></gantt-table-header>\\n    <div class=\\\"gantt-container-header\\\">\\n      <gantt-calendar-header [style.padding-right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\"></gantt-calendar-header>\\n    </div>\\n  </div>\\n  <gantt-loader *ngIf=\\\"loading\\\"></gantt-loader>\\n\\n  <cdk-virtual-scroll-viewport\\n    class=\\\"gantt-virtual-scroll-viewport\\\"\\n    [ngClass]=\\\"{\\n      'gantt-normal-viewport': !virtualScrollEnabled,\\n      'gantt-scroll-container': virtualScrollEnabled,\\n      'with-footer': table?.tableFooterTemplate || footerTemplate\\n    }\\\"\\n    [itemSize]=\\\"styles.lineHeight\\\"\\n    [minBufferPx]=\\\"styles.lineHeight * 10\\\"\\n    [maxBufferPx]=\\\"styles.lineHeight * 20\\\"\\n    (scrolledIndexChange)=\\\"scrolledIndexChange($event)\\\"\\n  >\\n    <ng-container *cdkVirtualFor=\\\"let item of flatItems; trackBy: trackBy\\\"></ng-container>\\n    <div class=\\\"gantt-side\\\" [style.width.px]=\\\"tableHeader.tableWidth + 1\\\" [style.padding-bottom.px]=\\\"ganttRoot.horizontalScrollbarHeight\\\">\\n      <div class=\\\"gantt-side-container\\\">\\n        <div class=\\\"gantt-table\\\">\\n          <gantt-table-body\\n            [flatItems]=\\\"flatItems\\\"\\n            [viewportItems]=\\\"viewportItems\\\"\\n            [columns]=\\\"columns\\\"\\n            [groupTemplate]=\\\"groupTemplate\\\"\\n            [emptyTemplate]=\\\"table.tableEmptyTemplate || tableEmptyTemplate\\\"\\n            [rowBeforeTemplate]=\\\"table?.rowBeforeTemplate\\\"\\n            [rowAfterTemplate]=\\\"table?.rowAfterTemplate\\\"\\n            [draggable]=\\\"table.draggable\\\"\\n            [dropEnterPredicate]=\\\"table.dropEnterPredicate\\\"\\n            (dragDropped)=\\\"table.dragDropped.emit($event)\\\"\\n            (dragStarted)=\\\"table.dragStarted.emit($event)\\\"\\n            (dragEnded)=\\\"table.dragEnded.emit($event)\\\"\\n            (itemClick)=\\\"selectItem($event)\\\"\\n          >\\n          </gantt-table-body>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"gantt-container\\\">\\n      <gantt-calendar-grid\\n        [style.padding-right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\"\\n        [style.padding-bottom.px]=\\\"ganttRoot.horizontalScrollbarHeight\\\"\\n      ></gantt-calendar-grid>\\n      <div class=\\\"gantt-main\\\">\\n        <gantt-main\\n          [flatItems]=\\\"flatItems\\\"\\n          [viewportItems]=\\\"viewportItems\\\"\\n          [groupHeaderTemplate]=\\\"groupHeaderTemplate\\\"\\n          [itemTemplate]=\\\"itemTemplate\\\"\\n          [barTemplate]=\\\"barTemplate\\\"\\n          [rangeTemplate]=\\\"rangeTemplate\\\"\\n          [baselineTemplate]=\\\"baselineTemplate\\\"\\n          (barClick)=\\\"barClick.emit($event)\\\"\\n          (lineClick)=\\\"lineClick.emit($event)\\\"\\n        >\\n        </gantt-main>\\n      </div>\\n    </div>\\n  </cdk-virtual-scroll-viewport>\\n\\n  <gantt-drag-backdrop [style.left.px]=\\\"tableHeader.tableWidth + 1\\\"></gantt-drag-backdrop>\\n\\n  <div\\n    class=\\\"gantt-scrollbar\\\"\\n    [style.height.px]=\\\"ganttRoot.horizontalScrollbarHeight + 1\\\"\\n    [style.right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\"\\n  >\\n    <div\\n      [style.width.px]=\\\"tableHeader.tableWidth\\\"\\n      class=\\\"gantt-table-scrollbar\\\"\\n      [class.with-scrollbar]=\\\"ganttRoot.horizontalScrollbarHeight\\\"\\n    ></div>\\n    <div class=\\\"gantt-main-scrollbar\\\">\\n      <div class=\\\"h-100\\\" [style.width.px]=\\\"view.width\\\"></div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gantt-footer\\\" [style.right.px]=\\\"ganttRoot.verticalScrollbarWidth\\\" [style.bottom.px]=\\\"ganttRoot.horizontalScrollbarHeight\\\">\\n    <div class=\\\"gantt-table-footer\\\" [style.width.px]=\\\"tableHeader.tableWidth + 1\\\" *ngIf=\\\"table?.tableFooterTemplate\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"table?.tableFooterTemplate\\\" [ngTemplateOutletContext]=\\\"{ columns: columns }\\\"> </ng-template>\\n    </div>\\n    <div class=\\\"gantt-container-footer\\\" *ngIf=\\\"footerTemplate\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"footerTemplate\\\"> </ng-template>\\n    </div>\\n  </div>\\n</ngx-gantt-root>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i0.NgZone }, { type: i1$1.ViewportRuler }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [GANTT_GLOBAL_CONFIG]\n                }] }]; }, propDecorators: { maxLevel: [{\n                type: Input\n            }], async: [{\n                type: Input\n            }], childrenResolve: [{\n                type: Input\n            }], linkable: [{\n                type: Input\n            }], loading: [{\n                type: Input\n            }], virtualScrollEnabled: [{\n                type: Input\n            }], loadingDelay: [{\n                type: Input\n            }], linkDragStarted: [{\n                type: Output\n            }], linkDragEnded: [{\n                type: Output\n            }], lineClick: [{\n                type: Output\n            }], selectedChange: [{\n                type: Output\n            }], virtualScrolledIndexChange: [{\n                type: Output\n            }], table: [{\n                type: ContentChild,\n                args: [NgxGanttTableComponent]\n            }], columns: [{\n                type: ContentChildren,\n                args: [NgxGanttTableColumnComponent, { descendants: true }]\n            }], tableEmptyTemplate: [{\n                type: ContentChild,\n                args: ['tableEmpty', { static: true }]\n            }], ganttRoot: [{\n                type: ViewChild,\n                args: ['ganttRoot']\n            }], footerTemplate: [{\n                type: ContentChild,\n                args: ['footer', { static: true }]\n            }], virtualScroll: [{\n                type: ViewChild,\n                args: [CdkVirtualScrollViewport]\n            }] } });\n\nclass NgxGanttModule {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttModule, declarations: [NgxGanttComponent,\n            NgxGanttTableComponent,\n            NgxGanttTableColumnComponent,\n            GanttTableHeaderComponent,\n            GanttTableBodyComponent,\n            GanttMainComponent,\n            GanttCalendarHeaderComponent,\n            GanttCalendarGridComponent,\n            GanttLinksComponent,\n            GanttLoaderComponent,\n            NgxGanttBarComponent,\n            GanttIconComponent,\n            GanttDragBackdropComponent,\n            NgxGanttRangeComponent,\n            NgxGanttRootComponent,\n            NgxGanttBaselineComponent,\n            NgxGanttToolbarComponent,\n            IsGanttRangeItemPipe,\n            IsGanttBarItemPipe,\n            IsGanttCustomItemPipe], imports: [CommonModule, DragDropModule, ScrollingModule], exports: [NgxGanttComponent,\n            NgxGanttTableComponent,\n            NgxGanttTableColumnComponent,\n            NgxGanttRootComponent,\n            NgxGanttBarComponent,\n            NgxGanttRangeComponent,\n            NgxGanttBaselineComponent,\n            NgxGanttToolbarComponent,\n            GanttCalendarHeaderComponent,\n            GanttCalendarGridComponent,\n            GanttDragBackdropComponent] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttModule, providers: [\n            CdkVirtualScrollViewport,\n            {\n                provide: GANTT_GLOBAL_CONFIG,\n                useValue: defaultConfig\n            }\n        ], imports: [CommonModule, DragDropModule, ScrollingModule] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.0\", ngImport: i0, type: NgxGanttModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, DragDropModule, ScrollingModule],\n                    exports: [\n                        NgxGanttComponent,\n                        NgxGanttTableComponent,\n                        NgxGanttTableColumnComponent,\n                        NgxGanttRootComponent,\n                        NgxGanttBarComponent,\n                        NgxGanttRangeComponent,\n                        NgxGanttBaselineComponent,\n                        NgxGanttToolbarComponent,\n                        GanttCalendarHeaderComponent,\n                        GanttCalendarGridComponent,\n                        GanttDragBackdropComponent\n                    ],\n                    declarations: [\n                        NgxGanttComponent,\n                        NgxGanttTableComponent,\n                        NgxGanttTableColumnComponent,\n                        GanttTableHeaderComponent,\n                        GanttTableBodyComponent,\n                        GanttMainComponent,\n                        GanttCalendarHeaderComponent,\n                        GanttCalendarGridComponent,\n                        GanttLinksComponent,\n                        GanttLoaderComponent,\n                        NgxGanttBarComponent,\n                        GanttIconComponent,\n                        GanttDragBackdropComponent,\n                        NgxGanttRangeComponent,\n                        NgxGanttRootComponent,\n                        NgxGanttBaselineComponent,\n                        NgxGanttToolbarComponent,\n                        IsGanttRangeItemPipe,\n                        IsGanttBarItemPipe,\n                        IsGanttCustomItemPipe\n                    ],\n                    providers: [\n                        CdkVirtualScrollViewport,\n                        {\n                            provide: GANTT_GLOBAL_CONFIG,\n                            useValue: defaultConfig\n                        }\n                    ]\n                }]\n        }] });\n\n/*\n * Public API Surface of gantt\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { GANTT_GLOBAL_CONFIG, GANTT_UPPER_TOKEN, GanttBarClickEvent, GanttBaselineItemInternal, GanttCalendarGridComponent, GanttCalendarHeaderComponent, GanttDate, GanttDatePoint, GanttDragBackdropComponent, GanttDragEvent, GanttGroupInternal, GanttItemInternal, GanttItemType, GanttItemUpper, GanttLineClickEvent, GanttLinkDragEvent, GanttLinkLineType, GanttLinkType, GanttLoadOnScrollEvent, GanttLoaderComponent, GanttPrintService, GanttSelectedEvent, GanttTableDragDroppedEvent, GanttTableDragEndedEvent, GanttTableDragEnterPredicateContext, GanttTableDragStartedEvent, GanttTableEvent, GanttUpper, GanttView, GanttViewType, GanttVirtualScrolledIndexChangeEvent, IsGanttBarItemPipe, IsGanttCustomItemPipe, IsGanttRangeItemPipe, LinkColors, NgxGanttBarComponent, NgxGanttBaselineComponent, NgxGanttComponent, NgxGanttModule, NgxGanttRangeComponent, NgxGanttRootComponent, NgxGanttTableColumnComponent, NgxGanttTableComponent, NgxGanttToolbarComponent, defaultConfig, ganttViews, primaryDatePointTop, registerView, secondaryDatePointTop };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}