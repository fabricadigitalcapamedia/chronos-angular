{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-toastr\";\nimport * as i2 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i3 from \"@angular/cdk/clipboard\";\nimport * as i4 from \"../../../home/service/generate-json.service\";\nimport * as i5 from \"@angular/common\";\nclass ModalJsonComponent {\n  constructor(toastr, activeModal, clipboard, generateService) {\n    this.toastr = toastr;\n    this.activeModal = activeModal;\n    this.clipboard = clipboard;\n    this.generateService = generateService;\n    this.mensaje = 'Copiar';\n  }\n  copyToClipboard() {\n    const jsonDataAsString = JSON.stringify(this.data, null, 2);\n    this.clipboard.copy(jsonDataAsString);\n    this.mensaje = 'Copiado';\n  }\n  exportarAJSON() {\n    // Convierte el objeto a una cadena JSON\n    const datosJSON = JSON.stringify(this.data, null, 2);\n    const blob = new Blob([datosJSON], {\n      type: 'application/json'\n    });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = this.data.nameservice + '.json';\n    a.style.display = 'none';\n    document.body.appendChild(a);\n    a.click();\n    window.URL.revokeObjectURL(url);\n    this.save();\n  }\n  save() {\n    let obj = {\n      \"nameService\": this.data.nameservice,\n      \"json\": JSON.stringify(this.data, null, 2),\n      \"fechaCreacion\": new Date().toISOString().slice(0, 19),\n      \"fechaModificacion\": new Date().toISOString().slice(0, 19)\n    };\n    if (this.data.id === 0) {\n      this.generateService.createItem(obj).subscribe(response => {\n        this.toastr.success(response.mensaje);\n      });\n    } else {\n      this.generateService.updateItem(this.data.id, obj).subscribe(response => {\n        this.toastr.success(response.mensaje);\n      });\n    }\n  }\n  static #_ = this.ɵfac = function ModalJsonComponent_Factory(t) {\n    return new (t || ModalJsonComponent)(i0.ɵɵdirectiveInject(i1.ToastrService), i0.ɵɵdirectiveInject(i2.NgbActiveModal), i0.ɵɵdirectiveInject(i3.Clipboard), i0.ɵɵdirectiveInject(i4.GenerateJsonService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ModalJsonComponent,\n    selectors: [[\"app-modal-json\"]],\n    inputs: {\n      data: \"data\"\n    },\n    decls: 14,\n    vars: 4,\n    consts: [[\"data-aos\", \"flip-left\", 1, \"modal-header\"], [1, \"modal-title\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"modal-body\"], [1, \"modal-footer\"]],\n    template: function ModalJsonComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\", 1);\n        i0.ɵɵtext(2, \"Informaci\\u00F3n del Servicio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ModalJsonComponent_Template_button_click_3_listener() {\n          return ctx.activeModal.close(\"Close click\");\n        });\n        i0.ɵɵtext(4, \"X\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"pre\");\n        i0.ɵɵtext(7);\n        i0.ɵɵpipe(8, \"json\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 4)(10, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ModalJsonComponent_Template_button_click_10_listener() {\n          return ctx.exportarAJSON();\n        });\n        i0.ɵɵtext(11, \"Exportar Json\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ModalJsonComponent_Template_button_click_12_listener() {\n          return ctx.copyToClipboard();\n        });\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 2, ctx.data));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.mensaje);\n      }\n    },\n    dependencies: [i5.JsonPipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}\nexport { ModalJsonComponent };","map":{"version":3,"names":["ModalJsonComponent","constructor","toastr","activeModal","clipboard","generateService","mensaje","copyToClipboard","jsonDataAsString","JSON","stringify","data","copy","exportarAJSON","datosJSON","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","nameservice","style","display","body","appendChild","click","revokeObjectURL","save","obj","Date","toISOString","slice","id","createItem","subscribe","response","success","updateItem","_","i0","ɵɵdirectiveInject","i1","ToastrService","i2","NgbActiveModal","i3","Clipboard","i4","GenerateJsonService","_2","selectors","inputs","decls","vars","consts","template","ModalJsonComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ModalJsonComponent_Template_button_click_3_listener","close","ModalJsonComponent_Template_button_click_10_listener","ModalJsonComponent_Template_button_click_12_listener","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1"],"sources":["C:\\Claro\\chronos-angular\\src\\app\\module\\home\\partial\\modal-json\\modal-json.component.ts","C:\\Claro\\chronos-angular\\src\\app\\module\\home\\partial\\modal-json\\modal-json.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Clipboard } from '@angular/cdk/clipboard';\nimport { GenerateJsonService } from '../../../home/service/generate-json.service';\nimport { ToastrService } from 'ngx-toastr';\n\n\n\n@Component({\n  selector: 'app-modal-json',\n  templateUrl: './modal-json.component.html',\n  styleUrls: ['./modal-json.component.css']\n})\nexport class ModalJsonComponent {\n  @Input() data: any; // Declaración de la propiedad de entrada data\n  constructor(private toastr: ToastrService,public activeModal: NgbActiveModal, private clipboard: Clipboard, private generateService: GenerateJsonService) { }\n  mensaje: any = 'Copiar';\n\n  copyToClipboard() {\n    const jsonDataAsString = JSON.stringify(this.data, null, 2);\n    this.clipboard.copy(jsonDataAsString);\n    this.mensaje = 'Copiado';\n  }\n\n  exportarAJSON() {\n    // Convierte el objeto a una cadena JSON\n    const datosJSON = JSON.stringify(this.data, null, 2);\n    const blob = new Blob([datosJSON], { type: 'application/json' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = this.data.nameservice + '.json';\n    a.style.display = 'none';\n    document.body.appendChild(a);\n    a.click();\n    window.URL.revokeObjectURL(url);\n    this.save();\n  }\n\n  save() {\n\n    let obj = {\n      \"nameService\": this.data.nameservice,\n      \"json\": JSON.stringify(this.data, null, 2),\n      \"fechaCreacion\": new Date().toISOString().slice(0, 19),\n      \"fechaModificacion\": new Date().toISOString().slice(0, 19)\n    }\n    if (this.data.id === 0) {\n      this.generateService.createItem(obj).subscribe((response) => {\n        this.toastr.success(response.mensaje)\n      });\n    }\n    else{\n      this.generateService.updateItem(this.data.id,obj).subscribe((response) => {        \n        this.toastr.success(response.mensaje)\n      });\n    }\n  }\n}\n\n","<!-- modal-content.component.html -->\n<div class=\"modal-header\"  data-aos=\"flip-left\">\n  <h4 class=\"modal-title\">Información del Servicio</h4>\n  <button class=\"btn btn-secondary\" (click)=\"activeModal.close('Close click')\">X</button>\n</div>\n<div class=\"modal-body\">\n  <pre>{{ data | json }}</pre>\n</div>\n<div class=\"modal-footer\">\n  <button class=\"btn btn-secondary\" (click)=\"exportarAJSON()\">Exportar Json</button>\n  <button class=\"btn btn-secondary\" (click)=\"copyToClipboard()\">{{ mensaje}}</button>\n</div>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}